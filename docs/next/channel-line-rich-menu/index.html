<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Bottender RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Bottender Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-70309045-11"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-70309045-11",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Bottender" href="/opensearch.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:700|Roboto&display=swap">
<link rel="stylesheet" href="/css/custom.css">
<link rel="stylesheet" href="/css/code-blocks-buttons.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
<script src="/js/code-blocks-buttons.js"></script>
<script src="/js/sw.js"></script><title data-react-helmet="true">LINE Rich Menu | Bottender</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://bottender.js.org/img/og-image.png"><meta data-react-helmet="true" name="twitter:image" content="https://bottender.js.org/img/og-image.png"><meta data-react-helmet="true" property="og:url" content="https://bottender.js.org/docs/next/channel-line-rich-menu"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="LINE Rich Menu | Bottender"><meta data-react-helmet="true" name="description" content="What is Rich Menu"><meta data-react-helmet="true" property="og:description" content="What is Rich Menu"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon-192x192.png"><link data-react-helmet="true" rel="canonical" href="https://bottender.js.org/docs/next/channel-line-rich-menu"><link data-react-helmet="true" rel="alternate" href="https://bottender.js.org/docs/next/channel-line-rich-menu" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://bottender.js.org/docs/next/channel-line-rich-menu" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.1d7f043a.css">
<link rel="preload" href="/assets/js/runtime~main.8cef09f0.js" as="script">
<link rel="preload" href="/assets/js/main.e400ab9e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title">Bottender</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/docs/api-context">API</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/users">Users</a><a href="https://github.com/Yoctol/bottender/tree/master/examples" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Examples<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/yoctol/bottender" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link" href="/docs">Version</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/">1.5</a></li><li><a class="dropdown__link" href="/docs/1.4/">1.4</a></li><li><a class="dropdown__link" href="/docs/1.3.1/">1.3.1</a></li><li><a class="dropdown__link" href="/docs/1.3.0/">1.3.0</a></li><li><a class="dropdown__link" href="/docs/1.2.0/">1.2.0</a></li><li><a class="dropdown__link" href="/docs/1.1.0/">1.1.0</a></li><li><a class="dropdown__link" href="/docs/1.0.5/">1.0.5</a></li><li><a class="dropdown__link" href="/docs/0.15.17/">0.15.17</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/next/">Main/Unreleased</a></li></ul></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">The Basics</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Advanced Guides</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Guides (Messenger)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Guides (WhatsApp)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Guides (LINE)</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/channel-line-setup">LINE Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/channel-line-handling-events">Handling LINE Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/channel-line-sending-messages">Sending LINE Messages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/channel-line-routing">LINE Routing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/channel-line-flex">Flex Messages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/next/channel-line-rich-menu">LINE Rich Menu</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/channel-line-liff">LINE Front-end Framework (LIFF)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/channel-line-notify">LINE Notify</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/channel-line-errors">Error Handling in LINE</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/channel-line-migrating-from-sdk">Migrating from LINE SDK for Node.js</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Guides (Slack)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Guides (Telegram)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Guides (Viber)</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Bottender<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/channel-line-rich-menu">latest version</a></b> (<!-- -->1.5<!-- -->).</div></div><div class="docItemContainer_33ec"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->Next</span><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>LINE Rich Menu</h1></header><h2 class="anchor anchorWithStickyNavbar_31ik" id="what-is-rich-menu">What is Rich Menu<a aria-hidden="true" class="hash-link" href="#what-is-rich-menu" title="Direct link to heading">​</a></h2><p>Rich menu is a customizable menu that is displayed on the chat screen to help users interact with your LINE official account. For further information, you can check out the <a href="https://developers.line.biz/en/docs/messaging-api/using-rich-menus" target="_blank" rel="noopener noreferrer">Official Document</a>.</p><p>There are four steps to set up a rich menu for your users:</p><ol><li>Prepare a rich menu image</li><li>Create a rich menu</li><li>Upload the rich menu image</li><li>Link the rich menu to users</li></ol><h2 class="anchor anchorWithStickyNavbar_31ik" id="prepare-a-rich-menu-image">Prepare a Rich Menu Image<a aria-hidden="true" class="hash-link" href="#prepare-a-rich-menu-image" title="Direct link to heading">​</a></h2><p>A rich menu image is an image file. You can define up to 20 different tappable areas in the image. Here&#x27;s an example rich menu image:</p><p><img src="https://i.imgur.com/SVQcKTE.jpg" alt="Rich menu example"></p><p>In this image, there&#x27;re six simple buttons. We will define the tappable areas of these buttons in the next step.</p><p>Also, remember your rich menu image must follow these requirements:</p><ul><li>Image format: JPEG or PNG</li><li>Image size (pixels): 2500x1686, 2500x843, 1200x810, 1200x405, 800x540, 800x270</li><li>Maximum file size: 1 MB</li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="create-a-rich-menu">Create a Rich Menu<a aria-hidden="true" class="hash-link" href="#create-a-rich-menu" title="Direct link to heading">​</a></h2><p>Before you create a rich menu, you have to create a <a href="https://developers.line.biz/en/reference/messaging-api/#rich-menu-object" target="_blank" rel="noopener noreferrer">rich menu object</a> which defines the menu&#x27;s size, tappable areas, etc.</p><p>Next, you can create a rich menu by sending an HTTP POST request to the <code>https://api.line.me/v2/bot/richmenu</code> endpoint. You have to put your rich menu object in the body and your channel access token in the <code>Authorization</code> header.</p><p>Here&#x27;s an example request:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -v -X POST https://api.line.me/v2/bot/richmenu \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -H &#x27;Authorization: Bearer {channel access token}&#x27; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -H &#x27;Content-Type:application/json&#x27; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -d \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;size&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;width&quot;:2500,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;height&quot;:1686</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;selected&quot;:false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;name&quot;:&quot;Controller&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;chatBarText&quot;:&quot;Controller&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;areas&quot;:[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;bounds&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;x&quot;:551,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;y&quot;:325,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;width&quot;:321,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;height&quot;:321</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;action&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;type&quot;:&quot;message&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;text&quot;:&quot;up&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;bounds&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;x&quot;:876,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;y&quot;:651,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;width&quot;:321,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;height&quot;:321</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;action&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;type&quot;:&quot;message&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;text&quot;:&quot;right&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;bounds&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;x&quot;:551,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;y&quot;:972,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;width&quot;:321,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;height&quot;:321</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;action&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;type&quot;:&quot;message&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;text&quot;:&quot;down&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;bounds&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;x&quot;:225,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;y&quot;:651,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;width&quot;:321,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;height&quot;:321</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;action&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;type&quot;:&quot;message&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;text&quot;:&quot;left&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;bounds&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;x&quot;:1433,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;y&quot;:657,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;width&quot;:367,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;height&quot;:367</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;action&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;type&quot;:&quot;message&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;text&quot;:&quot;btn b&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;bounds&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;x&quot;:1907,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;y&quot;:657,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;width&quot;:367,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;height&quot;:367</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;action&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;type&quot;:&quot;message&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;text&quot;:&quot;btn a&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If you successfully create a rich menu, you get a response with a rich menu ID.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="upload-the-rich-menu-image">Upload the Rich Menu Image<a aria-hidden="true" class="hash-link" href="#upload-the-rich-menu-image" title="Direct link to heading">​</a></h2><p>Next, you can upload the rich menu image you prepared in the first step. Again, you upload the image by sending an HTTP POST request to the <code>https://api-data.line.me/v2/bot/richmenu/{richMenuId}/content</code> endpoint. Specify the rich menu ID you just got in the <code>richMenuId</code> path parameter.</p><p>Here&#x27;s an example request:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -v -X POST https://api-data.line.me/v2/bot/richmenu/{richMenuId}/content \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-H &quot;Authorization: Bearer {channel access token}&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-H &quot;Content-Type: image/jpeg&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-T rich_menu.jpg</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="link-the-rich-menu-to-users">Link the Rich Menu to Users<a aria-hidden="true" class="hash-link" href="#link-the-rich-menu-to-users" title="Direct link to heading">​</a></h2><p>In the above three steps, you have finished all the set up for a rich menu. Now, you can link the menu to the users. You can either set a rich menu as the default rich menu for all the users or link a rich menu to an individual user.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="set-the-default-rich-menu">Set the Default Rich Menu<a aria-hidden="true" class="hash-link" href="#set-the-default-rich-menu" title="Direct link to heading">​</a></h3><p>To set the default rich menu, you can send an HTTP POST request to the <code>https://api.line.me/v2/bot/user/all/richmenu/{richMenuId}</code> endpoint.</p><p>Here&#x27;s an example request:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -v -X POST https://api.line.me/v2/bot/user/all/richmenu/{richMenuId} \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-H &quot;Authorization: Bearer {channel access token}&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="link-a-rich-menu-to-an-individual-user">Link a Rich Menu to an Individual User<a aria-hidden="true" class="hash-link" href="#link-a-rich-menu-to-an-individual-user" title="Direct link to heading">​</a></h3><p>To link a rich menu to an individual user, you can do it using Bottender when handling a user&#x27;s event:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword control-flow" style="font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">linkRichMenu</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;rich-menu-id&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>And to unlink a rich menu from a user, you can use:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword control-flow" style="font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">unlinkRichMenu</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Still, you can link and unlink a rich menu by sending an HTTP POST request to the <code>https://api.line.me/v2/bot/user/{userId}/richmenu/{richMenuId}</code> and <code>https://api.line.me/v2/bot/richmenu/bulk/unlink</code> endpoints.</p><p>Here&#x27;re example requests:</p><p><code>link</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -v -X POST https://api.line.me/v2/bot/user/{userId}/richmenu/{richMenuId} \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-H &quot;Authorization: Bearer {channel access token}&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><code>unlink</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -v -X POST https://api.line.me/v2/bot/richmenu/bulk/unlink \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-H &quot;Authorization: Bearer {channel access token}&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-d &#x27;{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;userIds&quot;:[&quot;{userId1}&quot;,&quot;{userId2}&quot;]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>After you linked a rich menu to a user, you can get the rich menu ID later using Bottender:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">App</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> richMenu </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getLinkedRichMenu</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">richMenu</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// {</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   richMenuId: &quot;rich-menu-id&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You can check out the full example <a href="https://github.com/Yoctol/bottender/tree/master/examples/line-rich-menu" target="_blank" rel="noopener noreferrer">Here</a>.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="set-up-submenu">Set Up Submenu<a aria-hidden="true" class="hash-link" href="#set-up-submenu" title="Direct link to heading">​</a></h2><p>In addition to using only one image as our rich menu, we can use multiple images to create a rich menu with several submenus. We can implement this by creating multiple rich menu objects and link them to the user dynamically with Bottender. Here, we have an example that defines two submenus under a main rich menu.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="prepare-rich-menu-images">Prepare Rich Menu Images<a aria-hidden="true" class="hash-link" href="#prepare-rich-menu-images" title="Direct link to heading">​</a></h3><p>Here are the three rich menu images we use to create a rich menu with two submenus. The logic is pretty simple: when we click the option on the main menu, we will get to the corresponding submenu. And when we click the back option on the submenu, we will go back to the main menu.</p><p><code>Main Menu</code>
<img src="https://user-images.githubusercontent.com/32091985/70420536-ebb8c380-1aa2-11ea-9ad5-48c2c9599f84.jpg" alt="main menu"></p><p><code>Submenu A</code>
<img src="https://user-images.githubusercontent.com/32091985/70420537-ec515a00-1aa2-11ea-9d40-ddb1bff0cd53.jpg" alt="submenu A"></p><p><code>Submenu B</code>
<img src="https://user-images.githubusercontent.com/32091985/70420538-ec515a00-1aa2-11ea-89e8-6570c25a464e.jpg" alt="submenu B"></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="create-and-upload-rich-menu">Create and Upload Rich Menu<a aria-hidden="true" class="hash-link" href="#create-and-upload-rich-menu" title="Direct link to heading">​</a></h3><p>Next, we have to create three rich menu objects using the images we have above.</p><p>Here are the example requests for creating the main menu and its submenus:</p><p>Main Menu:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl --request POST \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --url https://api.line.me/v2/bot/richmenu \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --header &#x27;authorization: Bearer {channel access token}&#x27; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --header &#x27;content-type: application/json&#x27; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --data &#x27;{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;size&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;width&quot;:2500,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;height&quot;:1686</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;selected&quot;:false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;name&quot;:&quot;Controller&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;chatBarText&quot;:&quot;Controller&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;areas&quot;:[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;bounds&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;x&quot;:0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;y&quot;:0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;width&quot;:1250,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;height&quot;:1686</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;action&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;type&quot;:&quot;message&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;text&quot;:&quot;A&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;bounds&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;x&quot;:1250,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;y&quot;:0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;width&quot;:1250,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;height&quot;:1686</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;action&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;type&quot;:&quot;message&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;text&quot;:&quot;B&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Submenu A:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl --request POST \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --url https://api.line.me/v2/bot/richmenu \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --header &#x27;authorization: Bearer {channel access token}&#x27; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --header &#x27;content-type: application/json&#x27; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --data &#x27;{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;size&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;width&quot;:2500,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;height&quot;:1686</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;selected&quot;:false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;name&quot;:&quot;Controller&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;chatBarText&quot;:&quot;Controller&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;areas&quot;:[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;bounds&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;x&quot;:0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;y&quot;:0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;width&quot;:2500,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;height&quot;:843</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;action&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;type&quot;:&quot;message&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;text&quot;:&quot;Back&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;bounds&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;x&quot;:0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;y&quot;:843,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;width&quot;:1250,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;height&quot;:843</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;action&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;type&quot;:&quot;message&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;text&quot;:&quot;A1&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;bounds&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;x&quot;:1250,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;y&quot;:843,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;width&quot;:1250,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;height&quot;:843</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;action&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;type&quot;:&quot;message&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;text&quot;:&quot;A2&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Submenu B:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl --request POST \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --url https://api.line.me/v2/bot/richmenu \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --header &#x27;authorization: Bearer {channel access token}&#x27; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --header &#x27;content-type: application/json&#x27; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --data &#x27;{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;size&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;width&quot;:2500,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;height&quot;:1686</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;selected&quot;:false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;name&quot;:&quot;Controller&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;chatBarText&quot;:&quot;Controller&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;areas&quot;:[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;bounds&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;x&quot;:0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;y&quot;:0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;width&quot;:2500,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;height&quot;:843</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;action&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;type&quot;:&quot;message&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;text&quot;:&quot;Back&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;bounds&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;x&quot;:0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;y&quot;:843,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;width&quot;:1250,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;height&quot;:843</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;action&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;type&quot;:&quot;message&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;text&quot;:&quot;B1&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;bounds&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;x&quot;:1250,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;y&quot;:843,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;width&quot;:1250,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;height&quot;:843</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;action&quot;:{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;type&quot;:&quot;message&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;text&quot;:&quot;B2&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If you successfully create these rich menu objects, you will get three rich menu IDs in their responses. Then we can upload the rich menu images according to these IDs.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -v -X POST https://api-data.line.me/v2/bot/richmenu/{richMenuId}/content \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-H &quot;Authorization: Bearer {channel access token}&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-H &quot;Content-Type: image/jpeg&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-T rich_menu_image.jpg</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="switch-between-the-main-menu-and-submenus">Switch Between the Main Menu and Submenus<a aria-hidden="true" class="hash-link" href="#switch-between-the-main-menu-and-submenus" title="Direct link to heading">​</a></h3><p>Now we set up three rich menus and get their rich menu ID. We first put each menu ID into the <code>.env</code> file in our Bottender project.</p><p><code>.env</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">LINE_ACCESS_TOKEN=</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">LINE_CHANNEL_SECRET=</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">MAIN_RICH_MENU_ID=</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">SUB_RICH_MENU_A_ID=</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">SUB_RICH_MENU_B_ID=</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Next, we can check which button on our rich has been clicked by the user and switch between the main rich menu and its submenu using <code>context.linkRichMenu(RICH_MENU_ID)</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method-variable function-variable method function property-access" style="color:rgb(130, 170, 255)">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">App</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">text</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;A&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">linkRichMenu</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">process</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">SUB_RICH_MENU_A_ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">text</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;B&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">linkRichMenu</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">process</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">SUB_RICH_MENU_B_ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">text</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Back&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">linkRichMenu</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">process</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">MAIN_RICH_MENU_ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">sendText</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">User have clicked </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">context</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token template-string interpolation">event</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token template-string interpolation">text</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>By doing so, we successfully create a rich menu with multiple submenus. You can set up a more complicated submenu using the same method.</p><p>For the full submenu example, checked out <a href="https://github.com/Yoctol/bottender/tree/master/examples/line-rich-menu-submenu" target="_blank" rel="noopener noreferrer">LINE Rich Menu Submenu Example</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Yoctol/bottender/edit/master/docs/../docs/channel-line-rich-menu.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2020-04-08T12:26:27.000Z">4/8/2020</time></b> by <b>etrex</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/next/channel-line-flex"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->Flex Messages</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/next/channel-line-liff"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">LINE Front-end Framework (LIFF)<!-- --> »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-rich-menu" class="table-of-contents__link toc-highlight">What is Rich Menu</a></li><li><a href="#prepare-a-rich-menu-image" class="table-of-contents__link toc-highlight">Prepare a Rich Menu Image</a></li><li><a href="#create-a-rich-menu" class="table-of-contents__link toc-highlight">Create a Rich Menu</a></li><li><a href="#upload-the-rich-menu-image" class="table-of-contents__link toc-highlight">Upload the Rich Menu Image</a></li><li><a href="#link-the-rich-menu-to-users" class="table-of-contents__link toc-highlight">Link the Rich Menu to Users</a><ul><li><a href="#set-the-default-rich-menu" class="table-of-contents__link toc-highlight">Set the Default Rich Menu</a></li><li><a href="#link-a-rich-menu-to-an-individual-user" class="table-of-contents__link toc-highlight">Link a Rich Menu to an Individual User</a></li></ul></li><li><a href="#set-up-submenu" class="table-of-contents__link toc-highlight">Set Up Submenu</a><ul><li><a href="#prepare-rich-menu-images" class="table-of-contents__link toc-highlight">Prepare Rich Menu Images</a></li><li><a href="#create-and-upload-rich-menu" class="table-of-contents__link toc-highlight">Create and Upload Rich Menu</a></li><li><a href="#switch-between-the-main-menu-and-submenus" class="table-of-contents__link toc-highlight">Switch Between the Main Menu and Submenus</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/bottenderjs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/bottender.svg" alt="" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/img/bottender.svg" alt="" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></div><div class="footer__copyright">© 2019 - PRESENT YOCTOL.AI ALL RIGHTS RESERVED.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.8cef09f0.js"></script>
<script src="/assets/js/main.e400ab9e.js"></script>
</body>
</html>