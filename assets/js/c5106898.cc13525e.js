"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[43942],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>k});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),i=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},d=function(e){var t=i(e.components);return n.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),c=i(a),k=r,u=c["".concat(p,".").concat(k)]||c[k]||m[k]||l;return a?n.createElement(u,s(s({ref:t},d),{},{components:a})):n.createElement(u,s({ref:t},d))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,s=new Array(l);s[0]=c;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:r,s[1]=o;for(var i=2;i<l;i++)s[i]=a[i];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},34625:(e,t,a)=>{a.r(t),a.d(t,{frontMatter:()=>o,contentTitle:()=>p,metadata:()=>i,toc:()=>d,default:()=>c});var n=a(87462),r=a(63366),l=(a(67294),a(3905)),s=["components"],o={id:"api-messenger-context",title:"MessengerContext",original_id:"api-messenger-context"},p=void 0,i={unversionedId:"api-messenger-context",id:"version-1.0.5/api-messenger-context",isDocsHomePage:!1,title:"MessengerContext",description:"- Message Content Types",source:"@site/versioned_docs/version-1.0.5/api-messenger-context.md",sourceDirName:".",slug:"/api-messenger-context",permalink:"/docs/1.0.5/api-messenger-context",editUrl:"https://github.com/Yoctol/bottender/edit/master/docs/versioned_docs/version-1.0.5/api-messenger-context.md",tags:[],version:"1.0.5",lastUpdatedBy:"\u5433\u6771\u66c4 Wu, Dung-Ie",lastUpdatedAt:1636542901,formattedLastUpdatedAt:"11/10/2021",frontMatter:{id:"api-messenger-context",title:"MessengerContext",original_id:"api-messenger-context"},sidebar:"version-1.0.5/api",previous:{title:"Event",permalink:"/docs/1.0.5/api-event"},next:{title:"MessengerEvent",permalink:"/docs/1.0.5/api-messenger-event"}},d=[{value:"<code>sendMessage(message [, options])</code>",id:"sendmessagemessage--options",children:[],level:4},{value:"Message Content Types - Official Docs",id:"message-content-types---official-docs",children:[{value:"<code>sendText(text [, options])</code>",id:"sendtexttext--options",children:[],level:4},{value:"<code>sendAttachment(attachment [, options])</code>",id:"sendattachmentattachment--options",children:[],level:4},{value:"<code>sendAudio(audio [, options])</code>",id:"sendaudioaudio--options",children:[],level:4},{value:"<code>sendImage(image [, options])</code>",id:"sendimageimage--options",children:[],level:4},{value:"<code>sendVideo(video [, options])</code>",id:"sendvideovideo--options",children:[],level:4},{value:"<code>sendFile(file [, options])</code>",id:"sendfilefile--options",children:[],level:4}],level:3},{value:"Templates - Official Docs",id:"templates---official-docs",children:[{value:"<code>sendTemplate(template [, options])</code>",id:"sendtemplatetemplate--options",children:[],level:4},{value:"<code>sendButtonTemplate(title, buttons [, options])</code> - Official Docs",id:"sendbuttontemplatetitle-buttons--options---official-docs",children:[],level:4},{value:"<code>sendGenericTemplate(elements [, options])</code> - Official Docs",id:"sendgenerictemplateelements--options---official-docs",children:[],level:4},{value:"<code>sendMediaTemplate(elements [, options])</code> - Official Docs",id:"sendmediatemplateelements--options---official-docs",children:[],level:4},{value:"<code>sendReceiptTemplate(receipt [, options])</code> - Official Docs",id:"sendreceipttemplatereceipt--options---official-docs",children:[],level:4},{value:"<code>sendAirlineBoardingPassTemplate(attributes [, options])</code> - Official Docs",id:"sendairlineboardingpasstemplateattributes--options---official-docs",children:[],level:4},{value:"<code>sendAirlineCheckinTemplate(attributes [, options])</code> - Official Docs",id:"sendairlinecheckintemplateattributes--options---official-docs",children:[],level:4},{value:"<code>sendAirlineItineraryTemplate(attributes [, options])</code> - Official Docs",id:"sendairlineitinerarytemplateattributes--options---official-docs",children:[],level:4},{value:"<code>sendAirlineFlightUpdateTemplate(attributes [, options])</code> - Official Docs",id:"sendairlineflightupdatetemplateattributes--options---official-docs",children:[],level:4}],level:3},{value:"Quick Replies - Official Docs",id:"quick-replies---official-docs",children:[],level:3},{value:"Sender Actions - Official Docs",id:"sender-actions---official-docs",children:[{value:"<code>sendSenderAction(action)</code>",id:"sendsenderactionaction",children:[],level:4},{value:"<code>markSeen()</code>",id:"markseen",children:[],level:4},{value:"<code>typingOn()</code>",id:"typingon",children:[],level:4},{value:"<code>typingOff()</code>",id:"typingoff",children:[],level:4}],level:3},{value:"Targeting Broadcast Messages - Official Docs",id:"targeting-broadcast-messages---official-docs",children:[{value:"<code>associateLabel(labelId)</code>",id:"associatelabellabelid",children:[],level:4},{value:"<code>dissociateLabel(labelId)</code>",id:"dissociatelabellabelid",children:[],level:4},{value:"<code>getAssociatedLabels()</code>",id:"getassociatedlabels",children:[],level:4}],level:3},{value:"User Profile API - Official Docs",id:"user-profile-api---official-docs",children:[{value:"<code>getUserProfile()</code>",id:"getuserprofile",children:[],level:4}],level:3},{value:"Handover Protocol API",id:"handover-protocol-api",children:[{value:"<code>passThreadControl(targetAppId [, metadata])</code> - Official Docs",id:"passthreadcontroltargetappid--metadata---official-docs",children:[],level:4},{value:"<code>passThreadControlToPageInbox(metadata)</code> - Official Docs",id:"passthreadcontroltopageinboxmetadata---official-docs",children:[],level:4},{value:"<code>takeThreadControl(metadata)</code> - Official Docs",id:"takethreadcontrolmetadata---official-docs",children:[],level:4},{value:"<code>requestThreadControl(metadata)</code> - Official Docs",id:"requestthreadcontrolmetadata---official-docs",children:[],level:4}],level:3}],m={toc:d};function c(e){var t=e.components,a=(0,r.Z)(e,s);return(0,l.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#message-content-types"},"Message Content Types")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#templates"},"Templates")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#quick-replies"},"Quick Replies")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#sender-actions"},"Sender Actions")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#targeting-broadcast-messages"},"Targeting Broadcast Messages")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#user-profile-api"},"User Profile API")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#handover-protocol-api"},"Handover Protocol API"))),(0,l.kt)("h4",{id:"sendmessagemessage--options"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendMessage(message [, options])")),(0,l.kt)("p",null,"Send messages to the user using the ",(0,l.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"message"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#message"},"message")," object.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types")," or ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/message-tags"},"tags"),".")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendMessage({\n  text: 'Hello!',\n});\n")),(0,l.kt)("p",null,"You can specify ",(0,l.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging type")," using options. If ",(0,l.kt)("inlineCode",{parentName:"p"},"messagingType")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"tag")," is not provided, ",(0,l.kt)("inlineCode",{parentName:"p"},"UPDATE")," will be used as default messaging type."),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendMessage(\n  {\n    text: 'Hello!',\n  },\n  {\n    messagingType: 'RESPONSE',\n  }\n);\n")),(0,l.kt)("p",null,"Available messaging types:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"UPDATE")," as default"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"RESPONSE")," using ",(0,l.kt)("inlineCode",{parentName:"li"},"{ messagingType: 'RESPONSE' }")," options"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"MESSAGE_TAG")," using ",(0,l.kt)("inlineCode",{parentName:"li"},"{ tag: 'ANY_TAG' }")," options")),(0,l.kt)("br",null),(0,l.kt)("a",{id:"message-content-types"}),(0,l.kt)("h3",{id:"message-content-types---official-docs"},"Message Content Types - ",(0,l.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#content_types"},"Official Docs")),(0,l.kt)("h4",{id:"sendtexttext--options"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendText(text [, options])")),(0,l.kt)("p",null,"Send plain text messages to the user using the ",(0,l.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"text"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Text of the message to be sent.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types")," or ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/message-tags"},"tags"),".")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendText('Hello!');\n")),(0,l.kt)("p",null,"With ",(0,l.kt)("inlineCode",{parentName:"p"},"CONFIRMED_EVENT_UPDATE")," tag:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendText('Hello!', { tag: 'CONFIRMED_EVENT_UPDATE' });\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendattachmentattachment--options"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendAttachment(attachment [, options])")),(0,l.kt)("p",null,"Send attachment messages to the user using the ",(0,l.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"attachment"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#attachment"},"attachment")," object.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types")," or ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/message-tags"},"tags"),".")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendAttachment({\n  type: 'image',\n  payload: {\n    url: 'https://example.com/pic.png',\n  },\n});\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendaudioaudio--options"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendAudio(audio [, options])")),(0,l.kt)("p",null,"Send sounds to the user by uploading them or sharing a URL using the ",(0,l.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"audio"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("code",null,"String ","|"," Buffer ","|"," ReadStream ","|"," AttachmentPayload")),(0,l.kt)("td",{parentName:"tr",align:null},"The audio to be sent.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Send audio using url string:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendAudio('https://example.com/audio.mp3');\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Use ",(0,l.kt)("inlineCode",{parentName:"li"},"AttachmentPayload")," to send cached attachment:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendAudio({ attachmentId: '55688' });\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Use ",(0,l.kt)("inlineCode",{parentName:"li"},"ReadStream")," created from local file:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"const fs = require('fs');\n\ncontext.sendAudio(fs.createReadStream('audio.mp3'));\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendimageimage--options"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendImage(image [, options])")),(0,l.kt)("p",null,"Send images to the user by uploading them or sharing a URL using the ",(0,l.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),". Supported formats are jpg, png and gif."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"image"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("code",null,"String ","|"," Buffer ","|"," ReadStream ","|"," AttachmentPayload")),(0,l.kt)("td",{parentName:"tr",align:null},"The image to be sent.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Send image using url string:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendImage('https://example.com/vr.jpg');\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Use ",(0,l.kt)("inlineCode",{parentName:"li"},"AttachmentPayload")," to send cached attachment:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendImage({ attachmentId: '55688' });\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Use ",(0,l.kt)("inlineCode",{parentName:"li"},"ReadStream")," created from local file:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"const fs = require('fs');\n\ncontext.sendImage(fs.createReadStream('vr.jpg'));\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendvideovideo--options"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendVideo(video [, options])")),(0,l.kt)("p",null,"Send videos to the user by uploading them or sharing a URL using the ",(0,l.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"video"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("code",null,"String ","|"," Buffer ","|"," ReadStream ","|"," AttachmentPayload")),(0,l.kt)("td",{parentName:"tr",align:null},"The video to be sent.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Send video using url string:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendVideo('https://example.com/video.mp4');\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Use ",(0,l.kt)("inlineCode",{parentName:"li"},"AttachmentPayload")," to send cached attachment:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendVideo({ attachmentId: '55688' });\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Use ",(0,l.kt)("inlineCode",{parentName:"li"},"ReadStream")," created from local file:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"const fs = require('fs');\n\ncontext.sendVideo(fs.createReadStream('video.mp4'));\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendfilefile--options"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendFile(file [, options])")),(0,l.kt)("p",null,"Send files to the user by uploading them or sharing a URL using the ",(0,l.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"file"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("code",null,"String ","|"," Buffer ","|"," ReadStream ","|"," AttachmentPayload")),(0,l.kt)("td",{parentName:"tr",align:null},"The file to be sent.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Send file using url string:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendFile('https://example.com/receipt.pdf');\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Use ",(0,l.kt)("inlineCode",{parentName:"li"},"AttachmentPayload")," to send cached attachment:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendFile({ attachmentId: '55688' });\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Use ",(0,l.kt)("inlineCode",{parentName:"li"},"ReadStream")," created from local file:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"const fs = require('fs');\n\ncontext.sendFile(fs.createReadStream('receipt.pdf'));\n")),(0,l.kt)("br",null),(0,l.kt)("a",{id:"templates"}),(0,l.kt)("h3",{id:"templates---official-docs"},"Templates - ",(0,l.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/templates"},"Official Docs")),(0,l.kt)("h4",{id:"sendtemplatetemplate--options"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendTemplate(template [, options])")),(0,l.kt)("p",null,"Send structured message templates to the user using the ",(0,l.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"template"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Object of the template.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types")," or ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/message-tags"},"tags"),".")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendTemplate({\n  templateType: 'button',\n  text: 'title',\n  buttons: [\n    {\n      type: 'postback',\n      title: 'Start Chatting',\n      payload: 'USER_DEFINED_PAYLOAD',\n    },\n  ],\n});\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendbuttontemplatetitle-buttons--options---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendButtonTemplate(title, buttons [, options])")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/button-template"},"Official Docs")),(0,l.kt)("p",null,"Send button message templates to the user using the ",(0,l.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,l.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37410664-0b80b080-27dc-11e8-8854-4408d6f32fdf.png",alt:"sendButtonTemplate",width:"250"}),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"title"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Text that appears above the buttons.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"buttons"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object[]")),(0,l.kt)("td",{parentName:"tr",align:null},"Array of ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/template/button#button"},"button"),". Set of 1-3 buttons that appear as call-to-actions.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendButtonTemplate('What do you want to do next?', [\n  {\n    type: 'web_url',\n    url: 'https://petersapparel.parseapp.com',\n    title: 'Show Website',\n  },\n  {\n    type: 'postback',\n    title: 'Start Chatting',\n    payload: 'USER_DEFINED_PAYLOAD',\n  },\n]);\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendgenerictemplateelements--options---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendGenericTemplate(elements [, options])")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/generic-template"},"Official Docs")),(0,l.kt)("p",null,"Send generic message templates to the user using the ",(0,l.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,l.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37410502-bf948426-27db-11e8-8c9d-7fd6158d0cc2.png",alt:"sendGenericTemplate",width:"750"}),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"elements"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object[]")),(0,l.kt)("td",{parentName:"tr",align:null},"Array of ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/template/generic#element"},"element"),". Data for each bubble in message.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters, such as ",(0,l.kt)("inlineCode",{parentName:"td"},"imageAspectRatio"),", ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types")," and ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/message-tags"},"tags"),".")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendGenericTemplate(\n  [\n    {\n      title: \"Welcome to Peter's Hats\",\n      imageUrl: 'https://petersfancybrownhats.com/company_image.png',\n      subtitle: \"We've got the right hat for everyone.\",\n      defaultAction: {\n        type: 'web_url',\n        url: 'https://peterssendreceiveapp.ngrok.io/view?item=103',\n        messengerExtensions: true,\n        webviewHeightRatio: 'tall',\n        fallbackUrl: 'https://peterssendreceiveapp.ngrok.io/',\n      },\n      buttons: [\n        {\n          type: 'postback',\n          title: 'Start Chatting',\n          payload: 'DEVELOPER_DEFINED_PAYLOAD',\n        },\n      ],\n    },\n  ],\n  { imageAspectRatio: 'square' }\n);\n")),(0,l.kt)("p",null,"Adding a ",(0,l.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/message-tags"},"tag")," to a message allows you to send it outside the 24+1 window, for a limited number of use cases, per ",(0,l.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/policy-overview"},"Messenger Platform policy"),"."),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendGenericTemplate(\n  [\n    {\n      // ...\n    },\n  ],\n  { tag: 'CONFIRMED_EVENT_UPDATE' }\n);\n")),(0,l.kt)("p",null,"Available tags:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"CONFIRMED_EVENT_UPDATE")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"POST_PURCHASE_UPDATE")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ACCOUNT_UPDATE")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"HUMAN_AGENT"))),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendmediatemplateelements--options---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendMediaTemplate(elements [, options])")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/template/media"},"Official Docs")),(0,l.kt)("p",null,"Send media message templates to the user using the ",(0,l.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,l.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37410836-64249ada-27dc-11e8-8dc4-5a155916961a.png",alt:"sendMediaTemplate",width:"250"}),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"elements"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object[]")),(0,l.kt)("td",{parentName:"tr",align:null},"Array of ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/reference/template/media#payload"},"element"),". Only one element is allowed.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendMediaTemplate([\n  {\n    mediaType: 'image',\n    attachmentId: '1854626884821032',\n    buttons: [\n      {\n        type: 'web_url',\n        url: 'https://en.wikipedia.org/wiki/Rickrolling',\n        title: 'View Website',\n      },\n    ],\n  },\n]);\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendreceipttemplatereceipt--options---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendReceiptTemplate(receipt [, options])")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/receipt-template"},"Official Docs")),(0,l.kt)("p",null,"Send receipt message templates to the user using the ",(0,l.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,l.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37410909-8b72001e-27dc-11e8-94ae-555cb4ae93c9.png",alt:"sendReceiptTemplate",width:"250"}),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"receipt"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/template/receipt#payload"},"payload")," of receipt template.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendReceiptTemplate({\n  recipientName: 'Stephane Crozatier',\n  orderNumber: '12345678902',\n  currency: 'USD',\n  paymentMethod: 'Visa 2345',\n  orderUrl: 'http://petersapparel.parseapp.com/order?order_id=123456',\n  timestamp: '1428444852',\n  elements: [\n    {\n      title: 'Classic White T-Shirt',\n      subtitle: '100% Soft and Luxurious Cotton',\n      quantity: 2,\n      price: 50,\n      currency: 'USD',\n      imageUrl: 'http://petersapparel.parseapp.com/img/whiteshirt.png',\n    },\n    {\n      title: 'Classic Gray T-Shirt',\n      subtitle: '100% Soft and Luxurious Cotton',\n      quantity: 1,\n      price: 25,\n      currency: 'USD',\n      imageUrl: 'http://petersapparel.parseapp.com/img/grayshirt.png',\n    },\n  ],\n  address: {\n    street1: '1 Hacker Way',\n    street2: '',\n    city: 'Menlo Park',\n    postalCode: '94025',\n    state: 'CA',\n    country: 'US',\n  },\n  summary: {\n    subtotal: 75.0,\n    shippingCost: 4.95,\n    totalTax: 6.19,\n    totalCost: 56.14,\n  },\n  adjustments: [\n    {\n      name: 'New Customer Discount',\n      amount: 20,\n    },\n    {\n      name: '$10 Off Coupon',\n      amount: 10,\n    },\n  ],\n});\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendairlineboardingpasstemplateattributes--options---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendAirlineBoardingPassTemplate(attributes [, options])")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/airline-boardingpass-template"},"Official Docs")),(0,l.kt)("p",null,"Send airline boarding pass message templates to the user using the ",(0,l.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,l.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37410966-a5fb1542-27dc-11e8-9d23-e3a090b0cdeb.png",alt:"sendAirlineBoardingPassTemplate",width:"600"}),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"attributes"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/template/airline-boarding-pass#payload"},"payload")," of boarding pass template.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendAirlineBoardingPassTemplate({\n  introMessage: 'You are checked in.',\n  locale: 'en_US',\n  boardingPass: [\n    {\n      passengerName: 'SMITH/NICOLAS',\n      pnrNumber: 'CG4X7U',\n      travelClass: 'business',\n      seat: '74J',\n      auxiliaryFields: [\n        {\n          label: 'Terminal',\n          value: 'T1',\n        },\n        {\n          label: 'Departure',\n          value: '30OCT 19:05',\n        },\n      ],\n      secondaryFields: [\n        {\n          label: 'Boarding',\n          value: '18:30',\n        },\n        {\n          label: 'Gate',\n          value: 'D57',\n        },\n        {\n          label: 'Seat',\n          value: '74J',\n        },\n        {\n          label: 'Sec.Nr.',\n          value: '003',\n        },\n      ],\n      logoImageUrl: 'https://www.example.com/en/logo.png',\n      headerImageUrl: 'https://www.example.com/en/fb/header.png',\n      qrCode: 'M1SMITH/NICOLAS  CG4X7U nawouehgawgnapwi3jfa0wfh',\n      aboveBarCodeImageUrl: 'https://www.example.com/en/PLAT.png',\n      flightInfo: {\n        flightNumber: 'KL0642',\n        departureAirport: {\n          airportCode: 'JFK',\n          city: 'New York',\n          terminal: 'T1',\n          gate: 'D57',\n        },\n        arrivalAirport: {\n          airportCode: 'AMS',\n          city: 'Amsterdam',\n        },\n        flightSchedule: {\n          departureTime: '2016-01-02T19:05',\n          arrivalTime: '2016-01-05T17:30',\n        },\n      },\n    },\n    {\n      passengerName: 'JONES/FARBOUND',\n      pnrNumber: 'CG4X7U',\n      travelClass: 'business',\n      seat: '74K',\n      auxiliaryFields: [\n        {\n          label: 'Terminal',\n          value: 'T1',\n        },\n        {\n          label: 'Departure',\n          value: '30OCT 19:05',\n        },\n      ],\n      secondaryFields: [\n        {\n          label: 'Boarding',\n          value: '18:30',\n        },\n        {\n          label: 'Gate',\n          value: 'D57',\n        },\n        {\n          label: 'Seat',\n          value: '74K',\n        },\n        {\n          label: 'Sec.Nr.',\n          value: '004',\n        },\n      ],\n      logoImageUrl: 'https://www.example.com/en/logo.png',\n      headerImageUrl: 'https://www.example.com/en/fb/header.png',\n      qrCode: 'M1JONES/FARBOUND  CG4X7U nawouehgawgnapwi3jfa0wfh',\n      aboveBarCodeImageUrl: 'https://www.example.com/en/PLAT.png',\n      flightInfo: {\n        flightNumber: 'KL0642',\n        departureAirport: {\n          airportCode: 'JFK',\n          city: 'New York',\n          terminal: 'T1',\n          gate: 'D57',\n        },\n        arrivalAirport: {\n          airportCode: 'AMS',\n          city: 'Amsterdam',\n        },\n        flightSchedule: {\n          departureTime: '2016-01-02T19:05',\n          arrivalTime: '2016-01-05T17:30',\n        },\n      },\n    },\n  ],\n});\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendairlinecheckintemplateattributes--options---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendAirlineCheckinTemplate(attributes [, options])")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/airline-checkin-template"},"Official Docs")),(0,l.kt)("p",null,"Send airline checkin message templates to the user using the ",(0,l.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,l.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37411010-bfb3d8a2-27dc-11e8-91de-30653cf2d62c.png",alt:"sendAirlineCheckinTemplate",width:"250"}),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"attributes"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/airline-checkin-template#payload"},"payload")," of checkin template.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendAirlineCheckinTemplate({\n  introMessage: 'Check-in is available now.',\n  locale: 'en_US',\n  pnrNumber: 'ABCDEF',\n  flightInfo: [\n    {\n      flightNumber: 'f001',\n      departureAirport: {\n        airportCode: 'SFO',\n        city: 'San Francisco',\n        terminal: 'T4',\n        gate: 'G8',\n      },\n      arrivalAirport: {\n        airportCode: 'SEA',\n        city: 'Seattle',\n        terminal: 'T4',\n        gate: 'G8',\n      },\n      flightSchedule: {\n        boardingTime: '2016-01-05T15:05',\n        departureTime: '2016-01-05T15:45',\n        arrivalTime: '2016-01-05T17:30',\n      },\n    },\n  ],\n  checkinUrl: 'https://www.airline.com/check-in',\n});\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendairlineitinerarytemplateattributes--options---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendAirlineItineraryTemplate(attributes [, options])")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/airline-itinerary-template"},"Official Docs")),(0,l.kt)("p",null,"Send airline itinerary message templates to the user using the ",(0,l.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,l.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37411025-ce27545e-27dc-11e8-91be-28ab27644db7.png",alt:"sendAirlineItineraryTemplate",width:"600"}),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"attributes"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/airline-itinerary-template#payload"},"payload")," of itinerary template.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendAirlineItineraryTemplate({\n  introMessage: \"Here's your flight itinerary.\",\n  locale: 'en_US',\n  pnrNumber: 'ABCDEF',\n  passengerInfo: [\n    {\n      name: 'Farbound Smith Jr',\n      ticketNumber: '0741234567890',\n      passengerId: 'p001',\n    },\n    {\n      name: 'Nick Jones',\n      ticketNumber: '0741234567891',\n      passengerId: 'p002',\n    },\n  ],\n  flightInfo: [\n    {\n      connectionId: 'c001',\n      segmentId: 's001',\n      flightNumber: 'KL9123',\n      aircraftType: 'Boeing 737',\n      departureAirport: {\n        airportCode: 'SFO',\n        city: 'San Francisco',\n        terminal: 'T4',\n        gate: 'G8',\n      },\n      arrivalAirport: {\n        airportCode: 'SLC',\n        city: 'Salt Lake City',\n        terminal: 'T4',\n        gate: 'G8',\n      },\n      flightSchedule: {\n        departureTime: '2016-01-02T19:45',\n        arrivalTime: '2016-01-02T21:20',\n      },\n      travelClass: 'business',\n    },\n    {\n      connectionId: 'c002',\n      segmentId: 's002',\n      flightNumber: 'KL321',\n      aircraftType: 'Boeing 747-200',\n      travelClass: 'business',\n      departureAirport: {\n        airportCode: 'SLC',\n        city: 'Salt Lake City',\n        terminal: 'T1',\n        gate: 'G33',\n      },\n      arrivalAirport: {\n        airportCode: 'AMS',\n        city: 'Amsterdam',\n        terminal: 'T1',\n        gate: 'G33',\n      },\n      flightSchedule: {\n        departureTime: '2016-01-02T22:45',\n        arrivalTime: '2016-01-03T17:20',\n      },\n    },\n  ],\n  passengerSegmentInfo: [\n    {\n      segmentId: 's001',\n      passengerId: 'p001',\n      seat: '12A',\n      seatType: 'Business',\n    },\n    {\n      segmentId: 's001',\n      passengerId: 'p002',\n      seat: '12B',\n      seatType: 'Business',\n    },\n    {\n      segmentId: 's002',\n      passengerId: 'p001',\n      seat: '73A',\n      seatType: 'World Business',\n      productInfo: [\n        {\n          title: 'Lounge',\n          value: 'Complimentary lounge access',\n        },\n        {\n          title: 'Baggage',\n          value: '1 extra bag 50lbs',\n        },\n      ],\n    },\n    {\n      segmentId: 's002',\n      passengerId: 'p002',\n      seat: '73B',\n      seatType: 'World Business',\n      productInfo: [\n        {\n          title: 'Lounge',\n          value: 'Complimentary lounge access',\n        },\n        {\n          title: 'Baggage',\n          value: '1 extra bag 50lbs',\n        },\n      ],\n    },\n  ],\n  priceInfo: [\n    {\n      title: 'Fuel surcharge',\n      amount: '1597',\n      currency: 'USD',\n    },\n  ],\n  basePrice: '12206',\n  tax: '200',\n  totalPrice: '14003',\n  currency: 'USD',\n});\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendairlineflightupdatetemplateattributes--options---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendAirlineFlightUpdateTemplate(attributes [, options])")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/airline-update-template"},"Official Docs")),(0,l.kt)("p",null,"Send airline flight update message templates to the user using the ",(0,l.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,l.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37411064-e3005a56-27dc-11e8-8486-4fc548ad7b1a.png",alt:"sendAirlineFlightUpdateTemplate",width:"250"}),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"attributes"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/airline-update-template#payload"},"payload")," of update template.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,l.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendAirlineFlightUpdateTemplate({\n  introMessage: 'Your flight is delayed',\n  updateType: 'delay',\n  locale: 'en_US',\n  pnrNumber: 'CF23G2',\n  updateFlightInfo: {\n    flightNumber: 'KL123',\n    departureAirport: {\n      airportCode: 'SFO',\n      city: 'San Francisco',\n      terminal: 'T4',\n      gate: 'G8',\n    },\n    arrivalAirport: {\n      airportCode: 'AMS',\n      city: 'Amsterdam',\n      terminal: 'T4',\n      gate: 'G8',\n    },\n    flightSchedule: {\n      boardingTime: '2015-12-26T10:30',\n      departureTime: '2015-12-26T11:30',\n      arrivalTime: '2015-12-27T07:30',\n    },\n  },\n});\n")),(0,l.kt)("br",null),(0,l.kt)("a",{id:"quick-replies"}),(0,l.kt)("h3",{id:"quick-replies---official-docs"},"Quick Replies - ",(0,l.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/quick-replies"},"Official Docs")),(0,l.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37411344-91c8ad54-27dd-11e8-82fc-fd9adf896301.png",alt:"Quick Replies",width:"750"}),(0,l.kt)("p",null,"To send messages with quick replies to the user using the ",(0,l.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),", pass ",(0,l.kt)("inlineCode",{parentName:"p"},"quickReplies")," option to send message methods, for example, with ",(0,l.kt)("inlineCode",{parentName:"p"},"sendText"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendText('Pick a color:', {\n  quickReplies: [\n    {\n      contentType: 'text',\n      title: 'Red',\n      payload: 'DEVELOPER_DEFINED_PAYLOAD_FOR_PICKING_RED',\n    },\n  ],\n});\n")),(0,l.kt)("p",null,"with ",(0,l.kt)("inlineCode",{parentName:"p"},"sendImage"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendImage('https://example.com/vr.jpg', {\n  quickReplies: [\n    {\n      contentType: 'text',\n      title: 'Red',\n      payload: 'DEVELOPER_DEFINED_PAYLOAD_FOR_PICKING_RED',\n    },\n  ],\n});\n")),(0,l.kt)("p",null,"It works with all of send message methods."),(0,l.kt)("br",null),(0,l.kt)("a",{id:"sender-actions"}),(0,l.kt)("h3",{id:"sender-actions---official-docs"},"Sender Actions - ",(0,l.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/sender-actions"},"Official Docs")),(0,l.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37411363-9b65ecaa-27dd-11e8-8f51-7aac7fd0bd2f.png",alt:"Sender Actions",width:"250"}),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendsenderactionaction"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendSenderAction(action)")),(0,l.kt)("p",null,"Send sender actions to the user using the ",(0,l.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),", to let users know you are processing their request."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"action"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Name of the action.")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.sendSenderAction('typing_on');\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"markseen"},(0,l.kt)("inlineCode",{parentName:"h4"},"markSeen()")),(0,l.kt)("p",null,"Mark last message as read for the user."),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.markSeen();\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"typingon"},(0,l.kt)("inlineCode",{parentName:"h4"},"typingOn()")),(0,l.kt)("p",null,"Turn typing indicators on for the user."),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.typingOn();\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"typingoff"},(0,l.kt)("inlineCode",{parentName:"h4"},"typingOff()")),(0,l.kt)("p",null,"Turn typing indicators off for the user."),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.typingOff();\n")),(0,l.kt)("br",null),(0,l.kt)("a",{id:"targeting-broadcast-messages"}),(0,l.kt)("h3",{id:"targeting-broadcast-messages---official-docs"},"Targeting Broadcast Messages - ",(0,l.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/broadcast-messages/target-broadcasts"},"Official Docs")),(0,l.kt)("h4",{id:"associatelabellabelid"},(0,l.kt)("inlineCode",{parentName:"h4"},"associateLabel(labelId)")),(0,l.kt)("p",null,"Associating a Label to the user"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"labelId"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"ID of the custom label.")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.associateLabel(LABEL_ID);\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"dissociatelabellabelid"},(0,l.kt)("inlineCode",{parentName:"h4"},"dissociateLabel(labelId)")),(0,l.kt)("p",null,"Removing a Label from the user."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"labelId"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"ID of the custom label.")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.dissociateLabel(LABEL_ID);\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"getassociatedlabels"},(0,l.kt)("inlineCode",{parentName:"h4"},"getAssociatedLabels()")),(0,l.kt)("p",null,"Retrieving Labels Associated with the user."),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.getAssociatedLabels().then((result) => {\n  console.log(result);\n  // {\n  //   data: [\n  //     {\n  //       name: 'myLabel',\n  //       id: '1001200005003',\n  //     },\n  //     {\n  //       name: 'myOtherLabel',\n  //       id: '1001200005002',\n  //     },\n  //   ],\n  //   paging: {\n  //     cursors: {\n  //       before:\n  //         'QVFIUmx1WTBpMGpJWXprYzVYaVhabW55dVpycko4U2xURGE5ODNtNFZAPal94a1hTUnNVMUtoMVVoTzlzSDktUkMtQkUzWEFLSXlMS3ZALYUw3TURLelZAPOGVR',\n  //       after:\n  //         'QVFIUmItNkpTbjVzakxFWGRydzdaVUFNNnNPaUl0SmwzVHN5ZAWZAEQ3lZANDAzTXFIM0NHbHdYSkQ5OG1GaEozdjkzRmxpUFhxTDl4ZAlBibnE4LWt1eGlTa3Bn',\n  //     },\n  //   },\n  // }\n});\n")),(0,l.kt)("br",null),(0,l.kt)("a",{id:"user-profile-api"}),(0,l.kt)("h3",{id:"user-profile-api---official-docs"},"User Profile API - ",(0,l.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/user-profile"},"Official Docs")),(0,l.kt)("h4",{id:"getuserprofile"},(0,l.kt)("inlineCode",{parentName:"h4"},"getUserProfile()")),(0,l.kt)("p",null,"Retrieving profile of the user."),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.getUserProfile().then((user) => {\n  console.log(user);\n  // {\n  //   firstName: 'Johnathan',\n  //   lastName: 'Jackson',\n  //   profilePic: 'https://example.com/pic.png',\n  //   locale: 'en_US',\n  //   timezone: 8,\n  //   gender: 'male',\n  // }\n});\n")),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"handover-protocol-api"},"Handover Protocol API"),(0,l.kt)("h4",{id:"passthreadcontroltargetappid--metadata---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"passThreadControl(targetAppId [, metadata])")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/pass-thread-control"},"Official Docs")),(0,l.kt)("p",null,"Passes control of the thread from your app to another app."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"targetAppId"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Number")),(0,l.kt)("td",{parentName:"tr",align:null},"The app ID of the Secondary Receiver to pass thread control to.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"metadata"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Metadata passed to the receiving app in the ",(0,l.kt)("inlineCode",{parentName:"td"},"pass_thread_control")," webhook event.")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.passThreadControl(APP_ID);\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"passthreadcontroltopageinboxmetadata---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"passThreadControlToPageInbox(metadata)")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/handover-protocol/pass-thread-control#page_inbox"},"Official Docs")),(0,l.kt)("p",null,'Passes control of the thread from your app to "Page Inbox" app.'),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"metadata"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Metadata passed to the receiving app in the ",(0,l.kt)("inlineCode",{parentName:"td"},"pass_thread_control")," webhook event.")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.passThreadControlToPageInbox();\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"takethreadcontrolmetadata---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"takeThreadControl(metadata)")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/take-thread-control"},"Official Docs")),(0,l.kt)("p",null,"Takes control of the thread from a Secondary Receiver app."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"metadata"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Metadata passed back to the secondary app in the ",(0,l.kt)("inlineCode",{parentName:"td"},"take_thread_control")," webhook event.")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.takeThreadControl();\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"requestthreadcontrolmetadata---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"requestThreadControl(metadata)")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/handover-protocol/request-thread-control/"},"Official Docs")),(0,l.kt)("p",null,"Requests control of the thread from a Primary Receiver app."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"metadata"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Metadata passed to the primary app in the ",(0,l.kt)("inlineCode",{parentName:"td"},"request_thread_control")," webhook event.")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"context.requestThreadControl();\n")),(0,l.kt)("br",null))}c.isMDXComponent=!0}}]);