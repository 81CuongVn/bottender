"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[23077],{3905:(t,e,n)=>{n.d(e,{Zo:()=>p,kt:()=>g});var r=n(67294);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var d=r.createContext({}),m=function(t){var e=r.useContext(d),n=e;return t&&(n="function"==typeof t?t(e):l(l({},e),t)),n},p=function(t){var e=m(t.components);return r.createElement(d.Provider,{value:e},t.children)},c={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},k=r.forwardRef((function(t,e){var n=t.components,a=t.mdxType,i=t.originalType,d=t.parentName,p=o(t,["components","mdxType","originalType","parentName"]),k=m(n),g=a,N=k["".concat(d,".").concat(g)]||k[g]||c[g]||i;return n?r.createElement(N,l(l({ref:e},p),{},{components:n})):r.createElement(N,l({ref:e},p))}));function g(t,e){var n=arguments,a=e&&e.mdxType;if("string"==typeof t||a){var i=n.length,l=new Array(i);l[0]=k;var o={};for(var d in e)hasOwnProperty.call(e,d)&&(o[d]=e[d]);o.originalType=t,o.mdxType="string"==typeof t?t:a,l[1]=o;for(var m=2;m<i;m++)l[m]=n[m];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}k.displayName="MDXCreateElement"},55669:(t,e,n)=>{n.r(e),n.d(e,{frontMatter:()=>o,contentTitle:()=>d,metadata:()=>m,toc:()=>p,default:()=>k});var r=n(87462),a=n(63366),i=(n(67294),n(3905)),l=["components"],o={id:"api-handler",title:"Handler",original_id:"api-handler"},d=void 0,m={unversionedId:"api-handler",id:"version-0.15.17/api-handler",isDocsHomePage:!1,title:"Handler",description:"A Bottender Handler includes many helpful methods and lets you easily handle different kinds of events from platforms.",source:"@site/versioned_docs/version-0.15.17/APIReference-Handler.md",sourceDirName:".",slug:"/api-handler",permalink:"/docs/0.15.17/api-handler",editUrl:"https://github.com/Yoctol/bottender/edit/master/docs/versioned_docs/version-0.15.17/APIReference-Handler.md",tags:[],version:"0.15.17",lastUpdatedBy:"\u5433\u6771\u66c4 Wu, Dung-Ie",lastUpdatedAt:1636542901,formattedLastUpdatedAt:"11/10/2021",frontMatter:{id:"api-handler",title:"Handler",original_id:"api-handler"},sidebar:"version-0.15.17/api",previous:{title:"Event",permalink:"/docs/0.15.17/api-event"},next:{title:"ConsoleContext",permalink:"/docs/0.15.17/api-consolecontext"}},p=[{value:"API Reference",id:"api-reference",children:[{value:"<code>onXXX(handler)</code>",id:"onxxxhandler",children:[],level:4},{value:"<code>onXXX(predicate, handler)</code>",id:"onxxxpredicate-handler",children:[],level:4},{value:"<code>onEvent(handler)</code>",id:"oneventhandler",children:[],level:4},{value:"<code>onUnhandled(handler)</code>",id:"onunhandledhandler",children:[],level:4},{value:"<code>onError(handler)</code>",id:"onerrorhandler",children:[],level:4},{value:"Methods table",id:"methods-table",children:[],level:3}],level:2},{value:"Example",id:"example",children:[{value:"<code>onText</code>",id:"ontext",children:[],level:4},{value:"<code>onUnhandled</code>",id:"onunhandled",children:[],level:4},{value:"<code>onError</code>",id:"onerror",children:[],level:4}],level:2}],c={toc:p};function k(t){var e=t.components,n=(0,a.Z)(t,l);return(0,i.kt)("wrapper",(0,r.Z)({},c,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"A Bottender Handler includes many helpful methods and lets you easily handle different kinds of events from platforms.\nWhen an event comes in, the handler will choose the first method matched the condition to handle event."),(0,i.kt)("h2",{id:"api-reference"},"API Reference"),(0,i.kt)("p",null,"All methods return handler itself."),(0,i.kt)("p",null,"See more details about ",(0,i.kt)("a",{parentName:"p",href:"api-event"},"event")," and ",(0,i.kt)("a",{parentName:"p",href:"api-context"},"context"),"."),(0,i.kt)("h4",{id:"onxxxhandler"},(0,i.kt)("inlineCode",{parentName:"h4"},"onXXX(handler)")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"not includes ",(0,i.kt)("inlineCode",{parentName:"li"},"onEvent"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"onUnhandled"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"onError"))),(0,i.kt)("p",null,"It will always trigger handler function if ",(0,i.kt)("inlineCode",{parentName:"p"},"event.isXXX")," is true and ",(0,i.kt)("strong",{parentName:"p"},"just have one parameter"),"."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"center"},"Param"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"handler"),(0,i.kt)("td",{parentName:"tr",align:"center"},(0,i.kt)("inlineCode",{parentName:"td"},"function")),(0,i.kt)("td",{parentName:"tr",align:"center"},"This is a callback function receiving ",(0,i.kt)("a",{parentName:"td",href:"api-context"},"context")," as first parameter.")))),(0,i.kt)("h4",{id:"onxxxpredicate-handler"},(0,i.kt)("inlineCode",{parentName:"h4"},"onXXX(predicate, handler)")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"not includes ",(0,i.kt)("inlineCode",{parentName:"li"},"onEvent"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"onUnhandled"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"onError"))),(0,i.kt)("p",null,"It will trigger handler function if ",(0,i.kt)("inlineCode",{parentName:"p"},"event.isXXX")," is true and predicate function return true."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"center"},"Param"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"predicate"),(0,i.kt)("td",{parentName:"tr",align:"center"},(0,i.kt)("inlineCode",{parentName:"td"},"function")),(0,i.kt)("td",{parentName:"tr",align:"center"},"This is a callback function receiving two parameters. Handler function will be triggered if it ",(0,i.kt)("strong",{parentName:"td"},"returns true"),". ",(0,i.kt)("br",null)," ",(0,i.kt)("inlineCode",{parentName:"td"},"function predicate(XXX, context) { /* ... */ }"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"handler"),(0,i.kt)("td",{parentName:"tr",align:"center"},(0,i.kt)("inlineCode",{parentName:"td"},"function")),(0,i.kt)("td",{parentName:"tr",align:"center"},"This is a callback function receiving ",(0,i.kt)("a",{parentName:"td",href:"api-context"},"context")," as first parameter. ",(0,i.kt)("br",null)," ",(0,i.kt)("inlineCode",{parentName:"td"},"function handler(context) { /* ... */ }"))))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Notices: ",(0,i.kt)("inlineCode",{parentName:"li"},"onText"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"onPayload")," also support first parameter to be ",(0,i.kt)("strong",{parentName:"li"},"string")," type or ",(0,i.kt)("strong",{parentName:"li"},"RegExp"),". See more details from ",(0,i.kt)("a",{parentName:"li",href:"#ontext"},"example")," below.")),(0,i.kt)("h4",{id:"oneventhandler"},(0,i.kt)("inlineCode",{parentName:"h4"},"onEvent(handler)")),(0,i.kt)("p",null,"It will trigger handler function from ",(0,i.kt)("strong",{parentName:"p"},"any event"),"."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"center"},"Param"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"handler"),(0,i.kt)("td",{parentName:"tr",align:"center"},(0,i.kt)("inlineCode",{parentName:"td"},"function")),(0,i.kt)("td",{parentName:"tr",align:"center"},"This is a callback function receiving ",(0,i.kt)("a",{parentName:"td",href:"api-context"},"context")," as first parameter. ",(0,i.kt)("br",null)," ",(0,i.kt)("inlineCode",{parentName:"td"},"function handler(context) { /* ... */ }"))))),(0,i.kt)("h4",{id:"onunhandledhandler"},(0,i.kt)("inlineCode",{parentName:"h4"},"onUnhandled(handler)")),(0,i.kt)("p",null,"It will trigger handler function if any ",(0,i.kt)("inlineCode",{parentName:"p"},"onXXX")," function don't send any things back to user."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"center"},"Param"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"handler"),(0,i.kt)("td",{parentName:"tr",align:"center"},(0,i.kt)("inlineCode",{parentName:"td"},"function")),(0,i.kt)("td",{parentName:"tr",align:"center"},"This is a callback function receiving ",(0,i.kt)("a",{parentName:"td",href:"api-context"},"context")," as first parameter. ",(0,i.kt)("br",null)," ",(0,i.kt)("inlineCode",{parentName:"td"},"function handler(context) { /* ... */ }"))))),(0,i.kt)("h4",{id:"onerrorhandler"},(0,i.kt)("inlineCode",{parentName:"h4"},"onError(handler)")),(0,i.kt)("p",null,"It will trigger handler function if any Error is thrown."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"center"},"Param"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"handler"),(0,i.kt)("td",{parentName:"tr",align:"center"},(0,i.kt)("inlineCode",{parentName:"td"},"function")),(0,i.kt)("td",{parentName:"tr",align:"center"},"This is a callback function receiving ",(0,i.kt)("a",{parentName:"td",href:"api-context"},"context")," as first parameter and ",(0,i.kt)("strong",{parentName:"td"},"error as second parameter"),". ",(0,i.kt)("br",null)," ",(0,i.kt)("inlineCode",{parentName:"td"},"function handler(context, error) { /* ... */ }"))))),(0,i.kt)("h3",{id:"methods-table"},"Methods table"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Messenger"),(0,i.kt)("th",{parentName:"tr",align:"center"},"LINE"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Slack"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Telegram"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"on"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from second parameter if function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onEvent"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will always trigger function from parameter. ",(0,i.kt)("br",null),(0,i.kt)("br",null),(0,i.kt)("strong",{parentName:"td"},"Notice: This method will handle all event. Make sure this is the last method."))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onMessage"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isMessage")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onText"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isText")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onUnhandled"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if event is not handled.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onError"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if error happens.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onPostback"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isPostback")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onPayload"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isPostback")," or ",(0,i.kt)("strong",{parentName:"td"},"context.event.isQuickReply")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onLocation"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isLocation")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onAudio"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isAudio")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onVideo"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isVideo")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onPayment"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isPayment")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onOptin"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isOptin")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onCheckoutUpdate"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isCheckoutUpdate")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onPreCheckout"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isPreCheckout")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onQuickReply"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isQuickReply")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onEcho"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isEcho")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onRead"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isRead")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onDelivery"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isDelivery")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onImage"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isImage")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onFile"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isFile")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onFallback"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isFallback")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onFollow"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isFollow")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onUnfollow"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isUnfollow")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onJoin"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isJoin")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onLeave"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isLeave")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onBeacon"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isBeacon")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onCallbackQuery"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isCallbackQuery")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onPhoto"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isPhoto")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onDocument"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isDocument")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onGame"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isGame")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onSticker"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isSticker")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onVoice"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isVoice")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onVideoNote"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isVideoNote")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onContact"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isContact")," is true and function from first parameter return true.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"onVenue"),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"}),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"it will trigger function from parameter if ",(0,i.kt)("strong",{parentName:"td"},"context.event.isVenue")," is true and function from first parameter return true.")))),(0,i.kt)("h2",{id:"example"},"Example"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/Yoctol/bottender/tree/v0.15.x/examples/messenger-builder/index.js"},"MessengerHandler")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/Yoctol/bottender/tree/v0.15.x/examples/line-builder/index.js"},"LineHandler")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/Yoctol/bottender/tree/v0.15.x/examples/slack-builder/index.js"},"SlackHandler")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/Yoctol/bottender/tree/v0.15.x/examples/telegram-builder/index.js"},"TelegramHandler")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/Yoctol/bottender/tree/v0.15.x/examples/viber-builder/index.js"},"ViberHandler"))),(0,i.kt)("p",null,"Let's use ",(0,i.kt)("inlineCode",{parentName:"p"},"MessengerHandler")," as an example."),(0,i.kt)("h4",{id:"ontext"},(0,i.kt)("inlineCode",{parentName:"h4"},"onText")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"User > yee\nMessengerBot > yee.\nUser > yooooooo~\nMessengerBot > Hi there!\nUser > I am going to sing a song for you.\nMessengerBot > You talk too much!\nUser > yeeeeeee~\nMessengerBot > I do not know what you said.\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"const handler = new MessengerHandler()\n  .onText('yee', async (context) => {\n    await context.sendText('yee.');\n  })\n  .onText(/yo/i, async (context) => {\n    await context.sendText('Hi there!');\n  })\n  .onText(\n    (text, context) => {\n      return text.length > 20;\n    },\n    async (context) => {\n      await context.sendText('You talk too much!');\n    }\n  )\n  .onText(async (context) => {\n    await context.sendText('I do not know what you said.');\n  });\n")),(0,i.kt)("h4",{id:"onunhandled"},(0,i.kt)("inlineCode",{parentName:"h4"},"onUnhandled")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"User > yooooooo~\nMessengerBot > Oops. I do nothing.\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"const handler = new MessengerHandler()\n  .onText(async (context) => {\n    // event will come here first\n    // but you do nothing\n  })\n  .onUnhandled(async (context) => {\n    await context.sendText('Oops. I do nothing.');\n  });\n")),(0,i.kt)("h4",{id:"onerror"},(0,i.kt)("inlineCode",{parentName:"h4"},"onError")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"User > yooooooo~\nMessengerBot > Oops. Error happens.\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"const handler = new MessengerHandler()\n  .onText((context) => {\n    throw new Error('Here comes error!');\n  })\n  .onError(async (context, err) => {\n    console.log(err.message); // Here comes error!\n    await context.sendText('Oops. Error happens.');\n  });\n")))}k.isMDXComponent=!0}}]);