"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[76543],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>k});var n=a(67294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var p=n.createContext({}),i=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},m=function(e){var t=i(e.components);return n.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,r=e.originalType,p=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),c=i(a),k=l,u=c["".concat(p,".").concat(k)]||c[k]||d[k]||r;return a?n.createElement(u,s(s({ref:t},m),{},{components:a})):n.createElement(u,s({ref:t},m))}));function k(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=a.length,s=new Array(r);s[0]=c;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:l,s[1]=o;for(var i=2;i<r;i++)s[i]=a[i];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},41896:(e,t,a)=>{a.r(t),a.d(t,{frontMatter:()=>o,contentTitle:()=>p,metadata:()=>i,toc:()=>m,default:()=>c});var n=a(87462),l=a(63366),r=(a(67294),a(3905)),s=["components"],o={id:"api-messengercontext",title:"MessengerContext",original_id:"api-messengercontext"},p=void 0,i={unversionedId:"api-messengercontext",id:"version-0.15.17/api-messengercontext",isDocsHomePage:!1,title:"MessengerContext",description:"- Message Content Types",source:"@site/versioned_docs/version-0.15.17/APIReference-MessengerContext.md",sourceDirName:".",slug:"/api-messengercontext",permalink:"/docs/0.15.17/api-messengercontext",editUrl:"https://github.com/Yoctol/bottender/edit/master/docs/versioned_docs/version-0.15.17/APIReference-MessengerContext.md",tags:[],version:"0.15.17",lastUpdatedBy:"\u5433\u6771\u66c4 Wu, Dung-Ie",lastUpdatedAt:1636542901,formattedLastUpdatedAt:"11/10/2021",frontMatter:{id:"api-messengercontext",title:"MessengerContext",original_id:"api-messengercontext"},sidebar:"version-0.15.17/api",previous:{title:"ConsoleEvent",permalink:"/docs/0.15.17/api-console-event"},next:{title:"MessengerEvent",permalink:"/docs/0.15.17/api-messengerevent"}},m=[{value:"<code>sendMessage(message [, options])</code>",id:"sendmessagemessage--options",children:[],level:4},{value:"Message Content Types - Official Docs",id:"message-content-types---official-docs",children:[{value:"<code>sendText(text [, options])</code>",id:"sendtexttext--options",children:[],level:4},{value:"<code>sendAttachment(attachment [, options])</code>",id:"sendattachmentattachment--options",children:[],level:4},{value:"<code>sendAudio(audio [, options])</code>",id:"sendaudioaudio--options",children:[],level:4},{value:"<code>sendImage(image [, options])</code>",id:"sendimageimage--options",children:[],level:4},{value:"<code>sendVideo(video [, options])</code>",id:"sendvideovideo--options",children:[],level:4},{value:"<code>sendFile(file [, options])</code>",id:"sendfilefile--options",children:[],level:4}],level:3},{value:"Templates - Official Docs",id:"templates---official-docs",children:[{value:"<code>sendTemplate(template [, options])</code>",id:"sendtemplatetemplate--options",children:[],level:4},{value:"<code>sendButtonTemplate(title, buttons [, options])</code> - Official Docs",id:"sendbuttontemplatetitle-buttons--options---official-docs",children:[],level:4},{value:"<code>sendGenericTemplate(elements [, options])</code> - Official Docs",id:"sendgenerictemplateelements--options---official-docs",children:[],level:4},{value:"<code>sendListTemplate(items, buttons [, options])</code> - Official Docs",id:"sendlisttemplateitems-buttons--options---official-docs",children:[],level:4},{value:"<code>sendOpenGraphTemplate(elements [, options])</code> - Official Docs",id:"sendopengraphtemplateelements--options---official-docs",children:[],level:4},{value:"<code>sendMediaTemplate(elements [, options])</code> - Official Docs",id:"sendmediatemplateelements--options---official-docs",children:[],level:4},{value:"<code>sendReceiptTemplate(receipt [, options])</code> - Official Docs",id:"sendreceipttemplatereceipt--options---official-docs",children:[],level:4},{value:"<code>sendAirlineBoardingPassTemplate(attributes [, options])</code> - Official Docs",id:"sendairlineboardingpasstemplateattributes--options---official-docs",children:[],level:4},{value:"<code>sendAirlineCheckinTemplate(attributes [, options])</code> - Official Docs",id:"sendairlinecheckintemplateattributes--options---official-docs",children:[],level:4},{value:"<code>sendAirlineItineraryTemplate(attributes [, options])</code> - Official Docs",id:"sendairlineitinerarytemplateattributes--options---official-docs",children:[],level:4},{value:"<code>sendAirlineFlightUpdateTemplate(attributes [, options])</code> - Official Docs",id:"sendairlineflightupdatetemplateattributes--options---official-docs",children:[],level:4}],level:3},{value:"Quick Replies - Official Docs",id:"quick-replies---official-docs",children:[],level:3},{value:"Sender Actions - Official Docs",id:"sender-actions---official-docs",children:[{value:"<code>sendSenderAction(action)</code>",id:"sendsenderactionaction",children:[],level:4},{value:"<code>markSeen()</code>",id:"markseen",children:[],level:4},{value:"<code>typingOn()</code>",id:"typingon",children:[],level:4},{value:"<code>typingOff()</code>",id:"typingoff",children:[],level:4}],level:3},{value:"Targeting Broadcast Messages - Official Docs",id:"targeting-broadcast-messages---official-docs",children:[{value:"<code>associateLabel(labelId)</code>",id:"associatelabellabelid",children:[],level:4},{value:"<code>dissociateLabel(labelId)</code>",id:"dissociatelabellabelid",children:[],level:4},{value:"<code>getAssociatedLabels()</code>",id:"getassociatedlabels",children:[],level:4}],level:3},{value:"User Profile API - Official Docs",id:"user-profile-api---official-docs",children:[{value:"<code>getUserProfile()</code>",id:"getuserprofile",children:[],level:4}],level:3},{value:"Handover Protocol API",id:"handover-protocol-api",children:[{value:"<code>passThreadControl(targetAppId [, metadata])</code> - Official Docs",id:"passthreadcontroltargetappid--metadata---official-docs",children:[],level:4},{value:"<code>passThreadControlToPageInbox(metadata)</code> - Official Docs",id:"passthreadcontroltopageinboxmetadata---official-docs",children:[],level:4},{value:"<code>takeThreadControl(metadata)</code> - Official Docs",id:"takethreadcontrolmetadata---official-docs",children:[],level:4},{value:"<code>requestThreadControl(metadata)</code> - Official Docs",id:"requestthreadcontrolmetadata---official-docs",children:[],level:4}],level:3}],d={toc:m};function c(e){var t=e.components,a=(0,l.Z)(e,s);return(0,r.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#message-content-types"},"Message Content Types")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#templates"},"Templates")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#quick-replies"},"Quick Replies")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#sender-actions"},"Sender Actions")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#targeting-broadcast-messages"},"Targeting Broadcast Messages")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#user-profile-api"},"User Profile API")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#handover-protocol-api"},"Handover Protocol API"))),(0,r.kt)("h4",{id:"sendmessagemessage--options"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendMessage(message [, options])")),(0,r.kt)("p",null,"Send messages to the user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"message"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#message"},"message")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types")," or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/message-tags"},"tags"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendMessage({\n  text: 'Hello!',\n});\n")),(0,r.kt)("p",null,"You can specify ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging type")," using options. If ",(0,r.kt)("inlineCode",{parentName:"p"},"messaging_type")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"tag")," is not provided, ",(0,r.kt)("inlineCode",{parentName:"p"},"UPDATE")," will be used as default messaging type."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendMessage(\n  {\n    text: 'Hello!',\n  },\n  {\n    messaging_type: 'RESPONSE',\n  }\n);\n")),(0,r.kt)("p",null,"Available messaging types:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"UPDATE")," as default"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"RESPONSE")," using ",(0,r.kt)("inlineCode",{parentName:"li"},"{ messaging_type: 'RESPONSE' }")," options"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MESSAGE_TAG")," using ",(0,r.kt)("inlineCode",{parentName:"li"},"{ tag: 'ANY_TAG' }")," options")),(0,r.kt)("br",null),(0,r.kt)("a",{id:"message-content-types"}),(0,r.kt)("h3",{id:"message-content-types---official-docs"},"Message Content Types - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#content_types"},"Official Docs")),(0,r.kt)("h4",{id:"sendtexttext--options"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendText(text [, options])")),(0,r.kt)("p",null,"Send plain text messages to the user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"text"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Text of the message to be sent.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types")," or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/message-tags"},"tags"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendText('Hello!');\n")),(0,r.kt)("p",null,"With ",(0,r.kt)("inlineCode",{parentName:"p"},"ISSUE_RESOLUTION")," tag:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendText('Hello!', { tag: 'CONFIRMED_EVENT_UPDATE' });\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendattachmentattachment--options"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendAttachment(attachment [, options])")),(0,r.kt)("p",null,"Send attachment messages to the user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"attachment"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#attachment"},"attachment")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types")," or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/message-tags"},"tags"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendAttachment({\n  type: 'image',\n  payload: {\n    url: 'https://example.com/pic.png',\n  },\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendaudioaudio--options"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendAudio(audio [, options])")),(0,r.kt)("p",null,"Send sounds to the user by uploading them or sharing a URL using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"audio"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Buffer ","|"," ReadStream ","|"," AttachmentPayload")),(0,r.kt)("td",{parentName:"tr",align:null},"The audio to be sent.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Send audio using url string:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendAudio('https://example.com/audio.mp3');\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use ",(0,r.kt)("inlineCode",{parentName:"li"},"AttachmentPayload")," to send cached attachment:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendAudio({ attachment_id: '55688' });\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use ",(0,r.kt)("inlineCode",{parentName:"li"},"ReadStream")," created from local file:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const fs = require('fs');\n\ncontext.sendAudio(fs.createReadStream('audio.mp3'));\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendimageimage--options"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendImage(image [, options])")),(0,r.kt)("p",null,"Send images to the user by uploading them or sharing a URL using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),". Supported formats are jpg, png and gif."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"image"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Buffer ","|"," ReadStream ","|"," AttachmentPayload")),(0,r.kt)("td",{parentName:"tr",align:null},"The image to be sent.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Send image using url string:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendImage('https://example.com/vr.jpg');\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use ",(0,r.kt)("inlineCode",{parentName:"li"},"AttachmentPayload")," to send cached attachment:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendImage({ attachment_id: '55688' });\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use ",(0,r.kt)("inlineCode",{parentName:"li"},"ReadStream")," created from local file:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const fs = require('fs');\n\ncontext.sendImage(fs.createReadStream('vr.jpg'));\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendvideovideo--options"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendVideo(video [, options])")),(0,r.kt)("p",null,"Send videos to the user by uploading them or sharing a URL using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"video"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Buffer ","|"," ReadStream ","|"," AttachmentPayload")),(0,r.kt)("td",{parentName:"tr",align:null},"The video to be sent.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Send video using url string:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendVideo('https://example.com/video.mp4');\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use ",(0,r.kt)("inlineCode",{parentName:"li"},"AttachmentPayload")," to send cached attachment:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendVideo({ attachment_id: '55688' });\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use ",(0,r.kt)("inlineCode",{parentName:"li"},"ReadStream")," created from local file:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const fs = require('fs');\n\ncontext.sendVideo(fs.createReadStream('video.mp4'));\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendfilefile--options"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendFile(file [, options])")),(0,r.kt)("p",null,"Send files to the user by uploading them or sharing a URL using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"file"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Buffer ","|"," ReadStream ","|"," AttachmentPayload")),(0,r.kt)("td",{parentName:"tr",align:null},"The file to be sent.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Send file using url string:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendFile('https://example.com/receipt.pdf');\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use ",(0,r.kt)("inlineCode",{parentName:"li"},"AttachmentPayload")," to send cached attachment:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendFile({ attachment_id: '55688' });\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use ",(0,r.kt)("inlineCode",{parentName:"li"},"ReadStream")," created from local file:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const fs = require('fs');\n\ncontext.sendFile(fs.createReadStream('receipt.pdf'));\n")),(0,r.kt)("br",null),(0,r.kt)("a",{id:"templates"}),(0,r.kt)("h3",{id:"templates---official-docs"},"Templates - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/templates"},"Official Docs")),(0,r.kt)("h4",{id:"sendtemplatetemplate--options"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendTemplate(template [, options])")),(0,r.kt)("p",null,"Send structured message templates to the user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"template"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Object of the template.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types")," or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/message-tags"},"tags"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendTemplate({\n  template_type: 'button',\n  text: 'title',\n  buttons: [\n    {\n      type: 'postback',\n      title: 'Start Chatting',\n      payload: 'USER_DEFINED_PAYLOAD',\n    },\n  ],\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendbuttontemplatetitle-buttons--options---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendButtonTemplate(title, buttons [, options])")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/button-template"},"Official Docs")),(0,r.kt)("p",null,"Send button message templates to the user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37410664-0b80b080-27dc-11e8-8854-4408d6f32fdf.png",alt:"sendButtonTemplate",width:"250"}),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"title"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Text that appears above the buttons.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"buttons"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array<Object>")),(0,r.kt)("td",{parentName:"tr",align:null},"Array of ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/template/button#button"},"button"),". Set of 1-3 buttons that appear as call-to-actions.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendButtonTemplate('What do you want to do next?', [\n  {\n    type: 'web_url',\n    url: 'https://petersapparel.parseapp.com',\n    title: 'Show Website',\n  },\n  {\n    type: 'postback',\n    title: 'Start Chatting',\n    payload: 'USER_DEFINED_PAYLOAD',\n  },\n]);\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendgenerictemplateelements--options---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendGenericTemplate(elements [, options])")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/generic-template"},"Official Docs")),(0,r.kt)("p",null,"Send generic message templates to the user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37410502-bf948426-27db-11e8-8c9d-7fd6158d0cc2.png",alt:"sendGenericTemplate",width:"750"}),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"elements"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array<Object>")),(0,r.kt)("td",{parentName:"tr",align:null},"Array of ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/template/generic#element"},"element"),". Data for each bubble in message.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters, such as ",(0,r.kt)("inlineCode",{parentName:"td"},"image_aspect_ratio"),", ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types")," and ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/message-tags"},"tags"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendGenericTemplate(\n  [\n    {\n      title: \"Welcome to Peter's Hats\",\n      image_url: 'https://petersfancybrownhats.com/company_image.png',\n      subtitle: \"We've got the right hat for everyone.\",\n      default_action: {\n        type: 'web_url',\n        url: 'https://peterssendreceiveapp.ngrok.io/view?item=103',\n        messenger_extensions: true,\n        webview_height_ratio: 'tall',\n        fallback_url: 'https://peterssendreceiveapp.ngrok.io/',\n      },\n      buttons: [\n        {\n          type: 'postback',\n          title: 'Start Chatting',\n          payload: 'DEVELOPER_DEFINED_PAYLOAD',\n        },\n      ],\n    },\n  ],\n  { image_aspect_ratio: 'square' }\n);\n")),(0,r.kt)("p",null,"Adding a ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/message-tags"},"tag")," to a message allows you to send it outside the 24+1 window, for a limited number of use cases, per ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/policy-overview"},"Messenger Platform policy"),"."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendGenericTemplate(\n  [\n    {\n      // ...\n    },\n  ],\n  { tag: 'CONFIRMED_EVENT_UPDATE' }\n);\n")),(0,r.kt)("p",null,"Available tags:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"COMMUNITY_ALERT")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"CONFIRMED_EVENT_REMINDER")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"NON_PROMOTIONAL_SUBSCRIPTION")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PAIRING_UPDATE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"APPLICATION_UPDATE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ACCOUNT_UPDATE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PAYMENT_UPDATE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PERSONAL_FINANCE_UPDATE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"SHIPPING_UPDATE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"RESERVATION_UPDATE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ISSUE_RESOLUTION")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"APPOINTMENT_UPDATE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"GAME_EVENT")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TRANSPORTATION_UPDATE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"FEATURE_FUNCTIONALITY_UPDATE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TICKET_UPDATE"))),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendlisttemplateitems-buttons--options---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendListTemplate(items, buttons [, options])")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/list-template"},"Official Docs")),(0,r.kt)("p",null,"Send list message templates to the user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37410530-c97f03e4-27db-11e8-8331-56610e6fc3ad.png",alt:"sendListTemplate",width:"250"}),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"items"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array<Object>")),(0,r.kt)("td",{parentName:"tr",align:null},"Array of ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/template/generic#element"},"element"),". List view elements.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"buttons"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array<Object>")),(0,r.kt)("td",{parentName:"tr",align:null},"Array of ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/template/button#button"},"button"),". List of buttons associated on the list template message (maximum of 1 button).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters, such as ",(0,r.kt)("inlineCode",{parentName:"td"},"top_element_style")," and ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendListTemplate(\n  [\n    {\n      title: 'Classic T-Shirt Collection',\n      image_url: 'https://peterssendreceiveapp.ngrok.io/img/collection.png',\n      subtitle: 'See all our colors',\n      default_action: {\n        type: 'web_url',\n        url: 'https://peterssendreceiveapp.ngrok.io/shop_collection',\n        messenger_extensions: true,\n        webview_height_ratio: 'tall',\n        fallback_url: 'https://peterssendreceiveapp.ngrok.io/',\n      },\n      buttons: [\n        {\n          title: 'View',\n          type: 'web_url',\n          url: 'https://peterssendreceiveapp.ngrok.io/collection',\n          messenger_extensions: true,\n          webview_height_ratio: 'tall',\n          fallback_url: 'https://peterssendreceiveapp.ngrok.io/',\n        },\n      ],\n    },\n  ],\n  [\n    {\n      type: 'postback',\n      title: 'View More',\n      payload: 'USER_DEFINED_PAYLOAD',\n    },\n  ],\n  { top_element_style: 'compact' }\n);\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendopengraphtemplateelements--options---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendOpenGraphTemplate(elements [, options])")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/open-graph-template"},"Official Docs")),(0,r.kt)("p",null,"Send open graph message templates to the user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37410778-4a6e77e6-27dc-11e8-9a3a-487bd2f7197e.png",alt:"sendOpenGraphTemplate",width:"250"}),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"elements"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array<Object>")),(0,r.kt)("td",{parentName:"tr",align:null},"Array of ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/template/generic#element"},"element"),". Only one element is allowed.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendOpenGraphTemplate([\n  {\n    url: 'https://open.spotify.com/track/7GhIk7Il098yCjg4BQjzvb',\n    buttons: [\n      {\n        type: 'web_url',\n        url: 'https://en.wikipedia.org/wiki/Rickrolling',\n        title: 'View More',\n      },\n    ],\n  },\n]);\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendmediatemplateelements--options---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendMediaTemplate(elements [, options])")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/template/media"},"Official Docs")),(0,r.kt)("p",null,"Send media message templates to the user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37410836-64249ada-27dc-11e8-8dc4-5a155916961a.png",alt:"sendMediaTemplate",width:"250"}),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"elements"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array<Object>")),(0,r.kt)("td",{parentName:"tr",align:null},"Array of ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/reference/template/media#payload"},"element"),". Only one element is allowed.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendMediaTemplate([\n  {\n    media_type: 'image',\n    attachment_id: '1854626884821032',\n    buttons: [\n      {\n        type: 'web_url',\n        url: 'https://en.wikipedia.org/wiki/Rickrolling',\n        title: 'View Website',\n      },\n    ],\n  },\n]);\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendreceipttemplatereceipt--options---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendReceiptTemplate(receipt [, options])")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/receipt-template"},"Official Docs")),(0,r.kt)("p",null,"Send receipt message templates to the user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37410909-8b72001e-27dc-11e8-94ae-555cb4ae93c9.png",alt:"sendReceiptTemplate",width:"250"}),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"receipt"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/template/receipt#payload"},"payload")," of receipt template.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendReceiptTemplate({\n  recipient_name: 'Stephane Crozatier',\n  order_number: '12345678902',\n  currency: 'USD',\n  payment_method: 'Visa 2345',\n  order_url: 'http://petersapparel.parseapp.com/order?order_id=123456',\n  timestamp: '1428444852',\n  elements: [\n    {\n      title: 'Classic White T-Shirt',\n      subtitle: '100% Soft and Luxurious Cotton',\n      quantity: 2,\n      price: 50,\n      currency: 'USD',\n      image_url: 'http://petersapparel.parseapp.com/img/whiteshirt.png',\n    },\n    {\n      title: 'Classic Gray T-Shirt',\n      subtitle: '100% Soft and Luxurious Cotton',\n      quantity: 1,\n      price: 25,\n      currency: 'USD',\n      image_url: 'http://petersapparel.parseapp.com/img/grayshirt.png',\n    },\n  ],\n  address: {\n    street_1: '1 Hacker Way',\n    street_2: '',\n    city: 'Menlo Park',\n    postal_code: '94025',\n    state: 'CA',\n    country: 'US',\n  },\n  summary: {\n    subtotal: 75.0,\n    shipping_cost: 4.95,\n    total_tax: 6.19,\n    total_cost: 56.14,\n  },\n  adjustments: [\n    {\n      name: 'New Customer Discount',\n      amount: 20,\n    },\n    {\n      name: '$10 Off Coupon',\n      amount: 10,\n    },\n  ],\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendairlineboardingpasstemplateattributes--options---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendAirlineBoardingPassTemplate(attributes [, options])")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/airline-boardingpass-template"},"Official Docs")),(0,r.kt)("p",null,"Send airline boarding pass message templates to the user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37410966-a5fb1542-27dc-11e8-9d23-e3a090b0cdeb.png",alt:"sendAirlineBoardingPassTemplate",width:"600"}),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"attributes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/template/airline-boarding-pass#payload"},"payload")," of boarding pass template.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendAirlineBoardingPassTemplate({\n  intro_message: 'You are checked in.',\n  locale: 'en_US',\n  boarding_pass: [\n    {\n      passenger_name: 'SMITH/NICOLAS',\n      pnr_number: 'CG4X7U',\n      travel_class: 'business',\n      seat: '74J',\n      auxiliary_fields: [\n        {\n          label: 'Terminal',\n          value: 'T1',\n        },\n        {\n          label: 'Departure',\n          value: '30OCT 19:05',\n        },\n      ],\n      secondary_fields: [\n        {\n          label: 'Boarding',\n          value: '18:30',\n        },\n        {\n          label: 'Gate',\n          value: 'D57',\n        },\n        {\n          label: 'Seat',\n          value: '74J',\n        },\n        {\n          label: 'Sec.Nr.',\n          value: '003',\n        },\n      ],\n      logo_image_url: 'https://www.example.com/en/logo.png',\n      header_image_url: 'https://www.example.com/en/fb/header.png',\n      qr_code: 'M1SMITH/NICOLAS  CG4X7U nawouehgawgnapwi3jfa0wfh',\n      above_bar_code_image_url: 'https://www.example.com/en/PLAT.png',\n      flight_info: {\n        flight_number: 'KL0642',\n        departure_airport: {\n          airport_code: 'JFK',\n          city: 'New York',\n          terminal: 'T1',\n          gate: 'D57',\n        },\n        arrival_airport: {\n          airport_code: 'AMS',\n          city: 'Amsterdam',\n        },\n        flight_schedule: {\n          departure_time: '2016-01-02T19:05',\n          arrival_time: '2016-01-05T17:30',\n        },\n      },\n    },\n    {\n      passenger_name: 'JONES/FARBOUND',\n      pnr_number: 'CG4X7U',\n      travel_class: 'business',\n      seat: '74K',\n      auxiliary_fields: [\n        {\n          label: 'Terminal',\n          value: 'T1',\n        },\n        {\n          label: 'Departure',\n          value: '30OCT 19:05',\n        },\n      ],\n      secondary_fields: [\n        {\n          label: 'Boarding',\n          value: '18:30',\n        },\n        {\n          label: 'Gate',\n          value: 'D57',\n        },\n        {\n          label: 'Seat',\n          value: '74K',\n        },\n        {\n          label: 'Sec.Nr.',\n          value: '004',\n        },\n      ],\n      logo_image_url: 'https://www.example.com/en/logo.png',\n      header_image_url: 'https://www.example.com/en/fb/header.png',\n      qr_code: 'M1JONES/FARBOUND  CG4X7U nawouehgawgnapwi3jfa0wfh',\n      above_bar_code_image_url: 'https://www.example.com/en/PLAT.png',\n      flight_info: {\n        flight_number: 'KL0642',\n        departure_airport: {\n          airport_code: 'JFK',\n          city: 'New York',\n          terminal: 'T1',\n          gate: 'D57',\n        },\n        arrival_airport: {\n          airport_code: 'AMS',\n          city: 'Amsterdam',\n        },\n        flight_schedule: {\n          departure_time: '2016-01-02T19:05',\n          arrival_time: '2016-01-05T17:30',\n        },\n      },\n    },\n  ],\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendairlinecheckintemplateattributes--options---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendAirlineCheckinTemplate(attributes [, options])")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/airline-checkin-template"},"Official Docs")),(0,r.kt)("p",null,"Send airline checkin message templates to the user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37411010-bfb3d8a2-27dc-11e8-91de-30653cf2d62c.png",alt:"sendAirlineCheckinTemplate",width:"250"}),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"attributes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/airline-checkin-template#payload"},"payload")," of checkin template.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendAirlineCheckinTemplate({\n  intro_message: 'Check-in is available now.',\n  locale: 'en_US',\n  pnr_number: 'ABCDEF',\n  flight_info: [\n    {\n      flight_number: 'f001',\n      departure_airport: {\n        airport_code: 'SFO',\n        city: 'San Francisco',\n        terminal: 'T4',\n        gate: 'G8',\n      },\n      arrival_airport: {\n        airport_code: 'SEA',\n        city: 'Seattle',\n        terminal: 'T4',\n        gate: 'G8',\n      },\n      flight_schedule: {\n        boarding_time: '2016-01-05T15:05',\n        departure_time: '2016-01-05T15:45',\n        arrival_time: '2016-01-05T17:30',\n      },\n    },\n  ],\n  checkin_url: 'https://www.airline.com/check-in',\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendairlineitinerarytemplateattributes--options---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendAirlineItineraryTemplate(attributes [, options])")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/airline-itinerary-template"},"Official Docs")),(0,r.kt)("p",null,"Send airline itinerary message templates to the user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37411025-ce27545e-27dc-11e8-91be-28ab27644db7.png",alt:"sendAirlineItineraryTemplate",width:"600"}),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"attributes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/airline-itinerary-template#payload"},"payload")," of itinerary template.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendAirlineItineraryTemplate({\n  intro_message: \"Here's your flight itinerary.\",\n  locale: 'en_US',\n  pnr_number: 'ABCDEF',\n  passenger_info: [\n    {\n      name: 'Farbound Smith Jr',\n      ticket_number: '0741234567890',\n      passenger_id: 'p001',\n    },\n    {\n      name: 'Nick Jones',\n      ticket_number: '0741234567891',\n      passenger_id: 'p002',\n    },\n  ],\n  flight_info: [\n    {\n      connection_id: 'c001',\n      segment_id: 's001',\n      flight_number: 'KL9123',\n      aircraft_type: 'Boeing 737',\n      departure_airport: {\n        airport_code: 'SFO',\n        city: 'San Francisco',\n        terminal: 'T4',\n        gate: 'G8',\n      },\n      arrival_airport: {\n        airport_code: 'SLC',\n        city: 'Salt Lake City',\n        terminal: 'T4',\n        gate: 'G8',\n      },\n      flight_schedule: {\n        departure_time: '2016-01-02T19:45',\n        arrival_time: '2016-01-02T21:20',\n      },\n      travel_class: 'business',\n    },\n    {\n      connection_id: 'c002',\n      segment_id: 's002',\n      flight_number: 'KL321',\n      aircraft_type: 'Boeing 747-200',\n      travel_class: 'business',\n      departure_airport: {\n        airport_code: 'SLC',\n        city: 'Salt Lake City',\n        terminal: 'T1',\n        gate: 'G33',\n      },\n      arrival_airport: {\n        airport_code: 'AMS',\n        city: 'Amsterdam',\n        terminal: 'T1',\n        gate: 'G33',\n      },\n      flight_schedule: {\n        departure_time: '2016-01-02T22:45',\n        arrival_time: '2016-01-03T17:20',\n      },\n    },\n  ],\n  passenger_segment_info: [\n    {\n      segment_id: 's001',\n      passenger_id: 'p001',\n      seat: '12A',\n      seat_type: 'Business',\n    },\n    {\n      segment_id: 's001',\n      passenger_id: 'p002',\n      seat: '12B',\n      seat_type: 'Business',\n    },\n    {\n      segment_id: 's002',\n      passenger_id: 'p001',\n      seat: '73A',\n      seat_type: 'World Business',\n      product_info: [\n        {\n          title: 'Lounge',\n          value: 'Complimentary lounge access',\n        },\n        {\n          title: 'Baggage',\n          value: '1 extra bag 50lbs',\n        },\n      ],\n    },\n    {\n      segment_id: 's002',\n      passenger_id: 'p002',\n      seat: '73B',\n      seat_type: 'World Business',\n      product_info: [\n        {\n          title: 'Lounge',\n          value: 'Complimentary lounge access',\n        },\n        {\n          title: 'Baggage',\n          value: '1 extra bag 50lbs',\n        },\n      ],\n    },\n  ],\n  price_info: [\n    {\n      title: 'Fuel surcharge',\n      amount: '1597',\n      currency: 'USD',\n    },\n  ],\n  base_price: '12206',\n  tax: '200',\n  total_price: '14003',\n  currency: 'USD',\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendairlineflightupdatetemplateattributes--options---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendAirlineFlightUpdateTemplate(attributes [, options])")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/airline-update-template"},"Official Docs")),(0,r.kt)("p",null,"Send airline flight update message templates to the user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37411064-e3005a56-27dc-11e8-8486-4fc548ad7b1a.png",alt:"sendAirlineFlightUpdateTemplate",width:"250"}),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"attributes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/airline-update-template#payload"},"payload")," of update template.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendAirlineFlightUpdateTemplate({\n  intro_message: 'Your flight is delayed',\n  update_type: 'delay',\n  locale: 'en_US',\n  pnr_number: 'CF23G2',\n  update_flight_info: {\n    flight_number: 'KL123',\n    departure_airport: {\n      airport_code: 'SFO',\n      city: 'San Francisco',\n      terminal: 'T4',\n      gate: 'G8',\n    },\n    arrival_airport: {\n      airport_code: 'AMS',\n      city: 'Amsterdam',\n      terminal: 'T4',\n      gate: 'G8',\n    },\n    flight_schedule: {\n      boarding_time: '2015-12-26T10:30',\n      departure_time: '2015-12-26T11:30',\n      arrival_time: '2015-12-27T07:30',\n    },\n  },\n});\n")),(0,r.kt)("br",null),(0,r.kt)("a",{id:"quick-replies"}),(0,r.kt)("h3",{id:"quick-replies---official-docs"},"Quick Replies - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/quick-replies"},"Official Docs")),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37411344-91c8ad54-27dd-11e8-82fc-fd9adf896301.png",alt:"Quick Replies",width:"750"}),(0,r.kt)("p",null,"To send messages with quick replies to the user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),", pass ",(0,r.kt)("inlineCode",{parentName:"p"},"quick_replies")," option to send message methods, for example, with ",(0,r.kt)("inlineCode",{parentName:"p"},"sendText"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendText('Pick a color:', {\n  quick_replies: [\n    {\n      content_type: 'text',\n      title: 'Red',\n      payload: 'DEVELOPER_DEFINED_PAYLOAD_FOR_PICKING_RED',\n    },\n  ],\n});\n")),(0,r.kt)("p",null,"with ",(0,r.kt)("inlineCode",{parentName:"p"},"sendImage"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendImage('https://example.com/vr.jpg', {\n  quick_replies: [\n    {\n      content_type: 'text',\n      title: 'Red',\n      payload: 'DEVELOPER_DEFINED_PAYLOAD_FOR_PICKING_RED',\n    },\n  ],\n});\n")),(0,r.kt)("p",null,"It works with all of send message methods."),(0,r.kt)("br",null),(0,r.kt)("a",{id:"sender-actions"}),(0,r.kt)("h3",{id:"sender-actions---official-docs"},"Sender Actions - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/sender-actions"},"Official Docs")),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37411363-9b65ecaa-27dd-11e8-8f51-7aac7fd0bd2f.png",alt:"Sender Actions",width:"250"}),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendsenderactionaction"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendSenderAction(action)")),(0,r.kt)("p",null,"Send sender actions to the user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),", to let users know you are processing their request."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"action"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Name of the action.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.sendSenderAction('typing_on');\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"markseen"},(0,r.kt)("inlineCode",{parentName:"h4"},"markSeen()")),(0,r.kt)("p",null,"Mark last message as read for the user."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.markSeen();\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"typingon"},(0,r.kt)("inlineCode",{parentName:"h4"},"typingOn()")),(0,r.kt)("p",null,"Turn typing indicators on for the user."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.typingOn();\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"typingoff"},(0,r.kt)("inlineCode",{parentName:"h4"},"typingOff()")),(0,r.kt)("p",null,"Turn typing indicators off for the user."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.typingOff();\n")),(0,r.kt)("br",null),(0,r.kt)("a",{id:"targeting-broadcast-messages"}),(0,r.kt)("h3",{id:"targeting-broadcast-messages---official-docs"},"Targeting Broadcast Messages - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/broadcast-messages/target-broadcasts"},"Official Docs")),(0,r.kt)("h4",{id:"associatelabellabelid"},(0,r.kt)("inlineCode",{parentName:"h4"},"associateLabel(labelId)")),(0,r.kt)("p",null,"Associating a Label to the user"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"labelId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"ID of the custom label.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.associateLabel(LABEL_ID);\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"dissociatelabellabelid"},(0,r.kt)("inlineCode",{parentName:"h4"},"dissociateLabel(labelId)")),(0,r.kt)("p",null,"Removing a Label from the user."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"labelId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"ID of the custom label.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.dissociateLabel(LABEL_ID);\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"getassociatedlabels"},(0,r.kt)("inlineCode",{parentName:"h4"},"getAssociatedLabels()")),(0,r.kt)("p",null,"Retrieving Labels Associated with the user."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.getAssociatedLabels().then((result) => {\n  console.log(result);\n  // {\n  //   data: [\n  //     {\n  //       name: 'myLabel',\n  //       id: '1001200005003',\n  //     },\n  //     {\n  //       name: 'myOtherLabel',\n  //       id: '1001200005002',\n  //     },\n  //   ],\n  //   paging: {\n  //     cursors: {\n  //       before:\n  //         'QVFIUmx1WTBpMGpJWXprYzVYaVhabW55dVpycko4U2xURGE5ODNtNFZAPal94a1hTUnNVMUtoMVVoTzlzSDktUkMtQkUzWEFLSXlMS3ZALYUw3TURLelZAPOGVR',\n  //       after:\n  //         'QVFIUmItNkpTbjVzakxFWGRydzdaVUFNNnNPaUl0SmwzVHN5ZAWZAEQ3lZANDAzTXFIM0NHbHdYSkQ5OG1GaEozdjkzRmxpUFhxTDl4ZAlBibnE4LWt1eGlTa3Bn',\n  //     },\n  //   },\n  // }\n});\n")),(0,r.kt)("br",null),(0,r.kt)("a",{id:"user-profile-api"}),(0,r.kt)("h3",{id:"user-profile-api---official-docs"},"User Profile API - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/user-profile"},"Official Docs")),(0,r.kt)("h4",{id:"getuserprofile"},(0,r.kt)("inlineCode",{parentName:"h4"},"getUserProfile()")),(0,r.kt)("p",null,"Retrieving profile of the user."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.getUserProfile().then((user) => {\n  console.log(user);\n  // {\n  //   first_name: 'Johnathan',\n  //   last_name: 'Jackson',\n  //   profile_pic: 'https://example.com/pic.png',\n  //   locale: 'en_US',\n  //   timezone: 8,\n  //   gender: 'male',\n  // }\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h3",{id:"handover-protocol-api"},"Handover Protocol API"),(0,r.kt)("h4",{id:"passthreadcontroltargetappid--metadata---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"passThreadControl(targetAppId [, metadata])")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/pass-thread-control"},"Official Docs")),(0,r.kt)("p",null,"Passes control of the thread from your app to another app."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"targetAppId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Number")),(0,r.kt)("td",{parentName:"tr",align:null},"The app ID of the Secondary Receiver to pass thread control to.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"metadata"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Metadata passed to the receiving app in the ",(0,r.kt)("inlineCode",{parentName:"td"},"pass_thread_control")," webhook event.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.passThreadControl(APP_ID);\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"passthreadcontroltopageinboxmetadata---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"passThreadControlToPageInbox(metadata)")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/handover-protocol/pass-thread-control#page_inbox"},"Official Docs")),(0,r.kt)("p",null,'Passes control of the thread from your app to "Page Inbox" app.'),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"metadata"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Metadata passed to the receiving app in the ",(0,r.kt)("inlineCode",{parentName:"td"},"pass_thread_control")," webhook event.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.passThreadControlToPageInbox();\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"takethreadcontrolmetadata---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"takeThreadControl(metadata)")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/take-thread-control"},"Official Docs")),(0,r.kt)("p",null,"Takes control of the thread from a Secondary Receiver app."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"metadata"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Metadata passed back to the secondary app in the ",(0,r.kt)("inlineCode",{parentName:"td"},"take_thread_control")," webhook event.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.takeThreadControl();\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"requestthreadcontrolmetadata---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"requestThreadControl(metadata)")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/handover-protocol/request-thread-control/"},"Official Docs")),(0,r.kt)("p",null,"Requests control of the thread from a Primary Receiver app."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"metadata"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Metadata passed to the primary app in the ",(0,r.kt)("inlineCode",{parentName:"td"},"request_thread_control")," webhook event.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"context.requestThreadControl();\n")),(0,r.kt)("br",null))}c.isMDXComponent=!0}}]);