"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4944],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var o=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),c=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(n),h=r,m=d["".concat(s,".").concat(h)]||d[h]||u[h]||a;return n?o.createElement(m,i(i({ref:t},p),{},{components:n})):o.createElement(m,i({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<a;c++)i[c]=n[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},88797:(e,t,n)=>{n.r(t),n.d(t,{frontMatter:()=>l,contentTitle:()=>s,metadata:()=>c,assets:()=>p,toc:()=>u,default:()=>h});var o=n(87462),r=n(63366),a=(n(67294),n(3905)),i=["components"],l={title:"Bottender 0.15",author:"C. T. Lin",authorURL:"https://twitter.com/chentsulin",authorTitle:"Co-Creator of Bottender",authorTwitter:"chentsulin",authorImageURL:"https://avatars1.githubusercontent.com/u/3382565?s=460&v=4"},s=void 0,c={permalink:"/blog/2018/08/03/bottender-0_15",source:"@site/blog/2018-08-03-bottender-0_15.md",title:"Bottender 0.15",description:"After half an year of our open source journey, we are thrilled to finally introduce our latest work - Bottender v0.15. With the release this time, not only did we make tremendous progress from our experiences previously, we also benefited quite a lot by the feedback from the whole community, which we are highly appreciative of. Thanks to your support and feedback for us to get here today.",date:"2018-08-03T00:00:00.000Z",formattedDate:"August 3, 2018",tags:[],readingTime:4.35,truncated:!0,authors:[{name:"C. T. Lin",title:"Co-Creator of Bottender",url:"https://twitter.com/chentsulin",imageURL:"https://avatars1.githubusercontent.com/u/3382565?s=460&v=4"}],prevItem:{title:"Bottender 1.0: Create Bottender App, Router, Action Runner and Bottender.js.org",permalink:"/blog/2019/12/05/bottender-1"},nextItem:{title:"Bottender",permalink:"/blog/2017/10/31/bottender"}},p={authorsImageUrls:[void 0]},u=[{value:"Improving Developer Experience",id:"improving-developer-experience",children:[{value:"ConsoleBot",id:"consolebot",children:[],level:3},{value:"Debug",id:"debug",children:[],level:3}],level:2},{value:"Boosting Performance with Batch",id:"boosting-performance-with-batch",children:[{value:"Messenger Batch",id:"messenger-batch",children:[],level:3},{value:"LINE Batch",id:"line-batch",children:[],level:3}],level:2},{value:"Comprehensive Platform Support",id:"comprehensive-platform-support",children:[],level:2},{value:"Customize Connector",id:"customize-connector",children:[],level:2},{value:"More Engaged in the Community",id:"more-engaged-in-the-community",children:[],level:2},{value:"Forging Ahead",id:"forging-ahead",children:[{value:"More Friendly Developing Environment",id:"more-friendly-developing-environment",children:[],level:3},{value:"Supporting More Platforms",id:"supporting-more-platforms",children:[],level:3},{value:"Serverless",id:"serverless",children:[],level:3}],level:2}],d={toc:u};function h(e){var t=e.components,l=(0,r.Z)(e,i);return(0,a.kt)("wrapper",(0,o.Z)({},d,l,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"After half an year of our open source journey, we are thrilled to finally introduce our latest work - Bottender v0.15. With the release this time, not only did we make tremendous progress from our experiences previously, we also benefited quite a lot by the feedback from the whole community, which we are highly appreciative of. Thanks to your support and feedback for us to get here today."),(0,a.kt)("p",null,"You can now install the latest package by simply entering the command to your terminal:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"$ npm i bottender@latest\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"$ yarn add bottender@latest\n")),(0,a.kt)("p",null,"As we cannot stress enough the importance of a smooth process when it comes to developing, we try to avoid any sorts of breaking changes when updating to a new version. With that being said, developers should find it easy when making updates."),(0,a.kt)("p",null,"You can find the full change log ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/Yoctol/bottender/releases/tag/v0.15.0"},"on GitHub Realease Page"),"."),(0,a.kt)("h2",{id:"improving-developer-experience"},"Improving Developer Experience"),(0,a.kt)("p",null,"Developer experience has alwasys been our top priority. With the latest version v0.15, we launch two new features that will better the developing process significantly. They will not only speed up your developing process, they also make debugging much simpler than you can ever imagine."),(0,a.kt)("h3",{id:"consolebot"},"ConsoleBot"),(0,a.kt)("p",null,"With the help of ",(0,a.kt)("inlineCode",{parentName:"p"},"ConsoleBot"),", it means less deployment, zero platform configuring, and skipping permission review in early development stages. You can now review the outcome on your terminal console. Under certain circumstances, you'll be able to develop without Internet access required, which facilitates a more convenient developing process."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"console bot",src:n(65483).Z})),(0,a.kt)("h3",{id:"debug"},"Debug"),(0,a.kt)("p",null,"We are currently using ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/visionmedia/debug"},"debug")," package to gather and organize all the debug information. You can reach different part of the debug log by adjusting ",(0,a.kt)("inlineCode",{parentName:"p"},"DEBUG")," environment variable; following is a list of supported arguments:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"DEBUG=bottender:*\nDEBUG=bottender:request\nDEBUG=bottender:session:read\nDEBUG=bottender:session:write\n")),(0,a.kt)("p",null,"Monitoring the incoming requests and session read/write makes it easy to trace unexpected errors and it, at the same time, gives you a fuller understanding of how the whole program works."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"console debug",src:n(34247).Z})),(0,a.kt)("h2",{id:"boosting-performance-with-batch"},"Boosting Performance with Batch"),(0,a.kt)("p",null,"In this version, we built various batch requests strategy for Messenger and Line respectively, which potentially results in notable drops with API calls."),(0,a.kt)("h3",{id:"messenger-batch"},"Messenger Batch"),(0,a.kt)("p",null,"For Facebook Messenger, with ",(0,a.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/graph-api/making-multiple-requests/"},"Batch requests in Graph API"),", it is estimated that the HTTP requests will reduce to 1/50, and it automatically triggers retry when over-reaching request limits, which ensures availability under heavy network traffic."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const { isError613 } = require('messenger-batch');\n\nnew MessengerBot({\n  // ...\n  batchConfig: {\n    delay: 1000,\n    shouldRetry: isError613, // (#613) Calls to this api have exceeded the rate limit.\n    retryTimes: 2,\n  },\n});\n")),(0,a.kt)("h3",{id:"line-batch"},"LINE Batch"),(0,a.kt)("p",null,"As for LINE, we combine 5 messages in one batch request. By doing so, we can maximize the functionality of reply token while using Reply API:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"new LineBot({\n  // ...\n  shouldBatch: true, // Default: false\n});\n")),(0,a.kt)("h2",{id:"comprehensive-platform-support"},"Comprehensive Platform Support"),(0,a.kt)("p",null,"In the previous version ",(0,a.kt)("inlineCode",{parentName:"p"},"v0.14.x"),", we support a new platform ",(0,a.kt)("inlineCode",{parentName:"p"},"Viber"),", and we are still perfecting functionaities on all platforms. On top of that, the new launch ",(0,a.kt)("inlineCode",{parentName:"p"},"v0.15")," supports some relatively new platform features, such as:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://blog.messengerdevelopers.com/announcing-messenger-platform-v2-4-8a8ecd5f0f04"},"Messenger Platform 2.4")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://developers.line.me/en/docs/messaging-api/using-flex-messages/"},"LINE Flex Message"))),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://i.imgur.com/VtWnPud.png",alt:null})),(0,a.kt)("h2",{id:"customize-connector"},"Customize Connector"),(0,a.kt)("p",null,"One of the Bottender's design intention is to provide a flexible and multi-functional connector, making hooking up with any platform possible."),(0,a.kt)("p",null,"Apart from the currently built in console, Messenger, LINE, Slack, Telegram, Viber connectors, you can literally connect it to anything you please! You can find more detailed infomation on customized connector ",(0,a.kt)("a",{parentName:"p",href:"https://bottender.js.org/docs/Guides-CustomConnector"},"in our document"),"."),(0,a.kt)("p",null,"If you develop your own customized connector, feel free to publish it on npm, tag ",(0,a.kt)("inlineCode",{parentName:"p"},"bottender-connector")," and share with everyone!"),(0,a.kt)("h2",{id:"more-engaged-in-the-community"},"More Engaged in the Community"),(0,a.kt)("p",null,"We continue receiving a lot of feedback from Twitter and GitHub, which is not going unnoticed. For more developer feedback, we set up a Discord Bottender developer channel, aiming at providing a platform where more voices could be heard. ",(0,a.kt)("a",{parentName:"p",href:"https://discordapp.com/invite/unmFzmR"},"Join Discord Bottender channel now"),", chat with us and receive all first-hand information!"),(0,a.kt)("p",null,"Besides that, in order to better help developers solve Bottender related issue, we created the ",(0,a.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/tagged/bottender"},"bottender tag")," on Stackoverflow; feel free to throw in any questions you might have!"),(0,a.kt)("h2",{id:"forging-ahead"},"Forging Ahead"),(0,a.kt)("p",null,"Our top goal is to provide easy acceccibility and to enhance performance. To acheive that, we will be focusing on the following:"),(0,a.kt)("h3",{id:"more-friendly-developing-environment"},"More Friendly Developing Environment"),(0,a.kt)("p",null,"We will keep on learning from different developing friendly projects, such as React so as to identify some common issues and provide corresponding solutions. We also strive for providing effective debugging tools."),(0,a.kt)("h3",{id:"supporting-more-platforms"},"Supporting More Platforms"),(0,a.kt)("p",null,"Aside from working on implementing new functions to the existing platforms, we are also made aware that the community has high hopes on development regarding WeChat, Discord, Web and other platforms, which we would definitely put more effort into."),(0,a.kt)("p",null,"With our accumulative experiences from connector developing , we are confident the interface of connector and related files would be available in a more user-friendly way."),(0,a.kt)("h3",{id:"serverless"},"Serverless"),(0,a.kt)("p",null,"Experiments are currently held on some major cloud providers with Serverless service, such as AWS Lambda, Google Cloud Functions, and Azure Functions ect. This would reduce a decent amount of maintaining costs when running less frequently visited chatbot service and more importantly, no sacrifices are to be made when it comes to user experience."))}h.isMDXComponent=!0},65483:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/console-bot-8ea5a9dca5b4d8317563a706d3261c7c.png"},34247:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/console-debug-da4131607bde9a6bc323cd1188f12b15.jpg"}}]);