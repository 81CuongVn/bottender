"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[77258],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>u});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),m=d(n),u=r,k=m["".concat(s,".").concat(u)]||m[u]||c[u]||l;return n?a.createElement(k,i(i({ref:t},p),{},{components:n})):a.createElement(k,i({ref:t},p))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var d=2;d<l;d++)i[d]=n[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2943:(e,t,n)=>{n.r(t),n.d(t,{frontMatter:()=>o,contentTitle:()=>s,metadata:()=>d,toc:()=>p,default:()=>m});var a=n(87462),r=n(63366),l=(n(67294),n(3905)),i=["components"],o={id:"api-viber-client",title:"ViberClient"},s=void 0,d={unversionedId:"api-viber-client",id:"version-1.3.0/api-viber-client",isDocsHomePage:!1,title:"ViberClient",description:"- Usage",source:"@site/versioned_docs/version-1.3.0/api-viber-client.md",sourceDirName:".",slug:"/api-viber-client",permalink:"/docs/1.3.0/api-viber-client",editUrl:"https://github.com/Yoctol/bottender/edit/master/docs/versioned_docs/version-1.3.0/api-viber-client.md",tags:[],version:"1.3.0",lastUpdatedBy:"\u5433\u6771\u66c4 Wu, Dung-Ie",lastUpdatedAt:1636542901,formattedLastUpdatedAt:"11/10/2021",frontMatter:{id:"api-viber-client",title:"ViberClient"}},p=[{value:"Usage",id:"usage",children:[{value:"Error Handling",id:"error-handling",children:[],level:3}],level:2},{value:"Methods",id:"methods",children:[{value:"Webhook API",id:"webhook-api",children:[{value:"<code>setWebhook(url [, eventTypes])</code>",id:"setwebhookurl--eventtypes",children:[],level:4},{value:"<code>removeWebhook</code>",id:"removewebhook",children:[],level:4}],level:3},{value:"Send API",id:"send-api",children:[{value:"<code>sendMessage(receiver, message)</code> - Official Docs",id:"sendmessagereceiver-message---official-docs",children:[],level:4},{value:"<code>sendText(receiver, text [, options])</code> - Official Docs",id:"sendtextreceiver-text--options---official-docs",children:[],level:4},{value:"<code>sendPicture(receiver, picture [, options])</code> - Official Docs",id:"sendpicturereceiver-picture--options---official-docs",children:[],level:4},{value:"<code>sendVideo(receiver, video [, options])</code> - Official Docs",id:"sendvideoreceiver-video--options---official-docs",children:[],level:4},{value:"<code>sendFile(receiver, file [, options])</code> - Official Docs",id:"sendfilereceiver-file--options---official-docs",children:[],level:4},{value:"<code>sendContact(receiver, contact [, options])</code> - Official Docs",id:"sendcontactreceiver-contact--options---official-docs",children:[],level:4},{value:"<code>sendLocation(receiver, location [, options])</code> - Official Docs",id:"sendlocationreceiver-location--options---official-docs",children:[],level:4},{value:"<code>sendURL(receiver, url [, options])</code> - Official Docs",id:"sendurlreceiver-url--options---official-docs",children:[],level:4},{value:"<code>sendSticker(receiver, stickerId [, options])</code> - Official Docs",id:"sendstickerreceiver-stickerid--options---official-docs",children:[],level:4},{value:"<code>sendCarouselContent(receiver, richMedia [, options])</code> - Official Docs",id:"sendcarouselcontentreceiver-richmedia--options---official-docs",children:[],level:4}],level:3},{value:"Keyboards - Official Docs",id:"keyboards---official-docs",children:[],level:3},{value:"Broadcast API - Official Docs",id:"broadcast-api---official-docs",children:[],level:3},{value:"Get Account Info",id:"get-account-info",children:[{value:"<code>getAccountInfo()</code> - Official Docs",id:"getaccountinfo---official-docs",children:[],level:4}],level:3},{value:"Get User Details",id:"get-user-details",children:[{value:"<code>getUserDetails(id)</code> - Official Docs",id:"getuserdetailsid---official-docs",children:[],level:4}],level:3},{value:"Get Online",id:"get-online",children:[{value:"<code>getOnlineStatus(ids)</code> - Official Docs",id:"getonlinestatusids---official-docs",children:[],level:4}],level:3}],level:2},{value:"Debug Tips",id:"debug-tips",children:[{value:"Log Requests Details",id:"log-requests-details",children:[],level:3}],level:2},{value:"Test",id:"test",children:[{value:"Send Requests to Your Dummy Server",id:"send-requests-to-your-dummy-server",children:[],level:3}],level:2}],c={toc:p};function m(e){var t=e.components,n=(0,r.Z)(e,i);return(0,l.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#usage"},"Usage")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#methods"},"Methods"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#webhook-api"},"Webhook API")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#send-api"},"Send API")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#keyboards"},"Keyboards")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#broadcast-api"},"Broadcast API")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#get-account-info"},"Get Account Info")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#get-user-details"},"Get User Details")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#get-online"},"Get Online")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#debug-tips"},"Debug Tips")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#test"},"Test"))),(0,l.kt)("h2",{id:"usage"},"Usage"),(0,l.kt)("p",null,"Get the ",(0,l.kt)("inlineCode",{parentName:"p"},"ViberClient")," instance using the ",(0,l.kt)("inlineCode",{parentName:"p"},"getClient")," function:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"const { getClient } = require('bottender');\n\nconst client = getClient('viber');\n\n// `client` is a `ViberClient` instance\nconst accountInfo = await context.client.getAccountInfo();\n")),(0,l.kt)("p",null,"Or, get the ",(0,l.kt)("inlineCode",{parentName:"p"},"ViberClient")," instance from the ",(0,l.kt)("inlineCode",{parentName:"p"},"context"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"async function MyAction(context) {\n  if (context.platform === 'viber') {\n    // `context.client` is a `ViberClient` instance\n    const accountInfo = await context.client.getAccountInfo();\n  }\n}\n")),(0,l.kt)("h3",{id:"error-handling"},"Error Handling"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"ViberClient")," uses ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/axios/axios"},"axios")," as HTTP client. We use ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/Yoctol/messaging-apis/tree/master/packages/axios-error"},"axios-error")," package to wrap API error instances for better formatting error messages. Calling ",(0,l.kt)("inlineCode",{parentName:"p"},"console.log")," with the error instance returns the formatted message. If you'd like to get the axios ",(0,l.kt)("inlineCode",{parentName:"p"},"request"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"response"),", or ",(0,l.kt)("inlineCode",{parentName:"p"},"config"),", you can still get them via those keys on the error instance."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"client.setWebhook(url).catch((error) => {\n  console.log(error); // the formatted error message\n  console.log(error.stack); // stack trace of the error\n  console.log(error.config); // axios request config\n  console.log(error.request); // axios HTTP request\n  console.log(error.response); // axios HTTP response\n});\n")),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"methods"},"Methods"),(0,l.kt)("p",null,"All methods return a Promise."),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"webhook-api"},"Webhook API"),(0,l.kt)("h4",{id:"setwebhookurl--eventtypes"},(0,l.kt)("inlineCode",{parentName:"h4"},"setWebhook(url [, eventTypes])")),(0,l.kt)("p",null,"Setting a Webhook."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"url"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"HTTPS Account webhook URL to receive callbacks & messages from users.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"eventTypes"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Array<String>")),(0,l.kt)("td",{parentName:"tr",align:null},"Indicates the types of Viber events that the account owner would like to be notified about. Possible values: ",(0,l.kt)("inlineCode",{parentName:"td"},"delivered"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"seen"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"failed"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"subscribed"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"unsubscribed")," and ",(0,l.kt)("inlineCode",{parentName:"td"},"conversation_started"),".")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"client.setWebhook('https://4a16faff.ngrok.io/');\n")),(0,l.kt)("p",null,"You can filter event types using optional parameter:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"client.setWebhook('https://4a16faff.ngrok.io/', [\n  'delivered',\n  'seen',\n  'conversation_started',\n]);\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"removewebhook"},(0,l.kt)("inlineCode",{parentName:"h4"},"removeWebhook")),(0,l.kt)("p",null,"Removing your webhook."),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"client.removeWebhook();\n")),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"send-api"},"Send API"),(0,l.kt)("h4",{id:"sendmessagereceiver-message---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendMessage(receiver, message)")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.viber.com/docs/api/rest-bot-api/#send-message"},"Official Docs")),(0,l.kt)("p",null,"Sending a message to a user."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"receiver"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Unique Viber user id.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"message"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Message and options to be sent.")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"client.sendMessage(USER_ID, {\n  type: 'text',\n  text: 'Hello',\n});\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Note: Maximum total JSON size of the request is 30kb.")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendtextreceiver-text--options---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendText(receiver, text [, options])")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.viber.com/docs/api/rest-bot-api/#text-message"},"Official Docs")),(0,l.kt)("p",null,"Sending a text message to a user."),(0,l.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/31481925-61e46008-aeeb-11e7-842f-79fee8066c6a.jpg",width:"300"}),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"receiver"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Unique Viber user id.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"text"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"The text of the message.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters.")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"client.sendText(USER_ID, 'Hello');\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendpicturereceiver-picture--options---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendPicture(receiver, picture [, options])")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.viber.com/docs/api/rest-bot-api/#picture-message"},"Official Docs")),(0,l.kt)("p",null,"Sending a picture message to a user."),(0,l.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/31481916-5ec6cdac-aeeb-11e7-878b-6c8c4211a760.jpg",width:"300"}),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"receiver"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Unique Viber user id.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"picture"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"picture.text"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Description of the photo. Can be an empty string if irrelevant. Max 120 characters.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"picture.media"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"URL of the image (JPEG). Max size 1 MB. Only JPEG format is supported. Other image formats as well as animated GIFs can be sent as URL messages or file messages.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"picture.thumbnail"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"URL of a reduced size image (JPEG). Max size 100 kb. Recommended: 400x400. Only JPEG format is supported.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters.")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"client.sendPicture(USER_ID, {\n  text: 'Photo description',\n  media: 'http://www.images.com/img.jpg',\n  thumbnail: 'http://www.images.com/thumb.jpg',\n});\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendvideoreceiver-video--options---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendVideo(receiver, video [, options])")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.viber.com/docs/api/rest-bot-api/#video-message"},"Official Docs")),(0,l.kt)("p",null,"Sending a video message to a user."),(0,l.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/31481918-5fa12074-aeeb-11e7-8287-830197d93b5b.jpg",width:"300"}),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"receiver"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Unique Viber user id.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"video"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"video.media"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"URL of the video (MP4, H264). Max size 50 MB. Only MP4 and H264 are supported.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"video.size"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Number")),(0,l.kt)("td",{parentName:"tr",align:null},"Size of the video in bytes.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"video.duration"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Number")),(0,l.kt)("td",{parentName:"tr",align:null},"Video duration in seconds; will be displayed to the receiver. Max 180 seconds.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"video.thumbnail"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"URL of a reduced size image (JPEG). Max size 100 kb. Recommended: 400x400. Only JPEG format is supported.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters.")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"client.sendVideo(USER_ID, {\n  media: 'http://www.images.com/video.mp4',\n  size: 10000,\n  thumbnail: 'http://www.images.com/thumb.jpg',\n  duration: 10,\n});\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendfilereceiver-file--options---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendFile(receiver, file [, options])")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.viber.com/docs/api/rest-bot-api/#file-message"},"Official Docs")),(0,l.kt)("p",null,"Sending a file message to a user."),(0,l.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/31481919-600f437e-aeeb-11e7-9f13-7269a055cb86.jpg",width:"300"}),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"receiver"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Unique Viber user id.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"file"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"file.media"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"URL of the file. Max size 50 MB. See ",(0,l.kt)("a",{parentName:"td",href:"https://developers.viber.com/docs/api/rest-bot-api/#forbiddenFileFormats"},"forbidden file formats")," for unsupported file types.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"file.size"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Number")),(0,l.kt)("td",{parentName:"tr",align:null},"Size of the file in bytes.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"file.fileName"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Name of the file. File name should include extension. Max 256 characters (including file extension).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters.")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"client.sendFile(USER_ID, {\n  media: 'http://www.images.com/file.doc',\n  size: 10000,\n  fileName: 'name_of_file.doc',\n});\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendcontactreceiver-contact--options---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendContact(receiver, contact [, options])")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.viber.com/docs/api/rest-bot-api/#contact-message"},"Official Docs")),(0,l.kt)("p",null,"Sending a contact message to a user."),(0,l.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/31481924-615ce8b2-aeeb-11e7-8425-2d3bfa115fc1.jpg",width:"300"}),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"receiver"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Unique Viber user id.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"contact"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"contact.name"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Name of the contact. Max 28 characters.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"contact.phoneNumber"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Phone number of the contact. Max 18 characters.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters.")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"client.sendContact(USER_ID, {\n  name: 'Itamar',\n  phoneNumber: '+972511123123',\n});\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendlocationreceiver-location--options---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendLocation(receiver, location [, options])")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.viber.com/docs/api/rest-bot-api/#location-message"},"Official Docs")),(0,l.kt)("p",null,"Sending a location message to a user."),(0,l.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/31481923-61199a9e-aeeb-11e7-8a25-e3813eceb25b.jpg",width:"300"}),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"receiver"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Unique Viber user id.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"location"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"location.lat"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Latitude (\xb190\xb0) within valid ranges.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"location.lon"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Longitude (\xb1180\xb0) within valid ranges.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters.")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"client.sendLocation(USER_ID, {\n  lat: '37.7898',\n  lon: '-122.3942',\n});\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendurlreceiver-url--options---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendURL(receiver, url [, options])")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.viber.com/docs/api/rest-bot-api/#url-message"},"Official Docs")),(0,l.kt)("p",null,"Sending an URL message to a user."),(0,l.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/31481921-6069f346-aeeb-11e7-97bf-83a17da0bc7a.jpg",width:"300"}),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"receiver"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Unique Viber user id.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"url"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"URL. Max 2,000 characters.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters.")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"client.sendURL(USER_ID, 'http://developers.viber.com');\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendstickerreceiver-stickerid--options---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendSticker(receiver, stickerId [, options])")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.viber.com/docs/api/rest-bot-api/#sticker-message"},"Official Docs")),(0,l.kt)("p",null,"Sending a sticker message to a user."),(0,l.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/31481922-60c2c444-aeeb-11e7-8fc9-bce2e5d06c42.jpg",width:"300"}),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"receiver"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Unique Viber user id.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"stickerId"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Number")),(0,l.kt)("td",{parentName:"tr",align:null},"Unique Viber sticker ID. For examples visit the ",(0,l.kt)("a",{parentName:"td",href:"https://viber.github.io/docs/tools/sticker-ids/"},"sticker IDs")," page.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters.")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"client.sendSticker(USER_ID, 46105);\n")),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"sendcarouselcontentreceiver-richmedia--options---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"sendCarouselContent(receiver, richMedia [, options])")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.viber.com/docs/api/rest-bot-api/#carousel-content-message"},"Official Docs")),(0,l.kt)("p",null,"Sending a carousel content message to a user."),(0,l.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/31481917-5f1b43b4-aeeb-11e7-8557-e25951d69b53.jpg",width:"300"}),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"receiver"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Unique Viber user id.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"richMedia.ButtonsGroupColumns"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Number")),(0,l.kt)("td",{parentName:"tr",align:null},"Number of columns per carousel content block. Default 6 columns. Possible values: 1 - 6.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"richMedia.ButtonsGroupRows"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Number")),(0,l.kt)("td",{parentName:"tr",align:null},"Number of rows per carousel content block. Default 7 rows. Possible values: 1 - 7.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"richMedia.Buttons"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Array<Object>")),(0,l.kt)("td",{parentName:"tr",align:null},"Array of buttons. Max of 6 ",(0,l.kt)("em",{parentName:"td"}," ButtonsGroupColumns ")," ButtonsGroupRows.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Object")),(0,l.kt)("td",{parentName:"tr",align:null},"Other optional parameters.")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"client.sendCarouselContent(USER_ID, {\n  type: 'rich_media',\n  buttonsGroupColumns: 6,\n  buttonsGroupRows: 7,\n  bgColor: '#FFFFFF',\n  buttons: [\n    {\n      columns: 6,\n      rows: 3,\n      actionType: 'open-url',\n      actionBody: 'https://www.google.com',\n      image: 'http://html-test:8080/myweb/guy/assets/imageRMsmall2.png',\n    },\n    {\n      columns: 6,\n      rows: 2,\n      text: '<font color=#323232><b>Headphones with Microphone, On-ear Wired earphones</b></font><font color=#777777><br/>Sound Intone </font><font color=#6fc133>$17.99</font>',\n      actionType: 'open-url',\n      actionBody: 'https://www.google.com',\n      textSize: 'medium',\n      textVAlign: 'middle',\n      textHAlign: 'left',\n    },\n    {\n      columns: 6,\n      rows: 1,\n      actionType: 'reply',\n      actionBody: 'https://www.google.com',\n      text: '<font color=#ffffff>Buy</font>',\n      textSize: 'large',\n      textVAlign: 'middle',\n      textHAlign: 'middle',\n      image: 'https://s14.postimg.org/4mmt4rw1t/Button.png',\n    },\n    {\n      columns: 6,\n      rows: 1,\n      actionType: 'reply',\n      actionBody: 'https://www.google.com',\n      text: '<font color=#8367db>MORE DETAILS</font>',\n      textSize: 'small',\n      textVAlign: 'middle',\n      textHAlign: 'middle',\n    },\n    {\n      columns: 6,\n      rows: 3,\n      actionType: 'open-url',\n      actionBody: 'https://www.google.com',\n      image: 'https://s16.postimg.org/wi8jx20wl/image_RMsmall2.png',\n    },\n    {\n      columns: 6,\n      rows: 2,\n      text: \"<font color=#323232><b>Hanes Men's Humor Graphic T-Shirt</b></font><font color=#777777><br/>Hanes</font><font color=#6fc133>$10.99</font>\",\n      actionType: 'open-url',\n      actionBody: 'https://www.google.com',\n      textSize: 'medium',\n      textVAlign: 'middle',\n      textHAlign: 'left',\n    },\n    {\n      columns: 6,\n      rows: 1,\n      actionType: 'reply',\n      actionBody: 'https://www.google.com',\n      text: '<font color=#ffffff>Buy</font>',\n      textSize: 'large',\n      textVAlign: 'middle',\n      textHAlign: 'middle',\n      image: 'https://s14.postimg.org/4mmt4rw1t/Button.png',\n    },\n    {\n      columns: 6,\n      rows: 1,\n      actionType: 'reply',\n      actionBody: 'https://www.google.com',\n      text: '<font color=#8367db>MORE DETAILS</font>',\n      textSize: 'small',\n      textVAlign: 'middle',\n      textHAlign: 'middle',\n    },\n  ],\n});\n")),(0,l.kt)("br",null),(0,l.kt)("a",{id:"keyboards"}),(0,l.kt)("h3",{id:"keyboards---official-docs"},"Keyboards - ",(0,l.kt)("a",{parentName:"h3",href:"https://developers.viber.com/docs/api/rest-bot-api/#keyboards"},"Official Docs")),(0,l.kt)("p",null,"The Viber API allows sending a custom keyboard using the send message API, to supply the user with a set of predefined replies or actions. Keyboards can be attached to any message type and be sent and displayed together. To attach a keyboard to a message simply add the keyboard\u2019s parameters to the options:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"client.sendText(USER_ID, 'Hello', {\n  keyboard: {\n    defaultHeight: true,\n    bgColor: '#FFFFFF',\n    buttons: [\n      {\n        columns: 6,\n        rows: 1,\n        bgColor: '#2db9b9',\n        bgMediaType: 'gif',\n        bgMedia: 'http://www.url.by/test.gif',\n        bgLoop: true,\n        actionType: 'open-url',\n        actionBody: 'www.tut.by',\n        image: 'www.tut.by/img.jpg',\n        text: 'Key text',\n        textVAlign: 'middle',\n        textHAlign: 'center',\n        textOpacity: 60,\n        textSize: 'regular',\n      },\n    ],\n  },\n});\n")),(0,l.kt)("p",null,"Which in turn will look like this:"),(0,l.kt)("img",{src:"https://developers.viber.com/docs/img/example_keyboard.png",width:"300"}),(0,l.kt)("br",null),(0,l.kt)("a",{id:"broadcast-api"}),(0,l.kt)("h3",{id:"broadcast-api---official-docs"},"Broadcast API - ",(0,l.kt)("a",{parentName:"h3",href:"https://developers.viber.com/docs/api/rest-bot-api/#broadcast-message"},"Official Docs")),(0,l.kt)("p",null,"Those API methods use the same parameters as the send methods with a few variations described below. You should specify a list of receivers instead of a single receiver."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"broadcastMessage(broadcastList, message)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"broadcastText(broadcastList, text [, options])")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"broadcastPicture(broadcastList, picture [, options])")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"broadcastVideo(broadcastList, video [, options])")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"broadcastFile(broadcastList, file [, options])")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"broadcastContact(broadcastList, contact [, options])")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"broadcastLocation(broadcastList, location [, options])")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"broadcastURL(broadcastList, url [, options])")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"broadcastSticker(broadcastList, stickerId [, options])")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"broadcastCarouselContent(broadcastList, richMedia [, options])"))),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"broadcastList"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Array<String>")),(0,l.kt)("td",{parentName:"tr",align:null},"This mandatory parameter defines the recipients for the message. Every user must be subscribed and have a valid user id. The maximum list length is 300 receivers.")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"client\n  .broadcastText(\n    [\n      'pttm25kSGUo1919sBORWyA==',\n      '2yBSIsbzs7sSrh4oLm2hdQ==',\n      'EGAZ3SZRi6zW1D0uNYhQHg==',\n      'kBQYX9LrGyF5mm8JTxdmpw==',\n    ],\n    'a broadcast to everybody'\n  )\n  .then((result) => {\n    console.log(result);\n    // {\n    //   messageToken: 40808912438712,\n    //   status: 0,\n    //   statusMessage: 'ok',\n    //   failedList: [\n    //     {\n    //       receiver: 'pttm25kSGUo1919sBORWyA==',\n    //       status: 6,\n    //       statusMessage: 'Not subscribed',\n    //     },\n    //     {\n    //       receiver: 'EGAZ3SZRi6zW1D0uNYhQHg==',\n    //       status: 5,\n    //       statusMessage: 'Not found',\n    //     },\n    //   ],\n    // }\n  });\n")),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"get-account-info"},"Get Account Info"),(0,l.kt)("h4",{id:"getaccountinfo---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"getAccountInfo()")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.viber.com/docs/api/rest-bot-api/#get-account-info"},"Official Docs")),(0,l.kt)("p",null,"It will fetch the account\u2019s details as registered in Viber."),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"client.getAccountInfo().then((info) => {\n  console.log(info);\n  // {\n  //   status: 0,\n  //   statusMessage: 'ok',\n  //   id: 'pa:75346594275468546724',\n  //   name: 'account name',\n  //   uri: 'accountUri',\n  //   icon: 'http://example.com',\n  //   background: 'http://example.com',\n  //   category: 'category',\n  //   subcategory: 'sub category',\n  //   location: {\n  //     lon: 0.1,\n  //     lat: 0.2,\n  //   },\n  //   country: 'UK',\n  //   webhook: 'https://my.site.com',\n  //   eventTypes: ['delivered', 'seen'],\n  //   subscribersCount: 35,\n  //   members: [\n  //     {\n  //       id: '01234567890A=',\n  //       name: 'my name',\n  //       avatar: 'http://example.com',\n  //       role: 'admin',\n  //     },\n  //   ],\n  // }\n});\n")),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"get-user-details"},"Get User Details"),(0,l.kt)("h4",{id:"getuserdetailsid---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"getUserDetails(id)")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.viber.com/docs/api/rest-bot-api/#get-user-details"},"Official Docs")),(0,l.kt)("p",null,"It will fetch the details of a specific Viber user based on his unique user ID."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"id"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Unique Viber user id.")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"client.getUserDetails('01234567890A=').then((user) => {\n  console.log(user);\n  // {\n  //   id: '01234567890A=',\n  //   name: 'John McClane',\n  //   avatar: 'http://avatar.example.com',\n  //   country: 'UK',\n  //   language: 'en',\n  //   primaryDeviceOs: 'android 7.1',\n  //   apiVersion: 1,\n  //   viberVersion: '6.5.0',\n  //   mcc: 1,\n  //   mnc: 1,\n  //   deviceType: 'iPhone9,4',\n  // };\n});\n")),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"get-online"},"Get Online"),(0,l.kt)("h4",{id:"getonlinestatusids---official-docs"},(0,l.kt)("inlineCode",{parentName:"h4"},"getOnlineStatus(ids)")," - ",(0,l.kt)("a",{parentName:"h4",href:"https://developers.viber.com/docs/api/rest-bot-api/#get-online"},"Official Docs")),(0,l.kt)("p",null,"It will fetch the online status of a given subscribed account members."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Param"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"id"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Array<String>")),(0,l.kt)("td",{parentName:"tr",align:null},"Array of unique Viber user id. 100 ids per request.")))),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"client\n  .getOnlineStatus(['01234567890=', '01234567891=', '01234567893='])\n  .then((status) => {\n    console.log(status);\n    // [\n    //   {\n    //     id: '01234567890=',\n    //     onlineStatus: 0,\n    //     onlineStatusMessage: 'online',\n    //   },\n    //   {\n    //     id: '01234567891=',\n    //     onlineStatus: 1,\n    //     onlineStatusMessage: 'offline',\n    //     lastOnline: 1457764197627,\n    //   },\n    //   {\n    //     id: '01234567893=',\n    //     onlineStatus: 3,\n    //     onlineStatusMessage: 'tryLater',\n    //   },\n    // ];\n  });\n")),(0,l.kt)("h2",{id:"debug-tips"},"Debug Tips"),(0,l.kt)("h3",{id:"log-requests-details"},"Log Requests Details"),(0,l.kt)("p",null,"To enable default request debugger, use following ",(0,l.kt)("inlineCode",{parentName:"p"},"DEBUG")," env variable:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"DEBUG=messaging-api-viber\n")),(0,l.kt)("h2",{id:"test"},"Test"),(0,l.kt)("h3",{id:"send-requests-to-your-dummy-server"},"Send Requests to Your Dummy Server"),(0,l.kt)("p",null,"To avoid sending requests to the real Viber server, provide the ",(0,l.kt)("inlineCode",{parentName:"p"},"origin")," option in your ",(0,l.kt)("inlineCode",{parentName:"p"},"bottender.js.config")," file:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = {\n  channels: {\n    viber: {\n      enabled: true,\n      path: '/webhooks/viber',\n      accessToken: process.env.VIBER_ACCESS_TOKEN,\n      sender: {\n        name: 'Sender Name',\n      },\n      origin:\n        process.env.NODE_ENV === 'test'\n          ? 'https://mydummytestserver.com'\n          : undefined,\n    },\n  },\n};\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("strong",{parentName:"p"},"Warning:")," Don't do this on the production server.")))}m.isMDXComponent=!0}}]);