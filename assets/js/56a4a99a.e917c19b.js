"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[14607],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>u});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var i=n.createContext({}),p=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(i.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,i=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=p(a),u=o,g=m["".concat(i,".").concat(u)]||m[u]||c[u]||r;return a?n.createElement(g,s(s({ref:t},d),{},{components:a})):n.createElement(g,s({ref:t},d))}));function u(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,s=new Array(r);s[0]=m;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l.mdxType="string"==typeof e?e:o,s[1]=l;for(var p=2;p<r;p++)s[p]=a[p];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},3344:(e,t,a)=>{a.r(t),a.d(t,{frontMatter:()=>l,contentTitle:()=>i,metadata:()=>p,toc:()=>d,default:()=>m});var n=a(87462),o=a(63366),r=(a(67294),a(3905)),s=["components"],l={id:"channel-telegram-sending-messages",title:"Sending Telegram Messages",original_id:"channel-telegram-sending-messages"},i=void 0,p={unversionedId:"channel-telegram-sending-messages",id:"version-1.3.0/channel-telegram-sending-messages",isDocsHomePage:!1,title:"Sending Telegram Messages",description:"The more I know about Telegram, the more I love it. It might be the best chat channel for educational, experimental, personal bot project.",source:"@site/versioned_docs/version-1.3.0/channel-telegram-sending-messages.md",sourceDirName:".",slug:"/channel-telegram-sending-messages",permalink:"/docs/1.3.0/channel-telegram-sending-messages",editUrl:"https://github.com/Yoctol/bottender/edit/master/docs/versioned_docs/version-1.3.0/channel-telegram-sending-messages.md",tags:[],version:"1.3.0",lastUpdatedBy:"\u5433\u6771\u66c4 Wu, Dung-Ie",lastUpdatedAt:1636542901,formattedLastUpdatedAt:"11/10/2021",frontMatter:{id:"channel-telegram-sending-messages",title:"Sending Telegram Messages",original_id:"channel-telegram-sending-messages"},sidebar:"version-1.3.0/docs",previous:{title:"Handling Telegram Events",permalink:"/docs/1.3.0/channel-telegram-handling-events"},next:{title:"Telegram Routings",permalink:"/docs/1.3.0/channel-telegram-routing"}},d=[{value:"Basic Factors of Telegram Bots: Messages, Reply Markup, Updatable",id:"basic-factors-of-telegram-bots-messages-reply-markup-updatable",children:[],level:3},{value:"Bottender Playground",id:"bottender-playground",children:[],level:3},{value:"Sending Text Messages",id:"sending-text-messages",children:[{value:"Markdown Style Parse Mode",id:"markdown-style-parse-mode",children:[],level:3},{value:"HTML Style Parse Mode",id:"html-style-parse-mode",children:[],level:3}],level:2},{value:"Sending Rich Media Messages",id:"sending-rich-media-messages",children:[{value:"Photo",id:"photo",children:[],level:3},{value:"Audio",id:"audio",children:[],level:3},{value:"Document",id:"document",children:[],level:3},{value:"Video",id:"video",children:[],level:3},{value:"Animation",id:"animation",children:[],level:3},{value:"Sticker",id:"sticker",children:[],level:3},{value:"Voice",id:"voice",children:[],level:3},{value:"VideoNote",id:"videonote",children:[],level:3},{value:"MediaGroup",id:"mediagroup",children:[],level:3},{value:"Location",id:"location",children:[],level:3},{value:"Venue",id:"venue",children:[],level:3},{value:"Contact",id:"contact",children:[],level:3},{value:"Poll",id:"poll",children:[],level:3},{value:"Invoice",id:"invoice",children:[],level:3},{value:"ChatAction",id:"chataction",children:[],level:3},{value:"Forward Messages",id:"forward-messages",children:[],level:3}],level:2},{value:"Sending with Reply Markup",id:"sending-with-reply-markup",children:[{value:"Inline Keyboard",id:"inline-keyboard",children:[],level:3},{value:"Keyboard",id:"keyboard",children:[],level:3},{value:"How To Send A Reply Markup",id:"how-to-send-a-reply-markup",children:[{value:"sendText",id:"sendtext",children:[],level:4},{value:"sendPhoto",id:"sendphoto",children:[],level:4},{value:"sendAudio",id:"sendaudio",children:[],level:4},{value:"sendDocument",id:"senddocument",children:[],level:4},{value:"sendVideo",id:"sendvideo",children:[],level:4},{value:"sendAnimation",id:"sendanimation",children:[],level:4},{value:"sendSticker",id:"sendsticker",children:[],level:4},{value:"sendVoice",id:"sendvoice",children:[],level:4},{value:"sendVideoNote",id:"sendvideonote",children:[],level:4},{value:"sendMediaGroup",id:"sendmediagroup",children:[],level:4},{value:"sendLocation",id:"sendlocation",children:[],level:4},{value:"sendVenue",id:"sendvenue",children:[],level:4},{value:"sendContact",id:"sendcontact",children:[],level:4}],level:3}],level:2},{value:"Updating Messages",id:"updating-messages",children:[{value:"Update Text",id:"update-text",children:[],level:3},{value:"Update Caption",id:"update-caption",children:[],level:3},{value:"Update Media",id:"update-media",children:[],level:3},{value:"Update ReplyMarkup",id:"update-replymarkup",children:[],level:3}],level:2},{value:"Delete Messages",id:"delete-messages",children:[],level:2},{value:"Rate Limits",id:"rate-limits",children:[],level:2}],c={toc:d};function m(e){var t=e.components,a=(0,o.Z)(e,s);return(0,r.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The more I know about Telegram, the more I love it. It might be the best chat channel for educational, experimental, personal bot project."),(0,r.kt)("p",null,"Although Telegram is not one of the top 5 chat channels, I surprisingly found that Telegram is the most activity chat channels for bots from ",(0,r.kt)("a",{parentName:"p",href:"https://trends.google.com/trends/explore?date=2018-01-01%202019-01-01&q=Telegram%20Bot,Slack%20App,LINE%20Bot,Messenger%20Bot,Viber%20Bot"},"Google Trends.")),(0,r.kt)("p",null,(0,r.kt)("img",{width:"100%",src:"https://user-images.githubusercontent.com/662387/71064407-fad9f880-21a9-11ea-9022-9d0a566fc29c.png"})),(0,r.kt)("p",null,"Plus, I may argue that Telegram is the most developer-friendly chat channel. For example:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"You don't need a developer account to build bots. You just needs to talk to @BotFather (see Bottender doc, ",(0,r.kt)("a",{parentName:"li",href:"/docs/1.3.0/channel-telegram-setup"},"Telegram Setup")," for more info)"),(0,r.kt)("li",{parentName:"ul"},"The desktop and mobile version of Telegram has quite similar behavior"),(0,r.kt)("li",{parentName:"ul"},"Your app can proactively send messages to your users without extra cost (while Messenger or LINE asked for extra cost for push messages)")),(0,r.kt)("p",null,(0,r.kt)("img",{width:"300",src:"https://user-images.githubusercontent.com/662387/70965210-e292ac80-20c9-11ea-9f1b-74abced2ff9e.jpeg"}),(0,r.kt)("br",null)," ",(0,r.kt)("em",null,"Telegram is so freindly that developers can't refuse")," "),(0,r.kt)("p",null,"Telegram also cares about user's privacy. For example, you may check ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots#privacy-mode"},'"Privacy Mode"')," before building a Telegram Bot for group chat. By default, A bot running in privacy mode only receives certain types of messages instead of complete chat history."),(0,r.kt)("h3",{id:"basic-factors-of-telegram-bots-messages-reply-markup-updatable"},"Basic Factors of Telegram Bots: Messages, Reply Markup, Updatable"),(0,r.kt)("p",null,"Briefly speaking, the two basic concepts you need to know about Telegram bots are: ",(0,r.kt)("inlineCode",{parentName:"p"},"Messages")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Reply Markup.")," Both of them are ",(0,r.kt)("inlineCode",{parentName:"p"},"Updatable.")),(0,r.kt)("p",null,"Telegram Bots support a bunch of rich messages. For example, even you can send ",(0,r.kt)("inlineCode",{parentName:"p"},"Markdown")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"HTML")," in ",(0,r.kt)("inlineCode",{parentName:"p"},"Text Messages.")," You can even send ",(0,r.kt)("inlineCode",{parentName:"p"},"Invoice Message")," if your bot has a payment feature. Don't miss the lovely ",(0,r.kt)("inlineCode",{parentName:"p"},"Sticker Message.")," Telegram helps you to host ",(0,r.kt)("inlineCode",{parentName:"p"},"Sticker Pack"),"."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Reply Markup")," is similar to the combination of ",(0,r.kt)("inlineCode",{parentName:"p"},"Quick Replies")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Buttons")," on Messenger or LINE. It is attached under a message and offered multiple choices to guide your users to open a webpage, trigger a bot action, reply a message on user's behalf,"),(0,r.kt)("p",null,"Every ",(0,r.kt)("inlineCode",{parentName:"p"},"Messages")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Reply Markup")," is updatable. Remember to manage your bot sent messages if you tend to make a message update afterward."),(0,r.kt)("p",null,"In the following code, you can see a quick example of the message update."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const response = await context.sendMessage('hello');\nawait context.editMessageText(response.messageId, '*world*', {\n  parseMode: 'markdown',\n});\n")),(0,r.kt)("h3",{id:"bottender-playground"},"Bottender Playground"),(0,r.kt)("p",null,"If you can't wait to try Telegram Bots features, we prepared a simple demo bot for you, ",(0,r.kt)("a",{parentName:"p",href:"https://t.me/BottenderPlaygroundBot"},"Bottender Playground"),"."),(0,r.kt)("p",null,(0,r.kt)("a",{href:"https://t.me/BottenderPlaygroundBot",target:"_blank"},(0,r.kt)("img",{width:"400",src:"https://user-images.githubusercontent.com/662387/71342435-c0040600-2597-11ea-8258-ae8e06c89575.gif"}))),(0,r.kt)("hr",null),(0,r.kt)("p",null,"In the following sections, you can see a brief introduction about using Telegram APIs in Bottender."),(0,r.kt)("h2",{id:"sending-text-messages"},"Sending Text Messages"),(0,r.kt)("p",null,"Use this method to send text messages. You can choose to send a message in plain text, ",(0,r.kt)("inlineCode",{parentName:"p"},"Markdown,")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"HTML.")),(0,r.kt)("p",null,"On success, the sent message is returned. You can save the returned message for further updates."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendMessage('hello');\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc, ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#sendmessage"},"sendMessage"),".")),(0,r.kt)("h3",{id:"markdown-style-parse-mode"},"Markdown Style Parse Mode"),(0,r.kt)("p",null,"Use this method to send text messages in ",(0,r.kt)("inlineCode",{parentName:"p"},"Markdown.")),(0,r.kt)("p",null,"On success, the sent message is returned. You can save the returned message for further updates."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendMessage('*hello*', { parseMode: 'markdown' });\n")),(0,r.kt)("p",null,"You can see the possible ",(0,r.kt)("inlineCode",{parentName:"p"},"Markdown")," format below."),(0,r.kt)("p",null,(0,r.kt)("img",{width:"800",src:"https://user-images.githubusercontent.com/662387/71338571-5ed63580-258b-11ea-8362-8de4a081c4b0.png"})),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc, ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#formatting-options"},"Formatting Options"),".")),(0,r.kt)("h3",{id:"html-style-parse-mode"},"HTML Style Parse Mode"),(0,r.kt)("p",null,"Use this method to send text messages in HTML."),(0,r.kt)("p",null,"On success, the sent message is returned. You can save the returned message for further updates."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<b>bold</b>, <strong>bold</strong> <i>italic</i>, <em>italic</em>\n<a href="http://www.example.com/">inline URL</a>\n<a href="tg://user?id=123456789">inline mention of a user</a>\n<code>inline fixed-width code</code>\n<pre>pre-formatted fixed-width code block</pre>\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendMessage('<b>hello</b>', { parseMode: 'html' });\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc, ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#formatting-options"},"Formatting Options"),".")),(0,r.kt)("h2",{id:"sending-rich-media-messages"},"Sending Rich Media Messages"),(0,r.kt)("p",null,"Sending Rich Media in Telegram is straightforward and consistent, in the majority of the case, all you need to prepare is a URL."),(0,r.kt)("h3",{id:"photo"},"Photo"),(0,r.kt)("p",null,"Use this method to send photos. On success, the sent message is returned."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendPhoto('https://www.example.com/example.png');\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc, ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#sendphoto"},"sendPhoto"),".")),(0,r.kt)("h3",{id:"audio"},"Audio"),(0,r.kt)("p",null,"Use this method to send audio. On success, the sent message is returned."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendAudio('https://www.example.com/example.mp3');\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc, ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#sendaudio"},"sendAudio"),".")),(0,r.kt)("h3",{id:"document"},"Document"),(0,r.kt)("p",null,"Use this method to send general files. On success, the sent message is returned. Bots can currently send files of any type of up to 50 MB in size; this limit may change in the future."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendDocument('https://www.example.com/example.gif');\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc, ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#senddocument"},"sendDocument"),".")),(0,r.kt)("h3",{id:"video"},"Video"),(0,r.kt)("p",null,"Use this method to send video files; Telegram clients support mp4 videos (other formats may be sent as ",(0,r.kt)("inlineCode",{parentName:"p"},"Document"),"). On success, the sent message is returned. Bots can currently send video files of up to 50 MB in size; this limit may change in the future."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendVideo('https://www.example.com/example.mp4');\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc, ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#sendvideo"},"sendVideo"),".")),(0,r.kt)("h3",{id:"animation"},"Animation"),(0,r.kt)("p",null,"Use this method to send animation files (GIF or H.264/MPEG-4 AVC video ",(0,r.kt)("strong",{parentName:"p"},"without sound"),"). On success, the sent message is returned. Bots can currently send animation files of up to 50 MB in size; this limit may change in the future."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendAnimation('https://www.example.com/example.mp4');\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc, ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#sendanimation"},"sendAnimation"),".")),(0,r.kt)("h3",{id:"sticker"},"Sticker"),(0,r.kt)("p",null,"Use this method to send static ",(0,r.kt)("inlineCode",{parentName:"p"},".WEBP")," or animated ",(0,r.kt)("inlineCode",{parentName:"p"},".TGS")," stickers. On success, the sent message is returned."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendSticker('CAADAgADQAADyIsGAAE7MpzFPFQX5QI');\n")),(0,r.kt)("p",null,"If you are eager to know the sticker ID of existing stickers, you may refer to the following code."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = async function App(context) {\n  if (context.event.isSticker) {\n    await context.sendText(\n      `received the sticker: ${context.event.sticker.fileId}`\n    );\n  }\n};\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc, ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#sendsticker"},"sendSticker"),".")),(0,r.kt)("h3",{id:"voice"},"Voice"),(0,r.kt)("p",null,"Use this method to send audio files, if you want Telegram clients to display the file as a playable voice message."),(0,r.kt)("p",null,"For this to work, your audio must be in an .ogg file encoded with OPUS (other formats may be sent as Audio or Document). On success, the sent message is returned. Bots can currently send voice messages of up to 50 MB in size; this limit may change in the future."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendVoice('https://www.example.com/example.ogg');\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc, ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#sendvoice"},"sendVoice"),".")),(0,r.kt)("h3",{id:"videonote"},"VideoNote"),(0,r.kt)("p",null,"As of v.4.0, Telegram clients support rounded square mp4 videos of up to 1 minute long. Use this method to send video messages. On success, the sent message is returned."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendVideoNote('https://www.example.com/example.mp4');\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc, ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#sendvideonote"},"sendVideoNote"),".")),(0,r.kt)("h3",{id:"mediagroup"},"MediaGroup"),(0,r.kt)("p",null,"Use this method to send a group of photos or videos as an album. On success, an array of the sent messages is returned."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendMediaGroup([\n  { type: 'photo', media: 'https://http.cat/100' },\n  { type: 'photo', media: 'https://http.cat/101' },\n]);\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc, ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#sendmediagroup"},"sendMediaGroup"),".")),(0,r.kt)("h3",{id:"location"},"Location"),(0,r.kt)("p",null,"Use this method to send a location point on the map. On success, the sent message is returned."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendLocation({ latitude: 25.105497, longitude: 121.597366 });\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc, ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#sendlocation"},"sendLocation"),".")),(0,r.kt)("h3",{id:"venue"},"Venue"),(0,r.kt)("p",null,"Use this method to send information about a venue. On success, the sent message is returned."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendVenue({\n  location: { latitude: 25.105497, longitude: 121.597366 },\n  title: 'taipei',\n  address: 'taipei address',\n});\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc, ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#sendvenue"},"sendVenue"),".")),(0,r.kt)("h3",{id:"contact"},"Contact"),(0,r.kt)("p",null,"Use this method to send phone contacts. On success, the sent message is returned."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendContact({\n  phoneNumber: '123456',\n  firstName: 'first',\n});\n")),(0,r.kt)("p",null,"If you have optional parameters, put them into the second argument."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendContact(\n  {\n    phoneNumber: '123456',\n    firstName: 'first',\n  },\n  {\n    lastName: '213',\n  }\n);\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc, ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#sendcontact"},"sendContact"),".")),(0,r.kt)("h3",{id:"poll"},"Poll"),(0,r.kt)("p",null,"Use this method to send a native poll. A native poll can't be sent to a private chat. On success, the sent message is returned."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendPoll('Which one is your favorite food?', [\n  '\ud83c\udf54',\n  '\ud83c\udf55',\n  '\ud83c\udf2e',\n  '\ud83c\udf71',\n]);\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:")),(0,r.kt)("ul",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ul"},"If you try to send poll in a private chat, you will get an error message like, ",(0,r.kt)("inlineCode",{parentName:"li"},'"description": "Bad Request: polls can\'t be sent to private chats"'),"."),(0,r.kt)("li",{parentName:"ul"},"For more info, please refer to Telegram's official doc, ",(0,r.kt)("a",{parentName:"li",href:"https://core.telegram.org/bots/api#sendpoll"},"sendPoll"),"."))),(0,r.kt)("h3",{id:"invoice"},"Invoice"),(0,r.kt)("p",null,"You have to enable payment provider for your Telegram Bot before sending Invoice. Use this method to send invoices. On success, the sent message is returned."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const invoice = {\n  title: 'product name',\n  description: 'product description',\n  payload: 'bot-defined invoice payload',\n  providerToken: 'PROVIDER_TOKEN',\n  startParameter: 'pay',\n  currency: 'USD',\n  prices: [\n    { label: 'product', amount: 11000 },\n    { label: 'tax', amount: 11000 },\n  ],\n};\nawait context.sendInvoice(invoice);\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc, ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#sendinvoice"},"sendInvoice"),".")),(0,r.kt)("h3",{id:"chataction"},"ChatAction"),(0,r.kt)("p",null,"Use this method to make your bot more human-like. The status is set for 5 seconds or less (when a message arrives from your bot, Telegram clients clear its typing status). Returns True on success."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendChatAction('typing');\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"typing")," for text messages,\n",(0,r.kt)("inlineCode",{parentName:"p"},"upload_photo")," for photos,\n",(0,r.kt)("inlineCode",{parentName:"p"},"record_video")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"upload_video")," for videos,\n",(0,r.kt)("inlineCode",{parentName:"p"},"record_audio")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"upload_audio")," for audio files,\n",(0,r.kt)("inlineCode",{parentName:"p"},"upload_document")," for general files,\n",(0,r.kt)("inlineCode",{parentName:"p"},"find_location")," for location data,\n",(0,r.kt)("inlineCode",{parentName:"p"},"record_video_note")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"upload_video_note")," for video notes."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc, ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#sendchataction"},"sendChatAction"),".")),(0,r.kt)("h3",{id:"forward-messages"},"Forward Messages"),(0,r.kt)("p",null,"Use this method to forward messages of any kind. On success, the sent Message is returned."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const chatId = 313534466;\nawait context.forwardMessageFrom(chatId, 'messageId', {\n  disableNotification: true,\n});\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const chatId = 413534466;\nawait context.forwardMessageTo(chatId, 'messageId', {\n  disableNotification: true,\n});\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc, ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#forwardmessage"},"forwardMesasge"),".")),(0,r.kt)("h2",{id:"sending-with-reply-markup"},"Sending with Reply Markup"),(0,r.kt)("p",null,"For bot users, ",(0,r.kt)("inlineCode",{parentName:"p"},"Reply Markup")," are useful guides to the next possible actions. ",(0,r.kt)("inlineCode",{parentName:"p"},"Reply Markup")," in Telegram is similar to the combination of ",(0,r.kt)("inlineCode",{parentName:"p"},"Quick Reply")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Button")," in Messenger and LINE."),(0,r.kt)("h3",{id:"inline-keyboard"},"Inline Keyboard"),(0,r.kt)("p",null,"This object represents an inline keyboard that appears right next to the message it belongs to."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const replyMarkup = {\n  inlineKeyboard: [\n    [\n      {\n        text: 'hi',\n        url: 'https://www.example.com',\n      },\n      {\n        text: 'yo',\n        callbackData: 'yo',\n      },\n    ],\n  ],\n};\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc,\n",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#inlinekeyboardmarkup"},"Inline Keyboards Markup"),", ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/2-0-intro#new-inline-keyboards"},"New Inline Keyboards"),", and ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots#inline-keyboards-and-on-the-fly-updating"},"Inline Keyboards(On the Fly)"),",.")),(0,r.kt)("h3",{id:"keyboard"},"Keyboard"),(0,r.kt)("p",null,(0,r.kt)("img",{width:"300",src:"https://user-images.githubusercontent.com/662387/70965224-e45c7000-20c9-11ea-9a1d-2e911e00e435.jpeg"})),(0,r.kt)("p",null,(0,r.kt)("img",{width:"300",src:"https://user-images.githubusercontent.com/662387/70965221-e3c3d980-20c9-11ea-9b9d-05410817c5d8.jpeg"})),(0,r.kt)("p",null,"Whenever your bot sends a message, it can pass along a special keyboard with predefined reply options."),(0,r.kt)("p",null,"Telegram apps that receive the message display your keyboard to the user. Tapping any of the buttons immediately sends the respective command."),(0,r.kt)("p",null,"If you want your keyboard disappears after any tap, try to set ",(0,r.kt)("inlineCode",{parentName:"p"},"oneTimeKeyboard")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),". Set ",(0,r.kt)("inlineCode",{parentName:"p"},"selective")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," if you just want to offer keyboards to the mentioned users."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const replyMarkup = {\n  keyboard: [\n    [\n      {\n        text: 'hi',\n      },\n      {\n        text: 'yo',\n      },\n    ],\n  ],\n};\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc,\n",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots#keyboards"},"Keyboards"),", ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api/#replykeyboardmarkup"},"Reply Keyboards"),", and ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api/#replykeyboardremove"},"Remove Reply Keyboard"),".")),(0,r.kt)("h3",{id:"how-to-send-a-reply-markup"},"How To Send A Reply Markup"),(0,r.kt)("p",null,"You will see how to send a ",(0,r.kt)("inlineCode",{parentName:"p"},"Reply Markup")," in the code below."),(0,r.kt)("h4",{id:"sendtext"},"sendText"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendText(text, { replyMarkup });\n")),(0,r.kt)("h4",{id:"sendphoto"},"sendPhoto"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendPhoto(url, { replyMarkup });\n")),(0,r.kt)("h4",{id:"sendaudio"},"sendAudio"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendAudio(url, { replyMarkup });\n")),(0,r.kt)("h4",{id:"senddocument"},"sendDocument"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendDocument(url, { replyMarkup });\n")),(0,r.kt)("h4",{id:"sendvideo"},"sendVideo"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendVideo(url, { replyMarkup });\n")),(0,r.kt)("h4",{id:"sendanimation"},"sendAnimation"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendAnimation(url, { replyMarkup });\n")),(0,r.kt)("h4",{id:"sendsticker"},"sendSticker"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendSticker(sticker, { replyMarkup });\n")),(0,r.kt)("h4",{id:"sendvoice"},"sendVoice"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendVoice(url, { replyMarkup });\n")),(0,r.kt)("h4",{id:"sendvideonote"},"sendVideoNote"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendVideoNote(url, { replyMarkup });\n")),(0,r.kt)("h4",{id:"sendmediagroup"},"sendMediaGroup"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendMediaGroup([media], { replyMarkup });\n")),(0,r.kt)("h4",{id:"sendlocation"},"sendLocation"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendLocation(location, { replyMarkup });\n")),(0,r.kt)("h4",{id:"sendvenue"},"sendVenue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendVenue(venue, { replyMarkup });\n")),(0,r.kt)("h4",{id:"sendcontact"},"sendContact"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await context.sendContact(contact, { replyMarkup });\n")),(0,r.kt)("h2",{id:"updating-messages"},"Updating Messages"),(0,r.kt)("p",null,"Telegram offers bots the capability to update sent messages. A Telegram bots can even delete a sent message by itself."),(0,r.kt)("p",null,"You can see a few update example code below."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc,\n",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#updating-messages"},"Update Messages"))),(0,r.kt)("h3",{id:"update-text"},"Update Text"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const response = await context.sendMessage('hello');\nawait context.editMessageText(response.messageId, '*world*', {\n  parseMode: 'markdown',\n});\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc,\n",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#editmessagetext"},"Edit Message Text"))),(0,r.kt)("h3",{id:"update-caption"},"Update Caption"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const response = await context.sendPhoto('https://http.cat/302', {\n  caption: `original caption`,\n});\nawait context.editMessageCaption(response.messageId, 'new caption');\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc,\n",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#editmessagecaption"},"Edit Message Caption"))),(0,r.kt)("h3",{id:"update-media"},"Update Media"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const response = await context.sendPhoto('https://http.cat/100');\nawait context.editMessageMedia(response.messageId, {\n  type: 'photo',\n  media: 'https://http.cat/302',\n});\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc,\n",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#editmessagemedia"},"Edit Message Media"))),(0,r.kt)("h3",{id:"update-replymarkup"},"Update ReplyMarkup"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const replyMarkup = {\n  inlineKeyboard: [\n    [\n      {\n        text: 'hi',\n        url: 'https://www.example.com',\n      },\n      {\n        text: 'yo',\n        callbackData: 'yo',\n      },\n    ],\n  ],\n};\nconst response = await context.sendMessage('hello');\nawait context.editMessageReplyMarkup(response.messageId, replyMarkup);\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc,\n",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#editmessagereplymarkup"},"Edit Message Reply Markup"))),(0,r.kt)("h2",{id:"delete-messages"},"Delete Messages"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const response = await context.sendMessage('hello');\nawait context.deleteMessage(response.messageId);\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc,\n",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/api#deletemessage"},"Delete Message"))),(0,r.kt)("h2",{id:"rate-limits"},"Rate Limits"),(0,r.kt)("p",null,"At this moment, Telegram doesn't support sending bulk messages, e.g., notifications."),(0,r.kt)("p",null,"To avoid hitting rate limits, i.e., send messages to 30 users per second, consider spreading them over longer intervals, e.g., 8-12 hours. Otherwise, you'll start getting 429 errors."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:"),"\nFor more info, please refer to Telegram's official doc about ",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/bots/faq#my-bot-is-hitting-limits-how-do-i-avoid-this"},"Rate Limit"))))}m.isMDXComponent=!0}}]);