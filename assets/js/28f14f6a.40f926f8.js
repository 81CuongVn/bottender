"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[72358],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>u});var a=n(67294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,r=e.originalType,p=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),c=s(n),u=l,k=c["".concat(p,".").concat(u)]||c[u]||m[u]||r;return n?a.createElement(k,i(i({ref:t},d),{},{components:n})):a.createElement(k,i({ref:t},d))}));function u(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=n.length,i=new Array(r);i[0]=c;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:l,i[1]=o;for(var s=2;s<r;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},59630:(e,t,n)=>{n.r(t),n.d(t,{frontMatter:()=>o,contentTitle:()=>p,metadata:()=>s,toc:()=>d,default:()=>c});var a=n(87462),l=n(63366),r=(n(67294),n(3905)),i=["components"],o={id:"api-messenger-client",title:"MessengerClient"},p=void 0,s={unversionedId:"api-messenger-client",id:"version-1.3.0/api-messenger-client",isDocsHomePage:!1,title:"MessengerClient",description:"- Usage",source:"@site/versioned_docs/version-1.3.0/api-messenger-client.md",sourceDirName:".",slug:"/api-messenger-client",permalink:"/docs/1.3.0/api-messenger-client",editUrl:"https://github.com/Yoctol/bottender/edit/master/docs/versioned_docs/version-1.3.0/api-messenger-client.md",tags:[],version:"1.3.0",lastUpdatedBy:"\u5433\u6771\u66c4 Wu, Dung-Ie",lastUpdatedAt:1636542901,formattedLastUpdatedAt:"11/10/2021",frontMatter:{id:"api-messenger-client",title:"MessengerClient"}},d=[{value:"Usage",id:"usage",children:[{value:"Error Handling",id:"error-handling",children:[],level:3}],level:2},{value:"Methods",id:"methods",children:[{value:"Send API - Official Docs",id:"send-api---official-docs",children:[{value:"<code>sendRawBody(body)</code>",id:"sendrawbodybody",children:[],level:4},{value:"<code>sendMessage(userId, message [, options])</code>",id:"sendmessageuserid-message--options",children:[],level:4}],level:3},{value:"Content Types - Content types",id:"content-types---content-types",children:[{value:"<code>sendText(userId, text [, options])</code>",id:"sendtextuserid-text--options",children:[],level:4},{value:"<code>sendAttachment(userId, attachment [, options])</code>",id:"sendattachmentuserid-attachment--options",children:[],level:4},{value:"<code>sendAudio(userId, audio [, options])</code>",id:"sendaudiouserid-audio--options",children:[],level:4},{value:"<code>sendImage(userId, image [, options])</code>",id:"sendimageuserid-image--options",children:[],level:4},{value:"<code>sendVideo(userId, video [, options])</code>",id:"sendvideouserid-video--options",children:[],level:4},{value:"<code>sendFile(userId, file [, options])</code>",id:"sendfileuserid-file--options",children:[],level:4}],level:3},{value:"Templates - Official Docs",id:"templates---official-docs",children:[{value:"<code>sendTemplate(userId, template [, options])</code>",id:"sendtemplateuserid-template--options",children:[],level:4},{value:"<code>sendButtonTemplate(userId, title, buttons [, options])</code> - Official Docs",id:"sendbuttontemplateuserid-title-buttons--options---official-docs",children:[],level:4},{value:"<code>sendGenericTemplate(userId, elements [, options])</code> - Official Docs",id:"sendgenerictemplateuserid-elements--options---official-docs",children:[],level:4},{value:"<code>sendMediaTemplate(userId, elements [, options])</code> - Official Docs",id:"sendmediatemplateuserid-elements--options---official-docs",children:[],level:4},{value:"<code>sendReceiptTemplate(userId, receipt [, options])</code> - Official Docs",id:"sendreceipttemplateuserid-receipt--options---official-docs",children:[],level:4},{value:"<code>sendAirlineBoardingPassTemplate(userId, attributes [, options])</code> - Official Docs",id:"sendairlineboardingpasstemplateuserid-attributes--options---official-docs",children:[],level:4},{value:"<code>sendAirlineCheckinTemplate(userId, attributes [, options])</code> - Official Docs",id:"sendairlinecheckintemplateuserid-attributes--options---official-docs",children:[],level:4},{value:"<code>sendAirlineItineraryTemplate(userId, attributes [, options])</code> - Official Docs",id:"sendairlineitinerarytemplateuserid-attributes--options---official-docs",children:[],level:4},{value:"<code>sendAirlineUpdateTemplate(userId, attributes [, options])</code> - Official Docs",id:"sendairlineupdatetemplateuserid-attributes--options---official-docs",children:[],level:4}],level:3},{value:"Quick Replies - Official Docs",id:"quick-replies---official-docs",children:[],level:3},{value:"Sender Actions - Official Docs",id:"sender-actions---official-docs",children:[{value:"<code>sendSenderAction(userId, action)</code>",id:"sendsenderactionuserid-action",children:[],level:4},{value:"<code>markSeen(userId)</code>",id:"markseenuserid",children:[],level:4},{value:"<code>typingOn(userId)</code>",id:"typingonuserid",children:[],level:4},{value:"<code>typingOff(userId)</code>",id:"typingoffuserid",children:[],level:4}],level:3},{value:"Attachment Upload API - Official Docs",id:"attachment-upload-api---official-docs",children:[{value:"<code>uploadAttachment(type, attachment, options)</code>",id:"uploadattachmenttype-attachment-options",children:[],level:4},{value:"<code>uploadAudio(audio, options)</code>",id:"uploadaudioaudio-options",children:[],level:4},{value:"<code>uploadImage(image, options)</code>",id:"uploadimageimage-options",children:[],level:4},{value:"<code>uploadVideo(video, options)</code>",id:"uploadvideovideo-options",children:[],level:4},{value:"<code>uploadFile(file, options)</code>",id:"uploadfilefile-options",children:[],level:4}],level:3},{value:"Message Batching - Official Docs",id:"message-batching---official-docs",children:[{value:"<code>sendBatch(requests)</code>",id:"sendbatchrequests",children:[],level:4}],level:3},{value:"Custom Labels - Official Docs",id:"custom-labels---official-docs",children:[{value:"<code>createLabel(name)</code>",id:"createlabelname",children:[],level:4},{value:"<code>associateLabel(userId, labelId)</code>",id:"associatelabeluserid-labelid",children:[],level:4},{value:"<code>dissociateLabel(userId, labelId)</code>",id:"dissociatelabeluserid-labelid",children:[],level:4},{value:"<code>getAssociatedLabels(userId)</code>",id:"getassociatedlabelsuserid",children:[],level:4},{value:"<code>getLabelDetails(labelId, options)</code>",id:"getlabeldetailslabelid-options",children:[],level:4},{value:"<code>getLabelList()</code>",id:"getlabellist",children:[],level:4},{value:"<code>deleteLabel(labelId)</code>",id:"deletelabellabelid",children:[],level:4}],level:3},{value:"User Profile API - Official Docs",id:"user-profile-api---official-docs",children:[{value:"<code>getUserProfile(userId, options)</code>",id:"getuserprofileuserid-options",children:[],level:4}],level:3},{value:"Messenger Profile API - Official Docs",id:"messenger-profile-api---official-docs",children:[{value:"<code>getMessengerProfile(fields)</code>",id:"getmessengerprofilefields",children:[],level:4},{value:"<code>setMessengerProfile(profile)</code>",id:"setmessengerprofileprofile",children:[],level:4},{value:"<code>deleteMessengerProfile(fields)</code>",id:"deletemessengerprofilefields",children:[],level:4}],level:3},{value:"Persistent Menu - Official Docs",id:"persistent-menu---official-docs",children:[{value:"<code>getPersistentMenu</code>",id:"getpersistentmenu",children:[],level:4},{value:"<code>setPersistentMenu(menu)</code>",id:"setpersistentmenumenu",children:[],level:4},{value:"<code>deletePersistentMenu</code>",id:"deletepersistentmenu",children:[],level:4}],level:3},{value:"Get Started Button - Official Docs",id:"get-started-button---official-docs",children:[{value:"<code>getGetStarted</code>",id:"getgetstarted",children:[],level:4},{value:"<code>setGetStarted(payload)</code>",id:"setgetstartedpayload",children:[],level:4},{value:"<code>deleteGetStarted</code>",id:"deletegetstarted",children:[],level:4}],level:3},{value:"Greeting Text - Officail docs",id:"greeting-text---officail-docs",children:[{value:"<code>getGreeting</code>",id:"getgreeting",children:[],level:4},{value:"<code>setGreeting(greeting)</code>",id:"setgreetinggreeting",children:[],level:4},{value:"<code>deleteGreeting</code>",id:"deletegreeting",children:[],level:4}],level:3},{value:"Whitelisted Domains - Official Docs",id:"whitelisted-domains---official-docs",children:[{value:"<code>getWhitelistedDomains</code>",id:"getwhitelisteddomains",children:[],level:4},{value:"<code>setWhitelistedDomains(domains)</code>",id:"setwhitelisteddomainsdomains",children:[],level:4},{value:"<code>deleteWhitelistedDomains</code>",id:"deletewhitelisteddomains",children:[],level:4}],level:3},{value:"Account Linking URL - Official Docs",id:"account-linking-url---official-docs",children:[{value:"<code>getAccountLinkingURL</code>",id:"getaccountlinkingurl",children:[],level:4},{value:"<code>setAccountLinkingURL(url)</code>",id:"setaccountlinkingurlurl",children:[],level:4},{value:"<code>deleteAccountLinkingURL</code>",id:"deleteaccountlinkingurl",children:[],level:4}],level:3},{value:"Target Audience - Official Docs",id:"target-audience---official-docs",children:[{value:"<code>getTargetAudience</code>",id:"gettargetaudience",children:[],level:4},{value:"<code>setTargetAudience(type, whitelist, blacklist)</code>",id:"settargetaudiencetype-whitelist-blacklist",children:[],level:4},{value:"<code>deleteTargetAudience</code>",id:"deletetargetaudience",children:[],level:4}],level:3},{value:"Chat Extension Home URL - Official Docs",id:"chat-extension-home-url---official-docs",children:[{value:"<code>getHomeURL</code>",id:"gethomeurl",children:[],level:4},{value:"<code>setHomeURL(url, attributes)</code>",id:"sethomeurlurl-attributes",children:[],level:4},{value:"<code>deleteHomeURL</code>",id:"deletehomeurl",children:[],level:4}],level:3},{value:"Handover Protocol API",id:"handover-protocol-api",children:[{value:"<code>passThreadControl(userId, targetAppId, metadata)</code> - Official Docs",id:"passthreadcontroluserid-targetappid-metadata---official-docs",children:[],level:4},{value:"<code>passThreadControlToPageInbox(userId, metadata)</code> - Official Docs",id:"passthreadcontroltopageinboxuserid-metadata---official-docs",children:[],level:4},{value:"<code>takeThreadControl(userId, metadata)</code> - Official Docs",id:"takethreadcontroluserid-metadata---official-docs",children:[],level:4},{value:"<code>requestThreadControl(userId, metadata)</code> - Official Docs",id:"requestthreadcontroluserid-metadata---official-docs",children:[],level:4},{value:"<code>getThreadOwner</code> - Official Docs",id:"getthreadowner---official-docs",children:[],level:4},{value:"<code>getSecondaryReceivers</code> - Official Docs",id:"getsecondaryreceivers---official-docs",children:[],level:4}],level:3},{value:"Page Messaging Insights API - Official Docs",id:"page-messaging-insights-api---official-docs",children:[{value:"<code>getInsights(metrics, options)</code>",id:"getinsightsmetrics-options",children:[],level:4},{value:"<code>getBlockedConversations(options)</code>",id:"getblockedconversationsoptions",children:[],level:4},{value:"<code>getReportedConversations(options)</code>",id:"getreportedconversationsoptions",children:[],level:4},{value:"<code>getOpenConversations(options)</code>",id:"getopenconversationsoptions",children:[],level:4},{value:"<code>getTotalMessagingConnections(options)</code>",id:"gettotalmessagingconnectionsoptions",children:[],level:4},{value:"<code>getNewConversations(options)</code>",id:"getnewconversationsoptions",children:[],level:4}],level:3},{value:"Built-in NLP API - Official Docs",id:"built-in-nlp-api---official-docs",children:[{value:"<code>setNLPConfigs(config)</code>",id:"setnlpconfigsconfig",children:[],level:4},{value:"<code>enableNLP</code>",id:"enablenlp",children:[],level:4},{value:"<code>disableNLP</code>",id:"disablenlp",children:[],level:4}],level:3},{value:"Event Logging API - Official Docs",id:"event-logging-api---official-docs",children:[{value:"<code>logCustomEvents(activity)</code>",id:"logcustomeventsactivity",children:[],level:4}],level:3},{value:"ID Matching API - Official Docs",id:"id-matching-api---official-docs",children:[{value:"<code>getIdsForApps({ userId, appSecret, ...options })</code>",id:"getidsforapps-userid-appsecret-options-",children:[],level:4},{value:"<code>getIdsForPages({ userId, appSecret, ...options })</code>",id:"getidsforpages-userid-appsecret-options-",children:[],level:4}],level:3},{value:"Persona API - Official Docs",id:"persona-api---official-docs",children:[{value:"<code>createPersona(persona)</code> - Official Docs",id:"createpersonapersona---official-docs",children:[],level:4},{value:"<code>getPersona(personaId)</code> - Official Docs",id:"getpersonapersonaid---official-docs",children:[],level:4},{value:"<code>getPersonas(cursor?: string)</code> - Official Docs",id:"getpersonascursor-string---official-docs",children:[],level:4},{value:"<code>getAllPersonas()</code> - Official Docs",id:"getallpersonas---official-docs",children:[],level:4},{value:"<code>deletePersona(personaId)</code> - Official Docs",id:"deletepersonapersonaid---official-docs",children:[],level:4}],level:3},{value:"Others",id:"others",children:[{value:"<code>debugToken</code> - Official Docs",id:"debugtoken---official-docs",children:[],level:4},{value:"<code>createSubscription</code>",id:"createsubscription",children:[],level:4},{value:"<code>getSubscriptions</code>",id:"getsubscriptions",children:[],level:4},{value:"<code>getPageSubscription</code>",id:"getpagesubscription",children:[],level:4},{value:"<code>getPageInfo</code>",id:"getpageinfo",children:[],level:4},{value:"<code>getMessagingFeatureReview</code>",id:"getmessagingfeaturereview",children:[],level:4}],level:3}],level:2},{value:"Debug Tips",id:"debug-tips",children:[{value:"Log Requests Details",id:"log-requests-details",children:[],level:3}],level:2},{value:"Test",id:"test",children:[{value:"Send Requests to Your Dummy Server",id:"send-requests-to-your-dummy-server",children:[],level:3}],level:2}],m={toc:d};function c(e){var t=e.components,n=(0,l.Z)(e,i);return(0,r.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#usage"},"Usage")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#methods"},"Methods"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#send-api"},"Send API"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#content-types"},"Content Types")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#templates"},"Templates")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#quick-replies"},"Quick Replies")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#sender-actions"},"Sender Actions")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#attachment-upload-api"},"Attachment Upload API")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#message-batching"},"Message Batching")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#user-profile-api"},"User Profile API")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#messenger-profile-api"},"Messenger Profile API"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#persistent-menu"},"Persistent Menu")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#get-started-button"},"Get Started Button")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#greeting-text"},"Greeting Text")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#domain-whitelist"},"Whitelisted Domains")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#account-linking-url"},"Account Linking URL")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#target-audience"},"Target Audience")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#chat-extension-home-url"},"Chat Extension Home URL")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#handover-protocol-api"},"Handover Protocol API")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#page-messaging-insights-api"},"Page Messaging Insights API")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#built-in-nlp-api"},"Built-in NLP API")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#event-logging-api"},"Event Logging API")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#id-matching-api"},"ID Matching API")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#persona-api"},"Persona API")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#others"},"Others")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#debug-tips"},"Debug Tips")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#test"},"Test"))),(0,r.kt)("h2",{id:"usage"},"Usage"),(0,r.kt)("p",null,"Get the ",(0,r.kt)("inlineCode",{parentName:"p"},"MessengerClient")," instance using the ",(0,r.kt)("inlineCode",{parentName:"p"},"getClient")," function:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const { getClient } = require('bottender');\n\nconst client = getClient('messenger');\n\n// `client` is a `MessengerClient` instance\nawait client.sendRawBody(body);\n")),(0,r.kt)("p",null,"Or, get the ",(0,r.kt)("inlineCode",{parentName:"p"},"MessengerClient")," instance from the ",(0,r.kt)("inlineCode",{parentName:"p"},"context"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"async function MyAction(context) {\n  if (context.platform === 'messenger') {\n    // `context.client` is a `MessengerClient` instance\n    await context.client.sendRawBody(body);\n  }\n}\n")),(0,r.kt)("h3",{id:"error-handling"},"Error Handling"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"MessengerClient")," uses ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/axios/axios"},"axios")," as HTTP client. We use ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/Yoctol/messaging-apis/tree/master/packages/axios-error"},"axios-error")," package to wrap API error instances for better formatting error messages. Calling ",(0,r.kt)("inlineCode",{parentName:"p"},"console.log")," with the error instance returns the formatted message. If you'd like to get the axios ",(0,r.kt)("inlineCode",{parentName:"p"},"request"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"response"),", or ",(0,r.kt)("inlineCode",{parentName:"p"},"config"),", you can still get them via those keys on the error instance."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendRawBody(body).catch((error) => {\n  console.log(error); // the formatted error message\n  console.log(error.stack); // stack trace of the error\n  console.log(error.config); // axios request config\n  console.log(error.request); // axios HTTP request\n  console.log(error.response); // axios HTTP response\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"methods"},"Methods"),(0,r.kt)("p",null,"All methods return a Promise."),(0,r.kt)("br",null),(0,r.kt)("a",{id:"send-api"}),(0,r.kt)("h3",{id:"send-api---official-docs"},"Send API - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference"},"Official Docs")),(0,r.kt)("h4",{id:"sendrawbodybody"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendRawBody(body)")),(0,r.kt)("p",null,"Send request raw body using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"body"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Raw body to be sent.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendRawBody({\n  recipient: {\n    id: USER_ID,\n  },\n  message: {\n    text: 'Hello!',\n  },\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendmessageuserid-message--options"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendMessage(userId, message [, options])")),(0,r.kt)("p",null,"Send messages to specified user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference#recipient"},"recipient")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"message"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#message"},"message")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types")," or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/message-tags"},"tags"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendMessage(USER_ID, {\n  text: 'Hello!',\n});\n")),(0,r.kt)("p",null,"You can specify ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging type")," using options. If ",(0,r.kt)("inlineCode",{parentName:"p"},"messagingType")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"tag")," is not provided, ",(0,r.kt)("inlineCode",{parentName:"p"},"UPDATE")," will be used as default messaging type."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendMessage(\n  USER_ID,\n  {\n    text: 'Hello!',\n  },\n  {\n    messagingType: 'RESPONSE',\n  }\n);\n")),(0,r.kt)("p",null,"Available messaging types:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"UPDATE")," as default"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"RESPONSE")," using ",(0,r.kt)("inlineCode",{parentName:"li"},"{ messagingType: 'RESPONSE' }")," options"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MESSAGE_TAG")," using ",(0,r.kt)("inlineCode",{parentName:"li"},"{ tag: 'ANY_TAG' }")," options")),(0,r.kt)("br",null),(0,r.kt)("a",{id:"content-types"}),(0,r.kt)("h3",{id:"content-types---content-types"},"Content Types - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/contenttypes"},"Content types")),(0,r.kt)("h4",{id:"sendtextuserid-text--options"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendText(userId, text [, options])")),(0,r.kt)("p",null,"Send plain text messages to specified user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference#recipient"},"recipient")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"text"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Text of the message to be sent.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types")," or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/message-tags"},"tags"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendText(USER_ID, 'Hello!', { tag: 'CONFIRMED_EVENT_UPDATE' });\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendattachmentuserid-attachment--options"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendAttachment(userId, attachment [, options])")),(0,r.kt)("p",null,"Send attachment messages to specified user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference#recipient"},"recipient")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"attachment"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#attachment"},"attachment")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types")," or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/message-tags"},"tags"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.filename"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Required when upload from buffer.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendAttachment(USER_ID, {\n  type: 'image',\n  payload: {\n    url: 'https://example.com/pic.png',\n  },\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendaudiouserid-audio--options"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendAudio(userId, audio [, options])")),(0,r.kt)("p",null,"Send sounds to specified user by uploading them or sharing a URL using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference#recipient"},"recipient")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"audio"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Buffer ","|"," ReadStream ","|"," AttachmentPayload")),(0,r.kt)("td",{parentName:"tr",align:null},"The audio to be sent.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.filename"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Required when upload from buffer.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Send audio using a URL string:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendAudio(USER_ID, 'https://example.com/audio.mp3');\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use ",(0,r.kt)("inlineCode",{parentName:"li"},"AttachmentPayload")," to send cached attachment:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendAudio(USER_ID, { attachmentId: '55688' });\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use ",(0,r.kt)("inlineCode",{parentName:"li"},"ReadStream")," created from local file:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const fs = require('fs');\n\nclient.sendAudio(USER_ID, fs.createReadStream('audio.mp3'));\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use ",(0,r.kt)("inlineCode",{parentName:"li"},"Buffer")," to send attachment:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendAudio(USER_ID, buffer, { filename: 'audio.mp3' });\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendimageuserid-image--options"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendImage(userId, image [, options])")),(0,r.kt)("p",null,"Send images to specified user by uploading them or sharing a URL using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),". Supported formats are jpg, png and gif."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference#recipient"},"recipient")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"image"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Buffer ","|"," ReadStream ","|"," AttachmentPayload")),(0,r.kt)("td",{parentName:"tr",align:null},"The image to be sent.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.filename"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Required when upload from buffer.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Send image using a URL string:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendImage(USER_ID, 'https://example.com/vr.jpg');\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use ",(0,r.kt)("inlineCode",{parentName:"li"},"AttachmentPayload")," to send cached attachment:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendImage(USER_ID, { attachmentId: '55688' });\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use ",(0,r.kt)("inlineCode",{parentName:"li"},"ReadStream")," created from local file:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const fs = require('fs');\n\nclient.sendImage(USER_ID, fs.createReadStream('vr.jpg'));\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use ",(0,r.kt)("inlineCode",{parentName:"li"},"Buffer")," to send attachment:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendImage(USER_ID, buffer, { filename: 'vr.jpg' });\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendvideouserid-video--options"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendVideo(userId, video [, options])")),(0,r.kt)("p",null,"Send videos to specified user by uploading them or sharing a URL using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference#recipient"},"recipient")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"video"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Buffer ","|"," ReadStream ","|"," AttachmentPayload")),(0,r.kt)("td",{parentName:"tr",align:null},"The video to be sent.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.filename"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Required when upload from buffer.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Send video using a URL string:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendVideo(USER_ID, 'https://example.com/video.mp4');\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use ",(0,r.kt)("inlineCode",{parentName:"li"},"AttachmentPayload")," to send cached attachment:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendVideo(USER_ID, { attachmentId: '55688' });\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use ",(0,r.kt)("inlineCode",{parentName:"li"},"ReadStream")," created from local file:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const fs = require('fs');\n\nclient.sendVideo(USER_ID, fs.createReadStream('video.mp4'));\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use ",(0,r.kt)("inlineCode",{parentName:"li"},"Buffer")," to send attachment:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendVideo(USER_ID, buffer, { filename: 'video.mp4' });\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendfileuserid-file--options"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendFile(userId, file [, options])")),(0,r.kt)("p",null,"Send files to specified user by uploading them or sharing a URL using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference#recipient"},"recipient")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"file"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Buffer ","|"," ReadStream ","|"," AttachmentPayload")),(0,r.kt)("td",{parentName:"tr",align:null},"The file to be sent.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.filename"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Required when upload from buffer.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Send file using a URL string:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendFile(USER_ID, 'https://example.com/receipt.pdf');\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use ",(0,r.kt)("inlineCode",{parentName:"li"},"AttachmentPayload")," to send cached attachment:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendFile(USER_ID, { attachmentId: '55688' });\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use ",(0,r.kt)("inlineCode",{parentName:"li"},"ReadStream")," created from local file:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const fs = require('fs');\n\nclient.sendFile(USER_ID, fs.createReadStream('receipt.pdf'));\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use ",(0,r.kt)("inlineCode",{parentName:"li"},"Buffer")," to send attachment:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendFile(USER_ID, buffer, { filename: 'file.pdf' });\n")),(0,r.kt)("br",null),(0,r.kt)("a",{id:"templates"}),(0,r.kt)("h3",{id:"templates---official-docs"},"Templates - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/templates"},"Official Docs")),(0,r.kt)("h4",{id:"sendtemplateuserid-template--options"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendTemplate(userId, template [, options])")),(0,r.kt)("p",null,"Send structured message templates to specified user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference#recipient"},"recipient")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"template"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Object of the template.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types")," or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/message-tags"},"tags"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendTemplate(USER_ID, {\n  templateType: 'button',\n  text: 'title',\n  buttons: [\n    {\n      type: 'postback',\n      title: 'Start Chatting',\n      payload: 'USER_DEFINED_PAYLOAD',\n    },\n  ],\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendbuttontemplateuserid-title-buttons--options---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendButtonTemplate(userId, title, buttons [, options])")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/button-template"},"Official Docs")),(0,r.kt)("p",null,"Send button message templates to specified user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37410664-0b80b080-27dc-11e8-8854-4408d6f32fdf.png",alt:"sendButtonTemplate",width:"250"}),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference#recipient"},"recipient")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"title"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Text that appears above the buttons.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"buttons"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array<Object>")),(0,r.kt)("td",{parentName:"tr",align:null},"Array of ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/template/button#button"},"button"),". Set of 1-3 buttons that appear as call-to-actions.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendButtonTemplate(USER_ID, 'What do you want to do next?', [\n  {\n    type: 'web_url',\n    url: 'https://petersapparel.parseapp.com',\n    title: 'Show Website',\n  },\n  {\n    type: 'postback',\n    title: 'Start Chatting',\n    payload: 'USER_DEFINED_PAYLOAD',\n  },\n]);\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendgenerictemplateuserid-elements--options---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendGenericTemplate(userId, elements [, options])")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/generic-template"},"Official Docs")),(0,r.kt)("p",null,"Send generic message templates to specified user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37410502-bf948426-27db-11e8-8c9d-7fd6158d0cc2.png",alt:"sendGenericTemplate",width:"750"}),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference#recipient"},"recipient")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"elements"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array<Object>")),(0,r.kt)("td",{parentName:"tr",align:null},"Array of ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/template/generic#element"},"element"),". Data for each bubble in message.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters, such as ",(0,r.kt)("inlineCode",{parentName:"td"},"imageAspectRatio"),", ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types")," and ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/message-tags"},"tags"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendGenericTemplate(\n  USER_ID,\n  [\n    {\n      title: \"Welcome to Peter's Hats\",\n      imageUrl: 'https://petersfancybrownhats.com/company_image.png',\n      subtitle: \"We've got the right hat for everyone.\",\n      defaultAction: {\n        type: 'web_url',\n        url: 'https://peterssendreceiveapp.ngrok.io/view?item=103',\n        messengerExtensions: true,\n        webviewHeightRatio: 'tall',\n        fallbackUrl: 'https://peterssendreceiveapp.ngrok.io/',\n      },\n      buttons: [\n        {\n          type: 'postback',\n          title: 'Start Chatting',\n          payload: 'DEVELOPER_DEFINED_PAYLOAD',\n        },\n      ],\n    },\n  ],\n  { imageAspectRatio: 'square' }\n);\n")),(0,r.kt)("p",null,"Adding a ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/message-tags"},"tag")," to a message allows you to send it outside the 24+1 window, for a limited number of use cases, per ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/policy-overview"},"Messenger Platform policy"),"."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendGenericTemplate(\n  USER_ID,\n  [\n    {\n      // ...\n    },\n  ],\n  { tag: 'CONFIRMED_EVENT_UPDATE' }\n);\n")),(0,r.kt)("p",null,"Available tags:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"CONFIRMED_EVENT_UPDATE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"POST_PURCHASE_UPDATE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ACCOUNT_UPDATE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"HUMAN_AGENT")," (Closed BETA)")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendmediatemplateuserid-elements--options---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendMediaTemplate(userId, elements [, options])")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/template/media"},"Official Docs")),(0,r.kt)("p",null,"Send media message templates to specified user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37410836-64249ada-27dc-11e8-8dc4-5a155916961a.png",alt:"sendMediaTemplate",width:"250"}),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference#recipient"},"recipient")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"elements"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array<Object>")),(0,r.kt)("td",{parentName:"tr",align:null},"Array of ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/reference/template/media#payload"},"element"),". Only one element is allowed.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendMediaTemplate(USER_ID, [\n  {\n    mediaType: 'image',\n    attachmentId: '1854626884821032',\n    buttons: [\n      {\n        type: 'web_url',\n        url: 'https://en.wikipedia.org/wiki/Rickrolling',\n        title: 'View Website',\n      },\n    ],\n  },\n]);\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendreceipttemplateuserid-receipt--options---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendReceiptTemplate(userId, receipt [, options])")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/receipt-template"},"Official Docs")),(0,r.kt)("p",null,"Send receipt message templates to specified user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37410909-8b72001e-27dc-11e8-94ae-555cb4ae93c9.png",alt:"sendReceiptTemplate",width:"250"}),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference#recipient"},"recipient")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"receipt"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/template/receipt#payload"},"payload")," of receipt template.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendReceiptTemplate(USER_ID, {\n  recipientName: 'Stephane Crozatier',\n  orderNumber: '12345678902',\n  currency: 'USD',\n  paymentMethod: 'Visa 2345',\n  orderUrl: 'http://petersapparel.parseapp.com/order?order_id=123456',\n  timestamp: '1428444852',\n  elements: [\n    {\n      title: 'Classic White T-Shirt',\n      subtitle: '100% Soft and Luxurious Cotton',\n      quantity: 2,\n      price: 50,\n      currency: 'USD',\n      imageUrl: 'http://petersapparel.parseapp.com/img/whiteshirt.png',\n    },\n    {\n      title: 'Classic Gray T-Shirt',\n      subtitle: '100% Soft and Luxurious Cotton',\n      quantity: 1,\n      price: 25,\n      currency: 'USD',\n      imageUrl: 'http://petersapparel.parseapp.com/img/grayshirt.png',\n    },\n  ],\n  address: {\n    street1: '1 Hacker Way',\n    street2: '',\n    city: 'Menlo Park',\n    postalCode: '94025',\n    state: 'CA',\n    country: 'US',\n  },\n  summary: {\n    subtotal: 75.0,\n    shippingCost: 4.95,\n    totalTax: 6.19,\n    totalCost: 56.14,\n  },\n  adjustments: [\n    {\n      name: 'New Customer Discount',\n      amount: 20,\n    },\n    {\n      name: '$10 Off Coupon',\n      amount: 10,\n    },\n  ],\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendairlineboardingpasstemplateuserid-attributes--options---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendAirlineBoardingPassTemplate(userId, attributes [, options])")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/airline-boardingpass-template"},"Official Docs")),(0,r.kt)("p",null,"Send airline boarding pass message templates to specified user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37410966-a5fb1542-27dc-11e8-9d23-e3a090b0cdeb.png",alt:"sendAirlineBoardingPassTemplate",width:"600"}),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference#recipient"},"recipient")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"attributes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/template/airline-boarding-pass#payload"},"payload")," of boarding pass template.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendAirlineBoardingPassTemplate(RECIPIENT_ID, {\n  introMessage: 'You are checked in.',\n  locale: 'en_US',\n  boardingPass: [\n    {\n      passengerName: 'SMITH/NICOLAS',\n      pnrNumber: 'CG4X7U',\n      travelClass: 'business',\n      seat: '74J',\n      auxiliaryFields: [\n        {\n          label: 'Terminal',\n          value: 'T1',\n        },\n        {\n          label: 'Departure',\n          value: '30OCT 19:05',\n        },\n      ],\n      secondaryFields: [\n        {\n          label: 'Boarding',\n          value: '18:30',\n        },\n        {\n          label: 'Gate',\n          value: 'D57',\n        },\n        {\n          label: 'Seat',\n          value: '74J',\n        },\n        {\n          label: 'Sec.Nr.',\n          value: '003',\n        },\n      ],\n      logoImageUrl: 'https://www.example.com/en/logo.png',\n      headerImageUrl: 'https://www.example.com/en/fb/header.png',\n      qrCode: 'M1SMITH/NICOLAS  CG4X7U nawouehgawgnapwi3jfa0wfh',\n      aboveBarCodeImageUrl: 'https://www.example.com/en/PLAT.png',\n      flightInfo: {\n        flightNumber: 'KL0642',\n        departureAirport: {\n          airportCode: 'JFK',\n          city: 'New York',\n          terminal: 'T1',\n          gate: 'D57',\n        },\n        arrivalAirport: {\n          airportCode: 'AMS',\n          city: 'Amsterdam',\n        },\n        flightSchedule: {\n          departureTime: '2016-01-02T19:05',\n          arrivalTime: '2016-01-05T17:30',\n        },\n      },\n    },\n    {\n      passengerName: 'JONES/FARBOUND',\n      pnrNumber: 'CG4X7U',\n      travelClass: 'business',\n      seat: '74K',\n      auxiliaryFields: [\n        {\n          label: 'Terminal',\n          value: 'T1',\n        },\n        {\n          label: 'Departure',\n          value: '30OCT 19:05',\n        },\n      ],\n      secondaryFields: [\n        {\n          label: 'Boarding',\n          value: '18:30',\n        },\n        {\n          label: 'Gate',\n          value: 'D57',\n        },\n        {\n          label: 'Seat',\n          value: '74K',\n        },\n        {\n          label: 'Sec.Nr.',\n          value: '004',\n        },\n      ],\n      logoImageUrl: 'https://www.example.com/en/logo.png',\n      headerImageUrl: 'https://www.example.com/en/fb/header.png',\n      qrCode: 'M1JONES/FARBOUND  CG4X7U nawouehgawgnapwi3jfa0wfh',\n      aboveBarCodeImageUrl: 'https://www.example.com/en/PLAT.png',\n      flightInfo: {\n        flightNumber: 'KL0642',\n        departureAirport: {\n          airportCode: 'JFK',\n          city: 'New York',\n          terminal: 'T1',\n          gate: 'D57',\n        },\n        arrivalAirport: {\n          airportCode: 'AMS',\n          city: 'Amsterdam',\n        },\n        flightSchedule: {\n          departureTime: '2016-01-02T19:05',\n          arrivalTime: '2016-01-05T17:30',\n        },\n      },\n    },\n  ],\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendairlinecheckintemplateuserid-attributes--options---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendAirlineCheckinTemplate(userId, attributes [, options])")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/airline-checkin-template"},"Official Docs")),(0,r.kt)("p",null,"Send airline checkin message templates to specified user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37411010-bfb3d8a2-27dc-11e8-91de-30653cf2d62c.png",alt:"sendAirlineCheckinTemplate",width:"250"}),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference#recipient"},"recipient")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"attributes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/airline-checkin-template#payload"},"payload")," of checkin template.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendAirlineCheckinTemplate(USER_ID, {\n  introMessage: 'Check-in is available now.',\n  locale: 'en_US',\n  pnrNumber: 'ABCDEF',\n  flightInfo: [\n    {\n      flightNumber: 'f001',\n      departureAirport: {\n        airportCode: 'SFO',\n        city: 'San Francisco',\n        terminal: 'T4',\n        gate: 'G8',\n      },\n      arrivalAirport: {\n        airportCode: 'SEA',\n        city: 'Seattle',\n        terminal: 'T4',\n        gate: 'G8',\n      },\n      flightSchedule: {\n        boardingTime: '2016-01-05T15:05',\n        departureTime: '2016-01-05T15:45',\n        arrivalTime: '2016-01-05T17:30',\n      },\n    },\n  ],\n  checkinUrl: 'https://www.airline.com/check-in',\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendairlineitinerarytemplateuserid-attributes--options---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendAirlineItineraryTemplate(userId, attributes [, options])")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/airline-itinerary-template"},"Official Docs")),(0,r.kt)("p",null,"Send airline itinerary message templates to specified user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37411025-ce27545e-27dc-11e8-91be-28ab27644db7.png",alt:"sendAirlineItineraryTemplate",width:"600"}),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference#recipient"},"recipient")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"attributes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/airline-itinerary-template#payload"},"payload")," of itinerary template.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendAirlineItineraryTemplate(USER_ID, {\n  introMessage: \"Here's your flight itinerary.\",\n  locale: 'en_US',\n  pnrNumber: 'ABCDEF',\n  passengerInfo: [\n    {\n      name: 'Farbound Smith Jr',\n      ticketNumber: '0741234567890',\n      passengerId: 'p001',\n    },\n    {\n      name: 'Nick Jones',\n      ticketNumber: '0741234567891',\n      passengerId: 'p002',\n    },\n  ],\n  flightInfo: [\n    {\n      connectionId: 'c001',\n      segmentId: 's001',\n      flightNumber: 'KL9123',\n      aircraftType: 'Boeing 737',\n      departureAirport: {\n        airportCode: 'SFO',\n        city: 'San Francisco',\n        terminal: 'T4',\n        gate: 'G8',\n      },\n      arrivalAirport: {\n        airportCode: 'SLC',\n        city: 'Salt Lake City',\n        terminal: 'T4',\n        gate: 'G8',\n      },\n      flightSchedule: {\n        departureTime: '2016-01-02T19:45',\n        arrivalTime: '2016-01-02T21:20',\n      },\n      travelClass: 'business',\n    },\n    {\n      connectionId: 'c002',\n      segmentId: 's002',\n      flightNumber: 'KL321',\n      aircraftType: 'Boeing 747-200',\n      travelClass: 'business',\n      departureAirport: {\n        airportCode: 'SLC',\n        city: 'Salt Lake City',\n        terminal: 'T1',\n        gate: 'G33',\n      },\n      arrivalAirport: {\n        airportCode: 'AMS',\n        city: 'Amsterdam',\n        terminal: 'T1',\n        gate: 'G33',\n      },\n      flightSchedule: {\n        departureTime: '2016-01-02T22:45',\n        arrivalTime: '2016-01-03T17:20',\n      },\n    },\n  ],\n  passengerSegmentInfo: [\n    {\n      segmentId: 's001',\n      passengerId: 'p001',\n      seat: '12A',\n      seatType: 'Business',\n    },\n    {\n      segmentId: 's001',\n      passengerId: 'p002',\n      seat: '12B',\n      seatType: 'Business',\n    },\n    {\n      segmentId: 's002',\n      passengerId: 'p001',\n      seat: '73A',\n      seatType: 'World Business',\n      productInfo: [\n        {\n          title: 'Lounge',\n          value: 'Complimentary lounge access',\n        },\n        {\n          title: 'Baggage',\n          value: '1 extra bag 50lbs',\n        },\n      ],\n    },\n    {\n      segmentId: 's002',\n      passengerId: 'p002',\n      seat: '73B',\n      seatType: 'World Business',\n      productInfo: [\n        {\n          title: 'Lounge',\n          value: 'Complimentary lounge access',\n        },\n        {\n          title: 'Baggage',\n          value: '1 extra bag 50lbs',\n        },\n      ],\n    },\n  ],\n  priceInfo: [\n    {\n      title: 'Fuel surcharge',\n      amount: '1597',\n      currency: 'USD',\n    },\n  ],\n  basePrice: '12206',\n  tax: '200',\n  totalPrice: '14003',\n  currency: 'USD',\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sendairlineupdatetemplateuserid-attributes--options---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendAirlineUpdateTemplate(userId, attributes [, options])")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/airline-update-template"},"Official Docs")),(0,r.kt)("p",null,"Send airline flight update message templates to specified user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),"."),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37411064-e3005a56-27dc-11e8-8486-4fc548ad7b1a.png",alt:"sendAirlineUpdateTemplate",width:"250"}),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference#recipient"},"recipient")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"attributes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/airline-update-template#payload"},"payload")," of update template.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters. For example, ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-messages#messaging_types"},"messaging types"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendAirlineUpdateTemplate(USER_ID, {\n  introMessage: 'Your flight is delayed',\n  updateType: 'delay',\n  locale: 'en_US',\n  pnrNumber: 'CF23G2',\n  updateFlightInfo: {\n    flightNumber: 'KL123',\n    departureAirport: {\n      airportCode: 'SFO',\n      city: 'San Francisco',\n      terminal: 'T4',\n      gate: 'G8',\n    },\n    arrivalAirport: {\n      airportCode: 'AMS',\n      city: 'Amsterdam',\n      terminal: 'T4',\n      gate: 'G8',\n    },\n    flightSchedule: {\n      boardingTime: '2015-12-26T10:30',\n      departureTime: '2015-12-26T11:30',\n      arrivalTime: '2015-12-27T07:30',\n    },\n  },\n});\n")),(0,r.kt)("br",null),(0,r.kt)("a",{id:"quick-replies"}),(0,r.kt)("h3",{id:"quick-replies---official-docs"},"Quick Replies - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/quick-replies"},"Official Docs")),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37411344-91c8ad54-27dd-11e8-82fc-fd9adf896301.png",alt:"Quick Replies",width:"750"}),(0,r.kt)("p",null,"To send messages with quick replies to specified user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),", pass ",(0,r.kt)("inlineCode",{parentName:"p"},"quickReplies")," option to send message methods, for example, with ",(0,r.kt)("inlineCode",{parentName:"p"},"sendText"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendText(USER_ID, 'Pick a color:', {\n  quickReplies: [\n    {\n      contentType: 'text',\n      title: 'Red',\n      payload: 'DEVELOPER_DEFINED_PAYLOAD_FOR_PICKING_RED',\n    },\n  ],\n});\n")),(0,r.kt)("p",null,"with ",(0,r.kt)("inlineCode",{parentName:"p"},"sendImage"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendImage(USER_ID, 'https://example.com/vr.jpg', {\n  quickReplies: [\n    {\n      contentType: 'text',\n      title: 'Red',\n      payload: 'DEVELOPER_DEFINED_PAYLOAD_FOR_PICKING_RED',\n    },\n  ],\n});\n")),(0,r.kt)("p",null,"It works with all of send message methods."),(0,r.kt)("br",null),(0,r.kt)("a",{id:"sender-actions"}),(0,r.kt)("h3",{id:"sender-actions---official-docs"},"Sender Actions - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/sender-actions"},"Official Docs")),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/3382565/37411363-9b65ecaa-27dd-11e8-8f51-7aac7fd0bd2f.png",alt:"Sender Actions",width:"250"}),(0,r.kt)("h4",{id:"sendsenderactionuserid-action"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendSenderAction(userId, action)")),(0,r.kt)("p",null,"Send sender actions to specified user using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/reference/send-api#request"},"Send API"),", to let users know you are processing their request."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference#recipient"},"recipient")," object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"action"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Name of the action.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.sendSenderAction(USER_ID, 'typing_on');\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"markseenuserid"},(0,r.kt)("inlineCode",{parentName:"h4"},"markSeen(userId)")),(0,r.kt)("p",null,"Mark last message as read for specified user."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference#recipient"},"recipient")," object.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.markSeen(USER_ID);\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"typingonuserid"},(0,r.kt)("inlineCode",{parentName:"h4"},"typingOn(userId)")),(0,r.kt)("p",null,"Turn typing indicators on for specified user."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference#recipient"},"recipient")," object.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.typingOn(USER_ID);\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"typingoffuserid"},(0,r.kt)("inlineCode",{parentName:"h4"},"typingOff(userId)")),(0,r.kt)("p",null,"Turn typing indicators off for specified user."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient or ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference#recipient"},"recipient")," object.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.typingOff(USER_ID);\n")),(0,r.kt)("br",null),(0,r.kt)("a",{id:"attachment-upload-api"}),(0,r.kt)("h3",{id:"attachment-upload-api---official-docs"},"Attachment Upload API - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/send-api-reference/attachment-upload"},"Official Docs")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note: Only attachments that were uploaded with the ",(0,r.kt)("inlineCode",{parentName:"p"},"isReusable")," property set to ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," can be sent to other message recipients.")),(0,r.kt)("h4",{id:"uploadattachmenttype-attachment-options"},(0,r.kt)("inlineCode",{parentName:"h4"},"uploadAttachment(type, attachment, options)")),(0,r.kt)("p",null,"Upload specified type attachment using URL address, buffer, or stream."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"type"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Must be one of ",(0,r.kt)("inlineCode",{parentName:"td"},"image"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"video"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"audio")," or ",(0,r.kt)("inlineCode",{parentName:"td"},"file"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"attachment"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Buffer ","|"," ReadStream")),(0,r.kt)("td",{parentName:"tr",align:null},"Attachment to be uploaded.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.isReusable"),(0,r.kt)("td",{parentName:"tr",align:null},"Set to ",(0,r.kt)("inlineCode",{parentName:"td"},"true")," to make the saved asset sendable to other message recipients. Defaults to ",(0,r.kt)("inlineCode",{parentName:"td"},"false"),"."),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.filename"),(0,r.kt)("td",{parentName:"tr",align:null},"Required when upload from buffer."),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.uploadAttachment('image', 'http://www.example.com/image.jpg', {\n  isReusable: true,\n});\n")),(0,r.kt)("p",null,"Or using read stream:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const fs = require('fs');\n\nclient.uploadAttachment('image', fs.createReadStream('image.jpg'), {\n  isReusable: true,\n});\n")),(0,r.kt)("p",null,"Or using buffer:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.uploadAttachment('image', buffer, {\n  isReusable: true,\n  filename: 'image.jpg',\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"uploadaudioaudio-options"},(0,r.kt)("inlineCode",{parentName:"h4"},"uploadAudio(audio, options)")),(0,r.kt)("p",null,"Upload audio attachment using URL address, buffer, or stream."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"audio"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Buffer ","|"," ReadStream")),(0,r.kt)("td",{parentName:"tr",align:null},"The audio to be uploaded.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.uploadAudio('http://www.example.com/audio.mp3', { isReusable: true });\n")),(0,r.kt)("p",null,"Or using read stream:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const fs = require('fs');\n\nclient.uploadAudio(fs.createReadStream('audio.mp3'), { isReusable: true });\n")),(0,r.kt)("p",null,"Or using buffer:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.uploadAudio(buffer, {\n  isReusable: true,\n  filename: 'audio.mp3',\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"uploadimageimage-options"},(0,r.kt)("inlineCode",{parentName:"h4"},"uploadImage(image, options)")),(0,r.kt)("p",null,"Upload image attachment using URL address, buffer, or stream."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"image"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Buffer ","|"," ReadStream")),(0,r.kt)("td",{parentName:"tr",align:null},"The image to be uploaded.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.uploadImage('http://www.example.com/image.jpg', { isReusable: true });\n")),(0,r.kt)("p",null,"Or using read stream:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const fs = require('fs');\n\nclient.uploadImage(fs.createReadStream('image.jpg'), { isReusable: true });\n")),(0,r.kt)("p",null,"Or using buffer:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.uploadImage(buffer, {\n  isReusable: true,\n  filename: 'image.jpg',\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"uploadvideovideo-options"},(0,r.kt)("inlineCode",{parentName:"h4"},"uploadVideo(video, options)")),(0,r.kt)("p",null,"Upload video attachment using URL address, buffer, or stream."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"video"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Buffer ","|"," ReadStream")),(0,r.kt)("td",{parentName:"tr",align:null},"The video to be uploaded.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.uploadVideo('http://www.example.com/video.mp4', { isReusable: true });\n")),(0,r.kt)("p",null,"Or using read stream:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const fs = require('fs');\n\nclient.uploadVideo(fs.createReadStream('video.mp4'), { isReusable: true });\n")),(0,r.kt)("p",null,"Or using buffer:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.uploadVideo(buffer, {\n  isReusable: true,\n  filename: 'video.mp4',\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"uploadfilefile-options"},(0,r.kt)("inlineCode",{parentName:"h4"},"uploadFile(file, options)")),(0,r.kt)("p",null,"Upload file attachment using URL address, buffer, or stream."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"file"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String ","|"," Buffer ","|"," ReadStream")),(0,r.kt)("td",{parentName:"tr",align:null},"The file to be uploaded.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other optional parameters.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.uploadFile('http://www.example.com/file.pdf', { isReusable: true });\n")),(0,r.kt)("p",null,"Or using read stream:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const fs = require('fs');\n\nclient.uploadFile(fs.createReadStream('file.pdf'), { isReusable: true });\n")),(0,r.kt)("p",null,"Or using buffer:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.uploadFile(buffer, {\n  isReusable: true,\n  filename: 'file.pdf',\n});\n")),(0,r.kt)("br",null),(0,r.kt)("a",{id:"message-batching"}),(0,r.kt)("h3",{id:"message-batching---official-docs"},"Message Batching - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/graph-api/making-multiple-requests"},"Official Docs")),(0,r.kt)("h4",{id:"sendbatchrequests"},(0,r.kt)("inlineCode",{parentName:"h4"},"sendBatch(requests)")),(0,r.kt)("p",null,"Sends multiple requests in one batch."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"requests"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array<Object>")),(0,r.kt)("td",{parentName:"tr",align:null},"Subrequests in the batch.")))),(0,r.kt)("p",null,"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const { MessengerBatch } = require('messaging-api-messenger');\n\nclient.sendBatch([\n  MessengerBatch.sendText(USER_ID, '1'),\n  MessengerBatch.sendText(USER_ID, '2'),\n  MessengerBatch.sendText(USER_ID, '3'),\n  MessengerBatch.sendText(USER_ID, '4'),\n  MessengerBatch.sendText(USER_ID, '5'),\n]);\n")),(0,r.kt)("p",null,"There are a bunch of factory methods can be used to create batch messages:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.sendRequest")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.sendMessage")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.sendText")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.sendAttachment")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.sendAudio")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.sendImage")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.sendVideo")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.sendFile")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.sendTemplate")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.sendButtonTemplate")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.sendGenericTemplate")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.sendListTemplate")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.sendOpenGraphTemplate")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.sendReceiptTemplate")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.sendMediaTemplate")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.sendAirlineBoardingPassTemplate")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.sendAirlineCheckinTemplate")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.sendAirlineItineraryTemplate")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.sendAirlineUpdateTemplate")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.sendSenderAction")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.typingOn")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.typingOff")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.markSeen")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.getUserProfile")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.passThreadControl")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.passThreadControlToPageInbox")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.takeThreadControl")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.requestThreadControl")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.associateLabel")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.dissociateLabel")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MessengerBatch.getAssociatedLabels"))),(0,r.kt)("p",null,"Those methods exactly have same argument signature with client methods."),(0,r.kt)("br",null),(0,r.kt)("a",{id:"custom-labels"}),(0,r.kt)("h3",{id:"custom-labels---official-docs"},"Custom Labels - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/identity/custom-labels"},"Official Docs")),(0,r.kt)("h4",{id:"createlabelname"},(0,r.kt)("inlineCode",{parentName:"h4"},"createLabel(name)")),(0,r.kt)("p",null,"Creating a Label."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"name"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"name of the custom label.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.createLabel('awesome').then((label) => {\n  console.log(label);\n  // {\n  //   id: 1712444532121303\n  // }\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"associatelabeluserid-labelid"},(0,r.kt)("inlineCode",{parentName:"h4"},"associateLabel(userId, labelId)")),(0,r.kt)("p",null,"Associating a Label to a PSID."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"labelId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"ID of the custom label.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.associateLabel(USER_ID, LABEL_ID);\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"dissociatelabeluserid-labelid"},(0,r.kt)("inlineCode",{parentName:"h4"},"dissociateLabel(userId, labelId)")),(0,r.kt)("p",null,"Removing a Label From a PSID."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"labelId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"ID of the custom label.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.dissociateLabel(USER_ID, LABEL_ID);\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"getassociatedlabelsuserid"},(0,r.kt)("inlineCode",{parentName:"h4"},"getAssociatedLabels(userId)")),(0,r.kt)("p",null,"Retrieving Labels Associated with a PSID."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.getAssociatedLabels(USER_ID).then((result) => {\n  console.log(result);\n  // {\n  //   data: [\n  //     {\n  //       name: 'myLabel',\n  //       id: '1001200005003',\n  //     },\n  //     {\n  //       name: 'myOtherLabel',\n  //       id: '1001200005002',\n  //     },\n  //   ],\n  //   paging: {\n  //     cursors: {\n  //       before:\n  //         'QVFIUmx1WTBpMGpJWXprYzVYaVhabW55dVpycko4U2xURGE5ODNtNFZAPal94a1hTUnNVMUtoMVVoTzlzSDktUkMtQkUzWEFLSXlMS3ZALYUw3TURLelZAPOGVR',\n  //       after:\n  //         'QVFIUmItNkpTbjVzakxFWGRydzdaVUFNNnNPaUl0SmwzVHN5ZAWZAEQ3lZANDAzTXFIM0NHbHdYSkQ5OG1GaEozdjkzRmxpUFhxTDl4ZAlBibnE4LWt1eGlTa3Bn',\n  //     },\n  //   },\n  // }\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"getlabeldetailslabelid-options"},(0,r.kt)("inlineCode",{parentName:"h4"},"getLabelDetails(labelId, options)")),(0,r.kt)("p",null,"Retrieving Label Details."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"labelId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"ID of the custom label.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.fields"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array<String>")),(0,r.kt)("td",{parentName:"tr",align:null},"fields to retrieve with its ID.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'client.getLabelDetails(LABEL_ID, { fields: [\'name\'] }).then((result) => {\n  console.log(result);\n  // {\n  //   id: "1001200005002",\n  //   name: "myLabel",\n  // }\n});\n')),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"getlabellist"},(0,r.kt)("inlineCode",{parentName:"h4"},"getLabelList()")),(0,r.kt)("p",null,"Retrieving a List of All Labels."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.getLabelList().then((result) => {\n  console.log(result);\n  // {\n  //   data: [\n  //     {\n  //       name: 'myLabel',\n  //       id: '1001200005003',\n  //     },\n  //     {\n  //       name: 'myOtherLabel',\n  //       id: '1001200005002',\n  //     },\n  //   ],\n  //   paging: {\n  //     cursors: {\n  //       before:\n  //         'QVFIUmx1WTBpMGpJWXprYzVYaVhabW55dVpycko4U2xURGE5ODNtNFZAPal94a1hTUnNVMUtoMVVoTzlzSDktUkMtQkUzWEFLSXlMS3ZALYUw3TURLelZAPOGVR',\n  //       after:\n  //         'QVFIUmItNkpTbjVzakxFWGRydzdaVUFNNnNPaUl0SmwzVHN5ZAWZAEQ3lZANDAzTXFIM0NHbHdYSkQ5OG1GaEozdjkzRmxpUFhxTDl4ZAlBibnE4LWt1eGlTa3Bn',\n  //     },\n  //   },\n  // }\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"deletelabellabelid"},(0,r.kt)("inlineCode",{parentName:"h4"},"deleteLabel(labelId)")),(0,r.kt)("p",null,"Deleting a Label."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"labelId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"ID of the custom label.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.deleteLabel(LABEL_ID);\n")),(0,r.kt)("br",null),(0,r.kt)("a",{id:"user-profile-api"}),(0,r.kt)("h3",{id:"user-profile-api---official-docs"},"User Profile API - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/user-profile"},"Official Docs")),(0,r.kt)("h4",{id:"getuserprofileuserid-options"},(0,r.kt)("inlineCode",{parentName:"h4"},"getUserProfile(userId, options)")),(0,r.kt)("p",null,"Retrieving a Person's Profile."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.fields"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array<String>")),(0,r.kt)("td",{parentName:"tr",align:null},"Value must be among ",(0,r.kt)("inlineCode",{parentName:"td"},"id"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"name"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"first_name"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"last_name"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"profile_pic"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"locale"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"timezone"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"gender"),", default with ",(0,r.kt)("inlineCode",{parentName:"td"},"id"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"name"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"first_name"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"last_name"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"profile_pic"),",")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.getUserProfile(USER_ID).then((user) => {\n  console.log(user);\n  // {\n  //   id: '5566'\n  //   firstName: 'Johnathan',\n  //   lastName: 'Jackson',\n  //   profilePic: 'https://example.com/pic.png',\n  // }\n});\n")),(0,r.kt)("br",null),(0,r.kt)("a",{id:"messenger-profile-api"}),(0,r.kt)("h3",{id:"messenger-profile-api---official-docs"},"Messenger Profile API - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/messenger-profile"},"Official Docs")),(0,r.kt)("h4",{id:"getmessengerprofilefields"},(0,r.kt)("inlineCode",{parentName:"h4"},"getMessengerProfile(fields)")),(0,r.kt)("p",null,"Retrieves the current value of one or more Messenger Profile properties by name."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"fields"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array<String>")),(0,r.kt)("td",{parentName:"tr",align:null},"Value must be among ",(0,r.kt)("inlineCode",{parentName:"td"},"account_linking_url"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"persistent_menu"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"get_started"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"greeting"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"whitelisted_domains"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"target_audience"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"home_url"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client\n  .getMessengerProfile(['get_started', 'persistent_menu'])\n  .then((profile) => {\n    console.log(profile);\n    // [\n    //   {\n    //     getStarted: {\n    //       payload: 'GET_STARTED',\n    //     },\n    //   },\n    //   {\n    //     persistentMenu: [\n    //       {\n    //         locale: 'default',\n    //         composerInputDisabled: true,\n    //         callToActions: [\n    //           {\n    //             type: 'postback',\n    //             title: 'Restart Conversation',\n    //             payload: 'RESTART',\n    //           },\n    //         ],\n    //       },\n    //     ],\n    //   },\n    // ]\n  });\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"setmessengerprofileprofile"},(0,r.kt)("inlineCode",{parentName:"h4"},"setMessengerProfile(profile)")),(0,r.kt)("p",null,"Sets the values of one or more Messenger Profile properties. Only properties set in the request body will be overwritten."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"profile"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Object of ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/reference/messenger-profile-api#profile_properties"},"Profile"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.setMessengerProfile({\n  getStarted: {\n    payload: 'GET_STARTED',\n  },\n  persistentMenu: [\n    {\n      locale: 'default',\n      composerInputDisabled: true,\n      callToActions: [\n        {\n          type: 'postback',\n          title: 'Restart Conversation',\n          payload: 'RESTART',\n        },\n      ],\n    },\n  ],\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"deletemessengerprofilefields"},(0,r.kt)("inlineCode",{parentName:"h4"},"deleteMessengerProfile(fields)")),(0,r.kt)("p",null,"Deletes one or more Messenger Profile properties. Only properties specified in the fields array will be deleted."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"fields"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array<String>")),(0,r.kt)("td",{parentName:"tr",align:null},"Value must be among ",(0,r.kt)("inlineCode",{parentName:"td"},"account_linking_url"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"persistent_menu"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"get_started"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"greeting"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"whitelisted_domains"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"target_audience"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"home_url"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.deleteMessengerProfile(['get_started', 'persistent_menu']);\n")),(0,r.kt)("br",null),(0,r.kt)("a",{id:"persistent-menu"}),(0,r.kt)("h3",{id:"persistent-menu---official-docs"},"Persistent Menu - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/messenger-profile/persistent-menu"},"Official Docs")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://scontent-tpe1-1.xx.fbcdn.net/v/t39.2365-6/16686128_804279846389859_443648268883197952_n.png?oh=adde03b0bc7dd524a58cf46016e0267d&oe=59FC90D6",alt:null})),(0,r.kt)("h4",{id:"getpersistentmenu"},(0,r.kt)("inlineCode",{parentName:"h4"},"getPersistentMenu")),(0,r.kt)("p",null,"Retrieves the current value of persistent menu."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.getPersistentMenu().then((menu) => {\n  console.log(menu);\n  // [\n  //   {\n  //     locale: 'default',\n  //     composerInputDisabled: true,\n  //     callToActions: [\n  //       {\n  //         type: 'postback',\n  //         title: 'Restart Conversation',\n  //         payload: 'RESTART',\n  //       },\n  //       {\n  //         type: 'web_url',\n  //         title: 'Powered by ALOHA.AI, Yoctol',\n  //         url: 'https://www.yoctol.com/',\n  //       },\n  //     ],\n  //   },\n  // ]\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"setpersistentmenumenu"},(0,r.kt)("inlineCode",{parentName:"h4"},"setPersistentMenu(menu)")),(0,r.kt)("p",null,"Sets the values of persistent menu."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"menu"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array<Object>")),(0,r.kt)("td",{parentName:"tr",align:null},"Array of ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/reference/messenger-profile-api/persistent-menu#properties"},"menu"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.setPersistentMenu([\n  {\n    locale: 'default',\n    callToActions: [\n      {\n        title: 'Play Again',\n        type: 'postback',\n        payload: 'RESTART',\n      },\n      {\n        title: 'Language Setting',\n        type: 'nested',\n        callToActions: [\n          {\n            title: '\u4e2d\u6587',\n            type: 'postback',\n            payload: 'CHINESE',\n          },\n          {\n            title: 'English',\n            type: 'postback',\n            payload: 'ENGLISH',\n          },\n        ],\n      },\n      {\n        title: 'Explore D',\n        type: 'nested',\n        callToActions: [\n          {\n            title: 'Explore',\n            type: 'web_url',\n            url: 'https://www.youtube.com/watch?v=v',\n            webviewHeightRatio: 'tall',\n          },\n          {\n            title: 'W',\n            type: 'web_url',\n            url: 'https://www.facebook.com/w',\n            webviewHeightRatio: 'tall',\n          },\n          {\n            title: 'Powered by YOCTOL',\n            type: 'web_url',\n            url: 'https://www.yoctol.com/',\n            webviewHeightRatio: 'tall',\n          },\n        ],\n      },\n    ],\n  },\n]);\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note: You must set a get started button to use the persistent menu.")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"deletepersistentmenu"},(0,r.kt)("inlineCode",{parentName:"h4"},"deletePersistentMenu")),(0,r.kt)("p",null,"Deletes persistent menu."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.deletePersistentMenu();\n")),(0,r.kt)("a",{id:"get-started-button"}),(0,r.kt)("h3",{id:"get-started-button---official-docs"},"Get Started Button - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/messenger-profile/get-started-button"},"Official Docs")),(0,r.kt)("img",{src:"https://scontent-tpe1-1.xx.fbcdn.net/v/t39.2365-6/14302685_243106819419381_1314180151_n.png?oh=9487042d8c0067eb2fda1efa45d0e17b&oe=59F7185C",alt:"Get Started Button",width:"500"}),(0,r.kt)("h4",{id:"getgetstarted"},(0,r.kt)("inlineCode",{parentName:"h4"},"getGetStarted")),(0,r.kt)("p",null,"Retrieves the current value of get started button."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.getGetStarted().then((getStarted) => {\n  console.log(getStarted);\n  // {\n  //   payload: 'GET_STARTED',\n  // }\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"setgetstartedpayload"},(0,r.kt)("inlineCode",{parentName:"h4"},"setGetStarted(payload)")),(0,r.kt)("p",null,"Sets the values of get started button."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"payload"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Payload sent back to your webhook in a ",(0,r.kt)("inlineCode",{parentName:"td"},"messaging_postbacks")," event when the 'Get Started' button is tapped.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.setGetStarted('GET_STARTED');\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"deletegetstarted"},(0,r.kt)("inlineCode",{parentName:"h4"},"deleteGetStarted")),(0,r.kt)("p",null,"Deletes get started button."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.deleteGetStarted();\n")),(0,r.kt)("a",{id:"greeting-text"}),(0,r.kt)("h3",{id:"greeting-text---officail-docs"},"Greeting Text - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/messenger-profile/greeting-text"},"Officail docs")),(0,r.kt)("img",{src:"https://scontent-tpe1-1.xx.fbcdn.net/v/t39.2365-6/14287888_188235318253964_1078929636_n.png?oh=a1171ab50f04d3a244ed703eafd2dbef&oe=59F01AF5",alt:"Greeting Text",width:"250"}),(0,r.kt)("h4",{id:"getgreeting"},(0,r.kt)("inlineCode",{parentName:"h4"},"getGreeting")),(0,r.kt)("p",null,"Retrieves the current value of greeting text."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.getGreeting().then((greeting) => {\n  console.log(greeting);\n  // [\n  //   {\n  //     locale: 'default',\n  //     text: 'Hello!',\n  //   },\n  // ]\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"setgreetinggreeting"},(0,r.kt)("inlineCode",{parentName:"h4"},"setGreeting(greeting)")),(0,r.kt)("p",null,"Sets the values of greeting text."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"greeting"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array<Object>")),(0,r.kt)("td",{parentName:"tr",align:null},"Array of ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/reference/messenger-profile-api/greeting#properties"},"greeting"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.setGreeting([\n  {\n    locale: 'default',\n    text: 'Hello!',\n  },\n]);\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"deletegreeting"},(0,r.kt)("inlineCode",{parentName:"h4"},"deleteGreeting")),(0,r.kt)("p",null,"Deletes greeting text."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.deleteGreeting();\n")),(0,r.kt)("a",{id:"domain-whitelist"}),(0,r.kt)("h3",{id:"whitelisted-domains---official-docs"},"Whitelisted Domains - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/messenger-profile/domain-whitelisting"},"Official Docs")),(0,r.kt)("h4",{id:"getwhitelisteddomains"},(0,r.kt)("inlineCode",{parentName:"h4"},"getWhitelistedDomains")),(0,r.kt)("p",null,"Retrieves the current value of whitelisted domains."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.getWhitelistedDomains().then((domains) => {\n  console.log(domains);\n  // ['http://www.example.com/']\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"setwhitelisteddomainsdomains"},(0,r.kt)("inlineCode",{parentName:"h4"},"setWhitelistedDomains(domains)")),(0,r.kt)("p",null,"Sets the values of whitelisted domains."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"domains"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array<String>")),(0,r.kt)("td",{parentName:"tr",align:null},"Array of ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/reference/messenger-profile-api/domain-whitelisting#properties"},"whitelisted_domain"),".")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.setWhitelistedDomains(['www.example.com']);\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"deletewhitelisteddomains"},(0,r.kt)("inlineCode",{parentName:"h4"},"deleteWhitelistedDomains")),(0,r.kt)("p",null,"Deletes whitelisted domains."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.deleteWhitelistedDomains();\n")),(0,r.kt)("a",{id:"account-linking-url"}),(0,r.kt)("h3",{id:"account-linking-url---official-docs"},"Account Linking URL - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/reference/messenger-profile-api/account-linking-url"},"Official Docs")),(0,r.kt)("h4",{id:"getaccountlinkingurl"},(0,r.kt)("inlineCode",{parentName:"h4"},"getAccountLinkingURL")),(0,r.kt)("p",null,"Retrieves the current value of account linking URL."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.getAccountLinkingURL().then((accountLinking) => {\n  console.log(accountLinking);\n  // {\n  //   accountLinkingUrl:\n  //     'https://www.example.com/oauth?response_type=code&client_id=1234567890&scope=basic',\n  // }\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"setaccountlinkingurlurl"},(0,r.kt)("inlineCode",{parentName:"h4"},"setAccountLinkingURL(url)")),(0,r.kt)("p",null,"Sets the values of account linking URL."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"url"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Account linking URL.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.setAccountLinkingURL(\n  'https://www.example.com/oauth?response_type=code&client_id=1234567890&scope=basic'\n);\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"deleteaccountlinkingurl"},(0,r.kt)("inlineCode",{parentName:"h4"},"deleteAccountLinkingURL")),(0,r.kt)("p",null,"Deletes account linking URL."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.deleteAccountLinkingURL();\n")),(0,r.kt)("br",null),(0,r.kt)("a",{id:"target-audience"}),(0,r.kt)("h3",{id:"target-audience---official-docs"},"Target Audience - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/messenger-profile/target-audience"},"Official Docs")),(0,r.kt)("h4",{id:"gettargetaudience"},(0,r.kt)("inlineCode",{parentName:"h4"},"getTargetAudience")),(0,r.kt)("p",null,"Retrieves the current value of target audience."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.getTargetAudience().then((targetAudience) => {\n  console.log(targetAudience);\n  // {\n  //   audienceType: 'custom',\n  //   countries: {\n  //     whitelist: ['US', 'CA'],\n  //   },\n  // }\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"settargetaudiencetype-whitelist-blacklist"},(0,r.kt)("inlineCode",{parentName:"h4"},"setTargetAudience(type, whitelist, blacklist)")),(0,r.kt)("p",null,"Sets the values of target audience."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"type"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Audience type. Valid values include `all"),(0,r.kt)("td",{parentName:"tr",align:null},"custom"),(0,r.kt)("td",{parentName:"tr",align:null},"none`.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"whitelist"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array<String>")),(0,r.kt)("td",{parentName:"tr",align:null},"List of ISO 3166 Alpha-2 codes. Users in any of the blacklist countries won't see your bot on discovery surfaces on Messenger Platform."),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"blacklist"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array<String>")),(0,r.kt)("td",{parentName:"tr",align:null},"List of ISO 3166 Alpha-2 codes. Users in any of the whitelist countries will see your bot on discovery surfaces on Messenger Platform."),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("p",null,"Exmaple:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.setTargetAudience('custom', ['US', 'CA'], ['UK']);\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"deletetargetaudience"},(0,r.kt)("inlineCode",{parentName:"h4"},"deleteTargetAudience")),(0,r.kt)("p",null,"Deletes target audience."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.deleteTargetAudience();\n")),(0,r.kt)("br",null),(0,r.kt)("a",{id:"chat-extension-home-url"}),(0,r.kt)("h3",{id:"chat-extension-home-url---official-docs"},"Chat Extension Home URL - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/messenger-profile/home-url"},"Official Docs")),(0,r.kt)("h4",{id:"gethomeurl"},(0,r.kt)("inlineCode",{parentName:"h4"},"getHomeURL")),(0,r.kt)("p",null,"Retrieves the current value of chat extension home URL."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.getHomeURL().then((chatExtension) => {\n  console.log(chatExtension);\n  // {\n  //   url: 'http://petershats.com/send-a-hat',\n  //   webviewHeightRatio: 'tall',\n  //   inTest: true,\n  // }\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"sethomeurlurl-attributes"},(0,r.kt)("inlineCode",{parentName:"h4"},"setHomeURL(url, attributes)")),(0,r.kt)("p",null,"Sets the values of chat extension home URL."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"url"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"The URL to be invoked from drawer.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"attributes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Other ",(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/reference/messenger-profile-api/home-url#properties"},"properties")," of home URL.")))),(0,r.kt)("p",null,"Exmaple:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.setHomeURL('http://petershats.com/send-a-hat', {\n  webviewHeightRatio: 'tall',\n  inTest: true,\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"deletehomeurl"},(0,r.kt)("inlineCode",{parentName:"h4"},"deleteHomeURL")),(0,r.kt)("p",null,"Deletes chat extension home URL."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.deleteHomeURL();\n")),(0,r.kt)("br",null),(0,r.kt)("h3",{id:"handover-protocol-api"},"Handover Protocol API"),(0,r.kt)("h4",{id:"passthreadcontroluserid-targetappid-metadata---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"passThreadControl(userId, targetAppId, metadata)")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/pass-thread-control"},"Official Docs")),(0,r.kt)("p",null,"Passes thread control from your app to another app."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"The PSID of the message recipient.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"targetAppId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Number")),(0,r.kt)("td",{parentName:"tr",align:null},"The app ID of the Secondary Receiver to pass thread control to.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"metadata"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Metadata passed to the receiving app in the ",(0,r.kt)("inlineCode",{parentName:"td"},"pass_thread_control")," webhook event.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.passThreadControl(USER_ID, APP_ID, 'free formed text for another app');\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"passthreadcontroltopageinboxuserid-metadata---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"passThreadControlToPageInbox(userId, metadata)")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/handover-protocol/pass-thread-control#page_inbox"},"Official Docs")),(0,r.kt)("p",null,'Passes thread control from your app to "Page Inbox" app.'),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"The PSID of the message recipient.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"metadata"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Metadata passed to the receiving app in the ",(0,r.kt)("inlineCode",{parentName:"td"},"pass_thread_control")," webhook event.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.passThreadControlToPageInbox(\n  USER_ID,\n  'free formed text for another app'\n);\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"takethreadcontroluserid-metadata---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"takeThreadControl(userId, metadata)")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/take-thread-control"},"Official Docs")),(0,r.kt)("p",null,"Takes control of a specific thread from a Secondary Receiver app."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"The PSID of the message recipient.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"metadata"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Metadata passed back to the secondary app in the ",(0,r.kt)("inlineCode",{parentName:"td"},"take_thread_control")," webhook event.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.takeThreadControl(USER_ID, 'free formed text for another app');\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"requestthreadcontroluserid-metadata---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"requestThreadControl(userId, metadata)")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/handover-protocol/request-thread-control/"},"Official Docs")),(0,r.kt)("p",null,"Requests control of a specific thread from a Primary Receiver app."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"The PSID of the message recipient.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"metadata"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Metadata passed to the primary app in the ",(0,r.kt)("inlineCode",{parentName:"td"},"request_thread_control")," webhook event.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.requestThreadControl(USER_ID, 'free formed text for primary app');\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"getthreadowner---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"getThreadOwner")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/handover-protocol/get-thread-owner"},"Official Docs")),(0,r.kt)("p",null,"Get the current thread owner."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"The PSID of the message recipient.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.getThreadOwner(USER_ID).then((threadOwner) => {\n  console.log(threadOwner);\n  // {\n  //   appId: '12345678910'\n  // }\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"getsecondaryreceivers---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"getSecondaryReceivers")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/secondary-receivers"},"Official Docs")),(0,r.kt)("p",null,"Retrieves the list of apps that are Secondary Receivers for a page."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'client.getSecondaryReceivers().then((receivers) => {\n  console.log(receivers);\n  // [\n  //   {\n  //     "id": "12345678910",\n  //     "name": "David\'s Composer"\n  //   },\n  //   {\n  //     "id": "23456789101",\n  //     "name": "Messenger Rocks"\n  //   }\n  // ]\n});\n')),(0,r.kt)("br",null),(0,r.kt)("a",{id:"page-messaging-insights-api"}),(0,r.kt)("h3",{id:"page-messaging-insights-api---official-docs"},"Page Messaging Insights API - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/insights/page-messaging"},"Official Docs")),(0,r.kt)("p",null,"Requirements for insights API:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Page token must have ",(0,r.kt)("inlineCode",{parentName:"li"},"read_insights")," permission."),(0,r.kt)("li",{parentName:"ul"},"Insights are only generated for a Facebook Page that has more than ",(0,r.kt)("inlineCode",{parentName:"li"},"30")," people that like it.")),(0,r.kt)("h4",{id:"getinsightsmetrics-options"},(0,r.kt)("inlineCode",{parentName:"h4"},"getInsights(metrics, options)")),(0,r.kt)("p",null,"Retrieves the insights of your Facebook Page."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"metrics"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://developers.facebook.com/docs/messenger-platform/reference/messaging-insights-api/#metrics"},"The metrics")," you want to check.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional arguments.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.since"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional. UNIX timestamp of the start time to get the metric for.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.until"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional. UNIX timestamp of the end time to get the metric for.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'client\n  .getInsights([\'page_messages_reported_conversations_unique\'])\n  .then((counts) => {\n    console.log(counts);\n    // [\n    //   {\n    //     "name": "page_messages_reported_conversations_unique",\n    //     "period": "day",\n    //     "values": [\n    //       {\n    //         "value": "<VALUE>",\n    //         "endTime": "<UTC_TIMESTAMP>"\n    //       },\n    //       {\n    //         "value": "<VALUE>",\n    //         "endTime": "<UTC_TIMESTAMP>"\n    //       }\n    //     ]\n    //   }\n    // ]\n  });\n')),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"getblockedconversationsoptions"},(0,r.kt)("inlineCode",{parentName:"h4"},"getBlockedConversations(options)")),(0,r.kt)("p",null,"Retrieves the number of conversations with the Page that have been blocked."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional arguments.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.since"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional. UNIX timestamp of the start time to get the metric for.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.until"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional. UNIX timestamp of the end time to get the metric for.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'client.getBlockedConversations().then((counts) => {\n  console.log(counts);\n  //   {\n  //     "name": "page_messages_blocked_conversations_unique",\n  //     "period": "day",\n  //     "values": [\n  //       {\n  //         "value": "<VALUE>",\n  //         "endTime": "<UTC_TIMESTAMP>"\n  //       },\n  //       {\n  //         "value": "<VALUE>",\n  //         "endTime": "<UTC_TIMESTAMP>"\n  //       }\n  //    ]\n  //   }\n});\n')),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"getreportedconversationsoptions"},(0,r.kt)("inlineCode",{parentName:"h4"},"getReportedConversations(options)")),(0,r.kt)("p",null,"Retrieves the number of conversations from your Page that have been reported by people for reasons such as spam, or containing inappropriate content."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional arguments.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.since"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional. UNIX timestamp of the start time to get the metric for.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.until"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional. UNIX timestamp of the end time to get the metric for.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'client.getReportedConversations().then((counts) => {\n  console.log(counts);\n  //   {\n  //     "name": "page_messages_reported_conversations_unique",\n  //     "period": "day",\n  //     "values": [\n  //       {\n  //         "value": "<VALUE>",\n  //         "endTime": "<UTC_TIMESTAMP>"\n  //       },\n  //       {\n  //         "value": "<VALUE>",\n  //         "endTime": "<UTC_TIMESTAMP>"\n  //       }\n  //     ]\n  //   }\n});\n')),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"getopenconversationsoptions"},(0,r.kt)("inlineCode",{parentName:"h4"},"getOpenConversations(options)")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Deprecated")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("inlineCode",{parentName:"p"},"getOpenConversations()")," is deprecated on May 11, 2018.\nCurrently this method returns the same result as the replacing method getTotalMessagingConnections()")),(0,r.kt)("p",null,"Retrieves the total number of open conversations between your Page and people in Messenger. This metric excludes blocked conversations."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional arguments.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.since"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional. UNIX timestamp of the start time to get the metric for.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.until"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional. UNIX timestamp of the end time to get the metric for.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.getOpenConversations().then((result) => {\n  console.log(result);\n  // {\n  //   name: 'page_messages_total_messaging_connections',\n  //   period: 'day',\n  //   values: [\n  //     { value: 1000, endTime: '2018-03-12T07:00:00+0000' },\n  //     { value: 1000, endTime: '2018-03-13T07:00:00+0000' },\n  //   ],\n  //   title: 'Messaging connections',\n  //   description:\n  //     'Daily: The number of people who have sent a message to your business, not including people who have blocked or reported your business on Messenger. (This number only includes connections made since October 2016.)',\n  //   id:\n  //     '1386473101668063/insights/page_messages_total_messaging_connections/day',\n  // }\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"gettotalmessagingconnectionsoptions"},(0,r.kt)("inlineCode",{parentName:"h4"},"getTotalMessagingConnections(options)")),(0,r.kt)("p",null,"Retrieves the number of people who have sent a message to your business, not including people who have blocked or reported your business on Messenger. (This number only includes connections made since October 2016.)"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional arguments.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.since"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional. UNIX timestamp of the start time to get the metric for.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.until"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional. UNIX timestamp of the end time to get the metric for.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.getTotalMessagingConnections().then((result) => {\n  console.log(result);\n  // {\n  //   name: 'page_messages_total_messaging_connections',\n  //   period: 'day',\n  //   values: [\n  //     { value: 1000, endTime: '2018-03-12T07:00:00+0000' },\n  //     { value: 1000, endTime: '2018-03-13T07:00:00+0000' },\n  //   ],\n  //   title: 'Messaging connections',\n  //   description:\n  //     'Daily: The number of people who have sent a message to your business, not including people who have blocked or reported your business on Messenger. (This number only includes connections made since October 2016.)',\n  //   id:\n  //     '1386473101668063/insights/page_messages_total_messaging_connections/day',\n  // }\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"getnewconversationsoptions"},(0,r.kt)("inlineCode",{parentName:"h4"},"getNewConversations(options)")),(0,r.kt)("p",null,"Retrieves the number of messaging conversations on Facebook Messenger that began with people who had never messaged with your business before."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional arguments.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.since"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional. UNIX timestamp of the start time to get the metric for.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.until"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional. UNIX timestamp of the end time to get the metric for.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.getNewConversations().then((result) => {\n  console.log(result);\n  // {\n  //   name: 'page_messages_new_conversations_unique',\n  //   period: 'day',\n  //   values: [\n  //     { value: 1, endTime: '2018-03-12T07:00:00+0000' },\n  //     { value: 0, endTime: '2018-03-13T07:00:00+0000' },\n  //   ],\n  //   title: 'Daily unique new conversations count',\n  //   description:\n  //     'Daily: The number of messaging conversations on Facebook Messenger that began with people who had never messaged with your business before.',\n  //   id:\n  //     '1386473101668063/insights/page_messages_new_conversations_unique/day',\n  // }\n});\n")),(0,r.kt)("br",null),(0,r.kt)("a",{id:"built-in-nlp-api"}),(0,r.kt)("h3",{id:"built-in-nlp-api---official-docs"},"Built-in NLP API - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/built-in-nlp"},"Official Docs")),(0,r.kt)("h4",{id:"setnlpconfigsconfig"},(0,r.kt)("inlineCode",{parentName:"h4"},"setNLPConfigs(config)")),(0,r.kt)("p",null,"Set values of NLP configs."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"config"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null},"Configuration of NLP.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"config.nlpEnabled"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional. Either enable NLP or disable NLP for that Page.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"config.model"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional. Specifies the NLP model to use. Either one of ",(0,r.kt)("inlineCode",{parentName:"td"},"{CHINESE, CROATIAN, DANISH, DUTCH, ENGLISH, FRENCH_STANDARD, GERMAN_STANDARD, HEBREW, HUNGARIAN, IRISH, ITALIAN_STANDARD, KOREAN, NORWEGIAN_BOKMAL, POLISH, PORTUGUESE, ROMANIAN, SPANISH, SWEDISH, VIETNAMESE}"),", or ",(0,r.kt)("inlineCode",{parentName:"td"},"CUSTOM"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"config.customToken"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional. Access token from Wit.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"config.verbose"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional. Specifies whether verbose mode if enabled, which returns extra information like the position of the detected entity in the query.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"config.nBest"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Number")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional. The number of entities to return, in descending order of confidence. Minimum 1. Maximum 8. Defaults to 1.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.setNLPConfigs({\n  nlpEnabled: true,\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"enablenlp"},(0,r.kt)("inlineCode",{parentName:"h4"},"enableNLP")),(0,r.kt)("p",null,"Enabling Built-in NLP."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.enableNLP();\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"disablenlp"},(0,r.kt)("inlineCode",{parentName:"h4"},"disableNLP")),(0,r.kt)("p",null,"Disabling Built-in NLP."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.disableNLP();\n")),(0,r.kt)("br",null),(0,r.kt)("a",{id:"event-logging-api"}),(0,r.kt)("h3",{id:"event-logging-api---official-docs"},"Event Logging API - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/app-events/bots-for-messenger#logging-custom-events"},"Official Docs")),(0,r.kt)("h4",{id:"logcustomeventsactivity"},(0,r.kt)("inlineCode",{parentName:"h4"},"logCustomEvents(activity)")),(0,r.kt)("p",null,"Log custom events by using the ",(0,r.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/graph-api/reference/application/activities/"},"Application Activities Graph API")," endpoint."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"activity"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"activity.appId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Number")),(0,r.kt)("td",{parentName:"tr",align:null},"ID of the app.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"activity.pageId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"ID of the page.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"activity.pageScopedUserId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID of the recipient.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"activity.events"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array<Object>")),(0,r.kt)("td",{parentName:"tr",align:null},"Custom events.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.logCustomEvents({\n  appId: APP_ID,\n  pageId: PAGE_ID,\n  pageScopedUserId: USER_ID,\n  events: [\n    {\n      _eventName: 'fb_mobile_purchase',\n      _valueToSum: 55.22,\n      _fbCurrency: 'USD',\n    },\n  ],\n});\n")),(0,r.kt)("a",{id:"id-matching-api"}),(0,r.kt)("h3",{id:"id-matching-api---official-docs"},"ID Matching API - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/identity/id-matching"},"Official Docs")),(0,r.kt)("h4",{id:"getidsforapps-userid-appsecret-options-"},(0,r.kt)("inlineCode",{parentName:"h4"},"getIdsForApps({ userId, appSecret, ...options })")),(0,r.kt)("p",null,"Given a user ID for an app, retrieve the IDs for other apps owned by the same business"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"appSecret"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Secret of the app.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.app"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"The app to retrieve the IDs.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.page"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"The page to retrieve the IDs.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client\n  .getIdsForApps({\n    userId: USER_ID,\n    appSecret: APP_SECRET,\n  })\n  .then((result) => {\n    console.log(result);\n    // {\n    //   data: [\n    //     {\n    //       id: '10152368852405295',\n    //       app: {\n    //         category: 'Business',\n    //         link: 'https://www.facebook.com/games/?app_id=1419232575008550',\n    //         name: \"John's Game App\",\n    //         id: '1419232575008550',\n    //       },\n    //     },\n    //     {\n    //       id: '645195294',\n    //       app: {\n    //         link: 'https://apps.facebook.com/johnsmovieappns/',\n    //         name: 'JohnsMovieApp',\n    //         namespace: 'johnsmovieappns',\n    //         id: '259773517400382',\n    //       },\n    //     },\n    //   ],\n    //   paging: {\n    //     cursors: {\n    //       before: 'MTQ4OTU4MjQ5Nzc4NjY4OAZDZDA',\n    //       after: 'NDAwMDExOTA3MDM1ODMwA',\n    //     },\n    //   },\n    // };\n  });\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"getidsforpages-userid-appsecret-options-"},(0,r.kt)("inlineCode",{parentName:"h4"},"getIdsForPages({ userId, appSecret, ...options })")),(0,r.kt)("p",null,"Given a user ID for a Page (associated with a bot), retrieve the IDs for other Pages owned by the same business."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Page-scoped user ID.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"appSecret"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Secret of the app.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.app"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"The app to retrieve the IDs.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options.page"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"The page to retrieve the IDs.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client\n  .getIdsForPages({\n    userId: USER_ID,\n    appSecret: APP_SECRET,\n  })\n  .then((result) => {\n    console.log(result);\n    // {\n    //   data: [\n    //     {\n    //       id: '12345123', // The psid for the user for that page\n    //       page: {\n    //         category: 'Musician',\n    //         link:\n    //           'https://www.facebook.com/Johns-Next-Great-Thing-380374449010653/',\n    //         name: \"John's Next Great Thing\",\n    //         id: '380374449010653',\n    //       },\n    //     },\n    //   ],\n    //   paging: {\n    //     cursors: {\n    //       before: 'MTQ4OTU4MjQ5Nzc4NjY4OAZDZDA',\n    //       after: 'NDAwMDExOTA3MDM1ODMwA',\n    //     },\n    //   },\n    // };\n  });\n")),(0,r.kt)("br",null),(0,r.kt)("a",{id:"persona-api"}),(0,r.kt)("h3",{id:"persona-api---official-docs"},"Persona API - ",(0,r.kt)("a",{parentName:"h3",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/personas"},"Official Docs")),(0,r.kt)("h4",{id:"createpersonapersona---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"createPersona(persona)")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/personas/#create"},"Official Docs")),(0,r.kt)("p",null,"Creates a persona."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"persona.name"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String")),(0,r.kt)("td",{parentName:"tr",align:null},"name of the persona.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"persona.profilePictureUrl"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String")),(0,r.kt)("td",{parentName:"tr",align:null},"profile picture of the persona.")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"createPersona({\n  name: 'John Mathew',\n  profilePictureUrl: 'https://facebook.com/john_image.jpg',\n}).then((persona) => {\n  console.log(persona);\n  // {\n  //  \"id\": \"<PERSONA_ID>\"\n  // }\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"getpersonapersonaid---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"getPersona(personaId)")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/personas/#get"},"Official Docs")),(0,r.kt)("p",null,"Retrieves the name and profile picture of a persona."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"personaId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String")),(0,r.kt)("td",{parentName:"tr",align:null},"ID of the persona.")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'getPersona(personaId).then((persona) => {\n  console.log(persona);\n  // {\n  //   "name": "John Mathew",\n  //   "profilePictureUrl": "https://facebook.com/john_image.jpg",\n  //   "id": "<PERSONA_ID>"\n  // }\n});\n')),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"getpersonascursor-string---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"getPersonas(cursor?: string)")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/personas/#retrieve_all"},"Official Docs")),(0,r.kt)("p",null,"Retrieves personas associated with a Page using the cursor."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"cursor"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String")),(0,r.kt)("td",{parentName:"tr",align:null},"pagination cursor.")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'getPersonas(cursor).then((personas) => {\n  console.log(personas);\n  // {\n  //   "data": [\n  //     {\n  //       "name": "John Mathew",\n  //       "profilePictureUrl": "https://facebook.com/john_image.jpg",\n  //       "id": "<PERSONA_ID>"\n  //     },\n  //     {\n  //       "name": "David Mark",\n  //       "profilePictureUrl": "https://facebook.com/david_image.jpg",\n  //       "id": "<PERSONA_ID>"\n  //     }\n  //   ],\n  //   "paging": {\n  //     "cursors": {\n  //       "before": "QVFIUlMtR2ZATQlRtVUZALUlloV1",\n  //       "after": "QVFIUkpnMGx0aTNvUjJNVmJUT0Yw"\n  //     }\n  //   }\n  // }\n});\n')),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"getallpersonas---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"getAllPersonas()")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/personas/#retrieve_all"},"Official Docs")),(0,r.kt)("p",null,"Retrieves all the personas associated with a Page."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'getAllPersonas().then((personas) => {\n  console.log(personas);\n  //   [\n  //     {\n  //       "name": "John Mathew",\n  //       "profilePictureUrl": "https://facebook.com/john_image.jpg",\n  //       "id": "<PERSONA_ID>"\n  //     },\n  //     {\n  //       "name": "David Mark",\n  //       "profilePictureUrl": "https://facebook.com/david_image.jpg",\n  //       "id": "<PERSONA_ID>"\n  //     }\n  //   ]\n});\n')),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"deletepersonapersonaid---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"deletePersona(personaId)")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/messenger-platform/send-messages/personas/#remove"},"Official Docs")),(0,r.kt)("p",null,"Deletes a persona."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"personaId"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"String")),(0,r.kt)("td",{parentName:"tr",align:null},"ID of the persona.")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"deletePersona(personaId);\n")),(0,r.kt)("br",null),(0,r.kt)("h3",{id:"others"},"Others"),(0,r.kt)("h4",{id:"debugtoken---official-docs"},(0,r.kt)("inlineCode",{parentName:"h4"},"debugToken")," - ",(0,r.kt)("a",{parentName:"h4",href:"https://developers.facebook.com/docs/facebook-login/access-tokens/debugging-and-error-handling"},"Official Docs")),(0,r.kt)("p",null,"Gets token information."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.debugToken().then((pageInfo) => {\n  console.log(pageInfo);\n  // {\n  //    appId: '000000000000000',\n  //    application: 'Social Cafe',\n  //    expiresAt: 1352419328,\n  //    isValid: true,\n  //    issuedAt: 1347235328,\n  //    scopes: ['email', 'user_location'],\n  //    userId: 1207059,\n  //  }\n});\n")),(0,r.kt)("h4",{id:"createsubscription"},(0,r.kt)("inlineCode",{parentName:"h4"},"createSubscription")),(0,r.kt)("p",null,"Create new Webhooks subscriptions."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"accessToken"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"App access token.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"callbackUrl"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"The URL that will receive the POST request when an update is triggered, and a GET request when attempting this publish operation.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"verifyToken"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"An arbitrary string that can be used to confirm to your server that the request is valid.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"fields"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array<String>")),(0,r.kt)("td",{parentName:"tr",align:null},"One or more of the set of valid fields in this object to subscribe to.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"object"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"Indicates the object type that this subscription applies to. Defaults to ",(0,r.kt)("inlineCode",{parentName:"td"},"page"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"includeValues"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,r.kt)("td",{parentName:"tr",align:null},"Indicates if change notifications should include the new values.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.createSubscription({\n  accessToken: APP_ACCESS_TOKEN,\n  callbackUrl: 'https://mycallback.com',\n  fields: ['messages', 'messaging_postbacks', 'messaging_referrals'],\n  verifyToken: VERIFY_TOKEN,\n});\n")),(0,r.kt)("p",null,"Or provide app id and app secret instead of app access token:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.createSubscription({\n  accessToken: `${APP_ID}|${APP_SECRET}`,\n  callbackUrl: 'https://mycallback.com',\n  fields: ['messages', 'messaging_postbacks', 'messaging_referrals'],\n  verifyToken: VERIFY_TOKEN,\n});\n")),(0,r.kt)("p",null,"Default Fields:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"messages")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"messaging_postbacks")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"messaging_optins")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"messaging_referrals")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"messaging_handovers")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"messaging_policy_enforcement"))),(0,r.kt)("h4",{id:"getsubscriptions"},(0,r.kt)("inlineCode",{parentName:"h4"},"getSubscriptions")),(0,r.kt)("p",null,"Get the current Webhook subscriptions set up on your app."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"accessToken"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"App access token.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.getSubscriptions({\n  accessToken: APP_ACCESS_TOKEN,\n});\n")),(0,r.kt)("p",null,"Or provide app id and app secret instead of app access token:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.getSubscriptions({\n  accessToken: `${APP_ID}|${APP_SECRET}`,\n});\n")),(0,r.kt)("h4",{id:"getpagesubscription"},(0,r.kt)("inlineCode",{parentName:"h4"},"getPageSubscription")),(0,r.kt)("p",null,"Get the current page subscriptions set up on your app."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"accessToken"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String")),(0,r.kt)("td",{parentName:"tr",align:null},"App access token.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.getPageSubscription({\n  accessToken: APP_ACCESS_TOKEN,\n});\n")),(0,r.kt)("p",null,"Or provide app id and app secret instead of app access token:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.getPageSubscription({\n  accessToken: `${APP_ID}|${APP_SECRET}`,\n});\n")),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"getpageinfo"},(0,r.kt)("inlineCode",{parentName:"h4"},"getPageInfo")),(0,r.kt)("p",null,"Get page name and page id using Graph API."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"client.getPageInfo().then((page) => {\n  console.log(page);\n  // {\n  //   name: 'Bot Demo',\n  //   id: '1895382890692546',\n  // }\n});\n")),(0,r.kt)("h4",{id:"getmessagingfeaturereview"},(0,r.kt)("inlineCode",{parentName:"h4"},"getMessagingFeatureReview")),(0,r.kt)("p",null,"Programmatically check the feature submission status of Page-level Platform features."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'client.getMessagingFeatureReview().then((data) => {\n  console.log(data);\n  // [\n  //   {\n  //     "feature": "subscription_messaging",\n  //     "status": "<pending|rejected|approved|limited>"\n  //   }\n  // ]\n});\n')),(0,r.kt)("h2",{id:"debug-tips"},"Debug Tips"),(0,r.kt)("h3",{id:"log-requests-details"},"Log Requests Details"),(0,r.kt)("p",null,"To enable default request debugger, use following ",(0,r.kt)("inlineCode",{parentName:"p"},"DEBUG")," env variable:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"DEBUG=messaging-api-messenger\n")),(0,r.kt)("h2",{id:"test"},"Test"),(0,r.kt)("h3",{id:"send-requests-to-your-dummy-server"},"Send Requests to Your Dummy Server"),(0,r.kt)("p",null,"To avoid sending requests to the real Messenger server, provide the ",(0,r.kt)("inlineCode",{parentName:"p"},"origin")," option in your ",(0,r.kt)("inlineCode",{parentName:"p"},"bottender.js.config")," file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = {\n  channels: {\n    messenger: {\n      enabled: true,\n      path: '/webhooks/messenger',\n      pageId: process.env.MESSENGER_PAGE_ID,\n      accessToken: process.env.MESSENGER_ACCESS_TOKEN,\n      appId: process.env.MESSENGER_APP_ID,\n      appSecret: process.env.MESSENGER_APP_SECRET,\n      verifyToken: process.env.MESSENGER_VERIFY_TOKEN,\n      origin:\n        process.env.NODE_ENV === 'test'\n          ? 'https://mydummytestserver.com'\n          : undefined,\n    },\n  },\n};\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Warning:")," Don't do this on the production server.")))}c.isMDXComponent=!0}}]);