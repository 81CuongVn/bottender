"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[70197],{3905:(e,r,n)=>{n.d(r,{Zo:()=>p,kt:()=>d});var t=n(67294);function o(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function i(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function a(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?i(Object(n),!0).forEach((function(r){o(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function s(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=t.createContext({}),c=function(e){var r=t.useContext(l),n=r;return e&&(n="function"==typeof e?e(r):a(a({},r),e)),n},p=function(e){var r=c(e.components);return t.createElement(l.Provider,{value:r},e.children)},u={inlineCode:"code",wrapper:function(e){var r=e.children;return t.createElement(t.Fragment,{},r)}},m=t.forwardRef((function(e,r){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=c(n),d=o,f=m["".concat(l,".").concat(d)]||m[d]||u[d]||i;return n?t.createElement(f,a(a({ref:r},p),{},{components:n})):t.createElement(f,a({ref:r},p))}));function d(e,r){var n=arguments,o=r&&r.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=m;var s={};for(var l in r)hasOwnProperty.call(r,l)&&(s[l]=r[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var c=2;c<i;c++)a[c]=n[c];return t.createElement.apply(null,a)}return t.createElement.apply(null,n)}m.displayName="MDXCreateElement"},35794:(e,r,n)=>{n.r(r),n.d(r,{frontMatter:()=>s,contentTitle:()=>l,metadata:()=>c,toc:()=>p,default:()=>m});var t=n(87462),o=n(63366),i=(n(67294),n(3905)),a=["components"],s={id:"channel-line-errors",title:"Error Handling in LINE",original_id:"channel-line-errors"},l=void 0,c={unversionedId:"channel-line-errors",id:"version-1.3.0/channel-line-errors",isDocsHomePage:!1,title:"Error Handling in LINE",description:"Customizing the Error Message in Different Environments Using Reply/Push",source:"@site/versioned_docs/version-1.3.0/channel-line-errors.md",sourceDirName:".",slug:"/channel-line-errors",permalink:"/docs/1.3.0/channel-line-errors",editUrl:"https://github.com/Yoctol/bottender/edit/master/docs/versioned_docs/version-1.3.0/channel-line-errors.md",tags:[],version:"1.3.0",lastUpdatedBy:"\u5433\u6771\u66c4 Wu, Dung-Ie",lastUpdatedAt:1636542901,formattedLastUpdatedAt:"11/10/2021",frontMatter:{id:"channel-line-errors",title:"Error Handling in LINE",original_id:"channel-line-errors"},sidebar:"version-1.3.0/docs",previous:{title:"LINE Front-end Framework (LIFF)",permalink:"/docs/1.3.0/channel-line-liff"},next:{title:"Migrating from LINE SDK for Node.js",permalink:"/docs/1.3.0/channel-line-migrating-from-sdk"}},p=[{value:"Customizing the Error Message in Different Environments Using Reply/Push",id:"customizing-the-error-message-in-different-environments-using-replypush",children:[],level:2}],u={toc:p};function m(e){var r=e.components,n=(0,o.Z)(e,a);return(0,i.kt)("wrapper",(0,t.Z)({},u,n,{components:r,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"customizing-the-error-message-in-different-environments-using-replypush"},"Customizing the Error Message in Different Environments Using Reply/Push"),(0,i.kt)("p",null,"In development and production environments, you may choose different approaches for sending error messages, since LINE ",(0,i.kt)("inlineCode",{parentName:"p"},"Reply API")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"Push API")," have fundamental differences."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"Push API")," allows developers to send messages directly to users anytime. However, it is only free when your bot is in the development environment. In the production environment, you may refer to ",(0,i.kt)("a",{parentName:"p",href:"https://www.linebiz.com/id-en/service/line-account-connect/"},"LINE Official Account Subscription Plans")," to check out the message fee.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"Reply API")," is free. But bots can only reply with a message to a user who interacts with your LINE official account."))),(0,i.kt)("p",null,"When it comes to error handling in the development environment, you can benefit from the free ",(0,i.kt)("inlineCode",{parentName:"p"},"Push API")," to send error messages. But in the production environment, if your bot is still available to reply, you can choose to respond to your user an error message."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"// _error.js\n\nmodule.exports = async function HandleError(context, props) {\n console.error(props.error);\n if (process.env.NODE_ENV === 'development') {\n await context.pushText('There are some unexpected errors happened. Please try again later, sorry for the inconvenience.');\n await context.pushText(props.error.stack);\n } else if (!context.isReplied) {\n // or you can choose not to reply any error messages\n await context.replyText('There are some unexpected errors happened. Please try again later, sorry for the inconvenience.'\n }\n if (process.env.NODE_ENV === 'production') {\n // send your error to the error tracker, for example: Sentry\n }\n};\n")),(0,i.kt)("p",null,"For more information, you may refer to ",(0,i.kt)("a",{parentName:"p",href:"/docs/1.3.0/the-basics-errors"},"Customizing the Error Message")," for the basic knowledge of error handling."))}m.isMDXComponent=!0}}]);